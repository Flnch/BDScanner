!function(){function e(){var e;try{return e=top.document,e.piximediaiframetest=!0,top}catch(t){}try{return e=a.parent.parent.parent.document,e.piximediaiframetest=!0,a.parent.parent.parent.window}catch(t){}try{return e=a.parent.parent.document,e.piximediaiframetest=!0,a.parent.parent.window}catch(t){}try{return e=a.parent.document,e.piximediaiframetest=!0,a.parent.window}catch(t){}return window}var t,i,a=window,o='!function(e,t){window._piximediaBrowserDetect=function(){"use strict;";function i(e){var i=t.createElement("a");return i.href=e,i}function a(){try{return""===top.document.referrer?!0:i(top.document.referrer).hostname==top.window.location.hostname?!1:!0}catch(a){}try{return""===t.referrer?!0:i(t.referrer).hostname==e.location.hostname?!1:!0}catch(a){return!1}}function o(){var t="",i="";return e.screen&&e.screen.width&&e.screen.height&&(t=e.screen.width,i=e.screen.height),{width:t,height:i,resolution:parseInt(t,10)&&parseInt(i,10)?t+"x"+i:"n/a"}}function r(){try{var e,t,i=parent.window?parent.window:window;return"undefined"!=typeof i.innerWidth?(e=i.innerWidth,t=i.innerHeight):"undefined"!=typeof i.document.documentElement&&"undefined"!=typeof i.document.documentElement.clientWidth&&0!==i.document.documentElement.clientWidth?(e=i.document.documentElement.clientWidth,t=i.document.documentElement.clientHeight):(e=i.document.getElementsByTagName("body")[0].clientWidth,t=i.document.getElementsByTagName("body")[0].clientHeight),{width:e,height:t}}catch(a){return{width:"",height:""}}}function n(){var e="unknown";return-1!=navigator.appVersion.indexOf("Win")?e="windows":-1!=navigator.appVersion.indexOf("Mac")?e="mac_os":-1!=navigator.appVersion.indexOf("X11")?e="unix":-1!=navigator.appVersion.indexOf("Linux")&&(e="linux"),{name:e}}function s(){var e,t,i,a=navigator.userAgent,o=navigator.appName,r=""+parseFloat(navigator.appVersion),n=parseInt(navigator.appVersion,10);return-1!=(t=a.indexOf("Opera"))?(o="opera",r=a.substring(t+6),-1!=(t=a.indexOf("Version"))&&(r=a.substring(t+8))):-1!=(t=a.indexOf("MSIE"))?(o="msie",r=a.substring(t+5)):-1!=(t=a.indexOf("Edge"))?(o="edge",r=a.substring(t+5)):-1!=(t=a.indexOf("Trident"))?(o="trident",r=a.substring(t+8)):-1!=(t=a.indexOf("Chrome"))?(o="chrome",r=a.substring(t+7)):-1!=(t=a.indexOf("Safari"))?(o="safari",r=a.substring(t+7),-1!=(t=a.indexOf("Version"))&&(r=a.substring(t+8))):-1!=(t=a.indexOf("Firefox"))?(o="firefox",r=a.substring(t+8)):-1!=(t=a.indexOf("AppleWebKit"))?(o=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Version)/i.test(navigator.userAgent)?"webviewsafari":"applewebkit",r=a.substring(t+8)):-1!=(t=a.indexOf("Twitter for"))?o="webview":(e=a.lastIndexOf(" ")+1)<(t=a.lastIndexOf("/"))&&(o=a.substring(e,t),r=a.substring(t+1),o.toLowerCase()==o.toUpperCase()&&(o=navigator.appName)),a.match(/FB[A-Z]/)&&(o="webviewfb"),a.match(/GSA\\//)&&(o="webview"),-1!=(i=r.indexOf(";"))&&(r=r.substring(0,i)),-1!=(i=r.indexOf(" "))&&(r=r.substring(0,i)),n=parseInt(""+r,10),isNaN(n)&&(r=""+parseFloat(navigator.appVersion),n=parseInt(navigator.appVersion,10)),n>100&&(n=""),o.indexOf("/")>=0&&(o=o.split("/")[0]),{name:o,full_version:r,major_version:n}}function l(){var e=new Date;return{hour:e.getHours(),week_day:e.getDay()}}function d(){var t=e.name,i=/^pm\\-(\\S*)\\-(\\S*)\\-(\\d*)\\-(\\d*)\\-(\\S*)\\-(\\d*)$/,a=[];return t&&""!==t&&i.exec(t)?(a=i.exec(t),{site_id:a[1]&&""!==a[1]?a[1]:"",placement_id:a[2]&&""!==a[2]?a[2]:"",ad_id:a[3]&&""!==a[3]?a[3]:"",creative_id:a[4]&&""!==a[4]?a[4]:"",options:a[5]&&""!==a[5]?a[5]:"",sequence_number:a[6]&&""!==a[6]?a[6]:""}):{site_id:"",placement_id:"",ad_id:"",creative_id:"",options:"",sequence_number:""}}function c(){return{adr:function(){return void 0}()||""}}function p(){try{return window.top._piximediaiframetest=!0,window&&window.parent&&window.hasOwnProperty&&!window.parent.hasOwnProperty?!0:!1}catch(e){return!0}}function m(){var e,t;try{e=top.location.hostname,t=top.location.pathname}catch(i){}if(!e)try{e=parent.parent.parent.location.hostname,t=parent.parent.parent.location.pathname}catch(i){}if(!e)try{e=parent.parent.location.hostname,t=parent.parent.location.pathname}catch(i){}if(!e)try{e=parent.location.hostname,t=parent.location.pathname}catch(i){}if(!e)try{e=window.location.hostname,t=window.location.pathname}catch(i){}return{crossdomain:p()?1:0,hostname:e,path:(t||"").substring(0,128).replace(/%.?$/,""),section:(((t||"").match(/^\\/([a-z0-9]+)/)||[])[1]||"").substring(0,32).replace(/%.?$/,""),firstpage:a()?1:0}}function u(e){var t,i,a={};if(e){for(t in e)if(e.hasOwnProperty(t)&&v[t])if("all"===e[t])for(i in v[t])v[t].hasOwnProperty(i)&&(a[t+"_"+i]=v[t][i]);else for(i in e[t])e[t].hasOwnProperty(i)&&v[t][i]&&(a[t+"_"+i]=v[t][i])}else for(t in v)if(v.hasOwnProperty(t))for(i in v[t])v[t].hasOwnProperty(i)&&(a[t+"_"+i]=v[t][i]);return a}var h={flash_major:"F",flash_minor:"f",flash_release:"r",viewport_width:"w",viewport_height:"h",screen_width:"W",screen_height:"H",screen_resolution:"R",os_name:"O",browser_name:"b",browser_full_version:"U",browser_major_version:"u",external_site_id:"s",external_placement_id:"p",external_ad_id:"a",external_creative_id:"c",external_options:"o",external_sequence_number:"n",time_hour:"T",time_week_day:"y",location_crossdomain:"X",location_hostname:"N",location_section:"S",location_path:"P",location_firstpage:"i",alliance_adr:"A",alliance_rtapos:"x"},f=function(){var e="undefined",t="object",i="Shockwave Flash",a="ShockwaveFlash.ShockwaveFlash",o="application/x-shockwave-flash",r=window,n=document,s=navigator,l=!1,d=function(){var d=typeof n.getElementById!=e&&typeof n.getElementsByTagName!=e&&typeof n.createElement!=e,c=s.userAgent.toLowerCase(),p=s.platform.toLowerCase(),m=p?/win/.test(p):/win/.test(c),u=p?/mac/.test(p):/mac/.test(c),h=/webkit/.test(c)?parseFloat(c.replace(/^.*webkit\\/(\\d+(\\.\\d+)?).*$/,"$1")):!1,f=!function(){return 1}(),v=[0,0,0],g=null;if(typeof s.plugins!=e&&typeof s.plugins[i]==t)g=s.plugins[i].description,!g||typeof s.mimeTypes!=e&&s.mimeTypes[o]&&!s.mimeTypes[o].enabledPlugin||(l=!0,f=!1,g=g.replace(/^.*\\s+(\\S+\\s+\\S+$)/,"$1"),v[0]=parseInt(g.replace(/^(.*)\\..*$/,"$1"),10),v[1]=parseInt(g.replace(/^.*\\.(.*)\\s.*$/,"$1"),10),v[2]=/[a-zA-Z]/.test(g)?parseInt(g.replace(/^.*[a-zA-Z]+(.*)$/,"$1"),10):0);else if(typeof r.ActiveXObject!=e)try{var b=new r.ActiveXObject(a);b&&(g=b.GetVariable("$version"),g&&(f=!0,g=g.split(" ")[1].split(","),v=[parseInt(g[0],10),parseInt(g[1],10),parseInt(g[2],10)]))}catch(y){}return{w3:d,pv:v,wk:h,ie:f,win:m,mac:u}}();return{getFlashPlayerVersion:function(){return{major:d.pv[0],minor:d.pv[1],release:d.pv[2]}}}}(),v={};v.flash=f.getFlashPlayerVersion(),v.viewport=r(),v.screen=o(),v.os=n(),v.browser=s(),v.external=d(),v.time=l(),v.location=m(),v.alliance=c();var g="";return{getData:function(){var e=arguments[0]||!1;return u(e)},setId:function(e){g=e},toString:function(e,t){e=e||!1;var i,a=t?t:this.getData(e),o="";for(i in a)a.hasOwnProperty(i)&&(o+=(h[i]?h[i]:i)+"="+a[i].toString().replace(/\\||%7c/gi,"-")+";");return o+=g+";"}}}()}(window,document),function(){"use strict";function e(){try{var e=window.piximedia&&window.piximedia.pam?window.piximedia.pam:{},t=(e.globalOptions||{}).pageLoadStart||new Date(0),i=((new Date-t)/1e3).toString();return i.match(/\\..$/)&&(i+="00"),i.match(/\\...$/)&&(i+="0"),"[pam]["+i+"] "}catch(a){return"[pam] "}}function t(){try{var e,i,a=!1;if(m.piximedia&&m.piximedia.pmLastLogPrefixTime&&(e=m.piximedia.pmLastLogPrefixTime,a=!0),m.piximedia&&m.piximedia.pam){var o=m.piximedia&&m.piximedia.pam?m.piximedia.pam:{};i=(o.globalOptions||{}).pageLoadStart||new Date(0),e||(e=i)}var r=new Date,n=((r-e)/1e3).toString(),s=i?((r-i)/1e3).toString():"";return m.piximedia&&(m.piximedia.pmLastLogPrefixTime=r),t.last=r,n.match(/\\..$/)&&(n+="00"),n.match(/\\...$/)&&(n+="0"),s.match(/\\..$/)&&(s+="00"),s.match(/\\...$/)&&(s+="0"),a||(n=""),"[pam]["+(s?s+(n?" +":""):"")+n+"] "}catch(l){return"[pam] "}}function i(t,a){i.trail=i.trail||[],i.trail.push("["+t+"] "+e()+Array.prototype.slice.call(a).join(", "))}function a(){i("debug",arguments);var e=Array.prototype.slice.call(arguments);e[0]&&(e[0]=t()+e[0]),m.console&&m.console.debug&&(m.console.debug.apply?m.console.debug.apply(m.console,e):m.console.debug(e[0]))}function o(){return void i("debug",arguments)}function r(){return void i("warn",arguments)}function n(){return void i("error",arguments)}function s(){return void i("log",arguments)}function l(e,t){this.events={},this.id=t,this.target=e||this}function d(e,t){var i=this;this.pam=e,this._originalAd=t;for(var a in t)t.hasOwnProperty(a)&&(this[a]=t[a]);e&&e.eventEmitterForObject&&(e.eventEmitterForObject(this,this.uniqid),i.pam.master&&(e.on("something-has-been-seen",function(){i.somethingHasBeenSeen()}),i.on("send-cpmview-click",function(){i.sendCpmviewClick()}),i.on("load-event-once",function(e,t,a){i.loadEventOnce(e,t,a)})))}function c(e,t,i,o,r){var s=this;this.spoolFullSetup=[];var p=(o||{}).mode||"alliance",u=e+"/"+t+":"+p,h=o&&o.uniqid?o.uniqid:"pam"+Math.round(1e16*Math.random());this.mode=p,this.siteId=e,this.key=u,this.placementId=t,this.allAvailableAds=i,this.positions={},this.globalOptions=o||{},this.master=!this.globalOptions.hosted,this.clickUrl=r,this.uniqKey=h,this.syncTLH(),this.globalOptions.uniqid=h,m.piximedia._.pams=m.piximedia._.pams||{},m.piximedia._.pams[u]=m.piximedia._.pams[h]=this,m.piximedia.pam&&this.globalOptions.prebid||(m.piximedia.pam=this),this.availableAds=[],this.decorativeAds=[],this.realAds=[],this.globalEmitter=new l,this.eventEmitterForObject(this,"pam:"+this.globalOptions.uniqid);var f=!1;try{var g;if(m.piximedia.topWindowName)g=m.piximedia.topWindowName;else{var b=s.getTopmostWindow();m.piximedia.topWindowName=g=b.name}(g||"").match(/pmpassback/)&&(f=!0,this.setupPassbackDebugInfos()),(g||"").match(/pmtimepos/)&&(c.debugTime=v=a),(g||"").match(/pmdebugpam/)}catch(y){}v("PAM()");for(var w=0;w<i.length;w++){var x=i[w];if(x.uniqid||(x.uniqid="ad"+this.rand()),x.use&&x.use.positions&&x.use.positions.length)for(var I=0;I<x.use.positions.length;I++)"string"==typeof x.use.positions[I]&&(x.use.positions[I]=x.use.positions[I].replace(/\\s+[a-z0-9]+:optional_mp/g,"").replace(/\\s+[a-z0-9]+:block_mp/g,""));if(x.require&&x.require.positions&&x.require.positions.length)for(var S=0;S<x.require.positions.length;S++)"string"==typeof x.require.positions[S]&&(x.require.positions[S]=x.require.positions[S].replace(/\\s+[a-z0-9]+:optional_mp/g,"").replace(/\\s+[a-z0-9]+:block_mp/g,""));if(this.globalOptions.policies&&this.globalOptions.policies.length)for(var k=0;k<this.globalOptions.policies.length;k++){var P=this.globalOptions.policies[k];try{new Function(["pam","ad","PolicyUtils"],P).call(x,s,x,m.piximedia.PolicyUtils)}catch(y){n(y)}}if(x.remapSnippets&&x.remapSnippets.length)for(var C=0;C<x.remapSnippets.length;C++){var _=x.remapSnippets[C];try{new Function(["pam"],_).call(x,s)}catch(y){n(y)}}var A=!0;if(x.require&&x.require.context)for(var T=0;T<x.require.context.length;T++)if(!x.require.context[T]()){A=!1;break}if(f&&!x.passback&&(A=!1),A){var E=new d(this,x);this.availableAds.push(E),E.passback||this.realAds.push(E),x.require&&x.require.positions&&x.require.positions.length||!x.use||!x.use.positions||!x.use.positions.length||this.decorativeAds.push(E)}}this.fullSetup&&this.fullSetup(),this.globalOptions.prebid&&this.prebid()}function p(e){var t=document.createElement("a");return t.href=e,t.hostname}var m=window,u=document;if(!m.piximedia){try{!m.piximedia&&parent.piximedia&&(m.piximedia=parent.piximedia)}catch(h){}try{!m.piximedia&&parent.parent.piximedia&&(m.piximedia=parent.parent.piximedia)}catch(h){}try{!m.piximedia&&top.piximedia&&(m.piximedia=top.piximedia)}catch(h){}m.piximedia=m.piximedia||{}}try{parent.piximedia=m.piximedia}catch(h){}try{parent.parent.piximedia=m.piximedia}catch(h){}try{top.piximedia=m.piximedia}catch(h){}if(m.piximedia._=m.piximedia._||{},m._piximedia=m._piximedia||{},m._piximedia.images=m._piximedia.images||[],!m.piximedia._.PAM_CORE_LOADED){m.piximedia._.PAM_CORE_LOADED=!0;var f=2014031001;i.get=function(){return i.trail||[]};var v=function(){};l.globalEmitter=new l,l.forObject=function(e,t,i){if(i=i||{},e._eventEmitter&&!i.purge)return e._eventEmitter;var a=new l(e);if(e.fire=e.emit=function(){return a.fire.apply(a,arguments)},e.fireLocal=e.emitLocal=function(){return a.fireLocal.apply(a,arguments)},e.addListener=e.on=function(){return a.addListener.apply(a,arguments)},e.removeListener=function(){return a.removeListener.apply(a,arguments)},e.removeAllListeners=function(){return a.removeAllListeners.apply(a,arguments)},e._eventEmitter=a,t){a.id=t;var o=i.globalEmitter||l.globalEmitter;a.globalEmitter=o,o.ids=o.ids||{},o.ids[t]=e}return a},l.getID=function(e){return e instanceof l?e.id:e._eventEmitter?e._eventEmitter.id:void 0},l.prototype.fireEventToID=function(e,t,i){if(i=i||{},this.ids&&this.ids.hasOwnProperty(e)){var a=this.ids[e];try{for(var o=[],r=0;r<t.length;r++)o.push(t[r]);"string"==typeof t[0]&&(t[0]={name:t[0]}),i.exceptTo&&(t[0].exceptTo=i.exceptTo),a.fire.apply(a,t)}catch(s){n("Caught error when handling event",s)}}},l.prototype.fire=function(e){var t,i=arguments.length-1,a=this.target||this;"string"==typeof e&&(e={name:e}),t=e.name;var o=this.globalEmitter||l.globalEmitter;if(this!==o&&!e.local&&!this.ids){for(var r=[],n=0;n<arguments.length;n++)r.push(arguments[n]);o.fire({name:"event",exceptTo:e.exceptTo},a,r)}if(this.events[t]){var s,d=[];for(s=0;s<this.events[t].length;s++)d.push(this.events[t][s]);for(s=0;s<d.length;s++){var c,p=d[s];if(!e.exceptTo||e.exceptTo!==p){switch(i){case 0:c=p.call(a);break;case 1:c=p.call(a,arguments[1]);break;case 2:c=p.call(a,arguments[1],arguments[2]);break;default:for(var m=[],u=0;i>u;u++)m[u]=arguments[u+1];try{c=p.apply(a,m)}catch(h){}}if(void 0!==c)return c}}}return void 0},l.prototype.fireLocal=function(e){for(var t=[{name:e,local:!0}],i=1;i<arguments.length;i++)t.push(arguments[i]);return this.fire.apply(this,t)},l.prototype.emit=l.prototype.fire,l.prototype.emitLocal=l.prototype.fireLocal,l.prototype.addListener=function(e,t){return this.events[e]=this.events[e]||[],this.events[e].push(t),this.target},l.prototype.on=l.prototype.addListener,l.prototype.removeListener=function(e,t){var i=this.events[e];if(i){for(var a=[],o=i.length-1;o>=0;o--){var r=i[o];r!==t&&a.push(r)}this.events[e]=a}return this.target},l.prototype.removeAllListeners=function(){return this.events={},this.target},c.prototype.syncTLH=function(){if(this.globalOptions.tlh)return this.globalOptions.tlh;var e=this.getTopmostWindow(),t=e.document.referrer,i=e===window.top,a=i?e.location.hostname:p(t||e.location.href);this.globalOptions.tlh=(a||"").toString().toLowerCase().replace(/[^a-z0-9_.-]/g,"X")},c.prototype.getTopmostWindow=function(){return this.getDocumentAndWindowInfos().window},c.prototype.getTopmostDocument=function(){return this.getDocumentAndWindowInfos().document},c.prototype.getDocumentAndWindowInfos=function g(){if(g._cache)return g._cache;var e,t={};if(!t.window)try{e=m.parent.parent.parent.document,e._piximediaiframetest=!0,t.window=m.parent.parent.parent.window}catch(i){}if(!t.window)try{e=m.parent.parent.document,e._piximediaiframetest=!0,t.window=m.parent.parent.window}catch(i){}if(!t.window)try{e=m.parent.document,e._piximediaiframetest=!0,t.window=m.parent.window}catch(i){}if(t.window||(t.window=window),!t.document)try{e=m.parent.parent.parent.document,e._piximediaiframetest=!0,t.document=e}catch(i){}if(!t.document)try{e=m.parent.parent.document,e._piximediaiframetest=!0,t.document=e}catch(i){}if(!t.document)try{e=m.parent.document,e._piximediaiframetest=!0,t.document=e}catch(i){}return t.document||(t.document=document),(!this.msie||this.msie>8)&&(g._cache=t),t},c.prototype.getBirthdateCookie=function(){if(this.canWriteCookies())for(var e=u.cookie.split(/; */),t=/pixi_birthdate=(.*)/,i=e.length-1;i>=0;i--){var a=e[i].match(t);if(a&&a[1])return parseInt(a[1],10)}},c.prototype.getBirthdateLS=function(){try{if(m.localStorage&&m.localStorage.getItem)return parseInt(m.localStorage.getItem("pixi_birthdate"),10)||void 0}catch(e){}},c.prototype.hello=function(){o("Waiting for full setup");var e=this,t=arguments;this.waitFullSetup(function(){e.hello.apply(e,t)})},c.prototype.rand=function(){return Math.round(1e16*Math.random())},c.prototype.eventEmitterForObject=function(e,t,i){var a={};if(i)for(var o in a)a.hasOwnProperty(o)&&(a[o]=i[o]);return a.globalEmitter=this.globalEmitter,l.forObject(e,t,a)},c.prototype.waitFullSetup=function(e){return this.hasBeenFullySetup?e():void this.on("full-setup",e)},c.get=c.prototype.get=function(e,t,i){var a=e+"/"+t+":"+(i||"alliance");return(m.piximedia._.pams||{})[a]},c.VERSION=f,c.DEBUG=!1,c.debugTime=v,c.debugTimeImpl=a,c.logTrail=i,c.EventEmitter=l,l.forObject(c),c.debug=o,c.log=s,c.warn=r,c.error=n,c.Ad=d,m.piximedia["PAM"+f]=c,(!m.piximedia.PAM||m.piximedia.PAM.VERSION<f)&&(m.piximedia.PAM=c)}}(),function(){"use strict";function e(e){return"document.write(\'"+e.replace(/\\\\/g,"\\\\\\\\").replace(/\\r/g,"\\\\r").replace(/\\n/g,"\\\\n").replace(/\'/g,"\\\\\'")+"\');"}function t(e){for(var t=e.replace(/\\\\r/g,"\\n").split("\\n"),i="",a=0;a<t.length;a++){var o=t[a];o&&(i+="document.write(\'"+o.replace(/\\\\/g,"\\\\\\\\").replace(/\'/g,"\\\\\'")+"\');")}return i}function i(e){return"[object Array]"===Object.prototype.toString.call(e)}function a(e,t){if(Array.prototype.indexOf)return Array.prototype.indexOf.call(e,t);for(var i=0;i<e.length;i++)if(e[i]===t)return i;return-1}function o(e){var t=document.createElement("a");return t.href=e,t.hostname}function r(e){var t=e.document.referrer,i=e===window.top,a=i?e.location.hostname:o(t||e.location.href);return(a||"").toString().toLowerCase().replace(/[^a-z0-9_.-]/g,"X")}function n(e,t,i){for(var a=[],o=0;o<e.length;o++){var r,n=e[o];r="function"==typeof t?t(n):i?n[t]===i:n===t,r||a.push(n)}return a}function s(e){var t=new Image;C._piximedia.images.push(t),t.src=e}function l(e){var t=(e||"").split("."),i=t.shift();return t.sort(function(e,t){var i=e.match(/^[0-9]+$/),a=t.match(/^[0-9]+$/);if(i&&a){var o=parseInt(e,10),r=parseInt(t,10);return r>o?-1:o>r?1:0}return a&&!i?-1:i&&!a?1:t>e?-1:e>t?1:0}),i+(t.length?"."+t.join("."):"")}function d(e){var t=e.match(/^ *([a-zA-Z0-9_.-]+) *=>/);return t?t[1]:e}function c(e){return e.toString().match(/^[0-9]+%$/)?parseInt(e,10)+"pct":parseInt(e,10)}function p(e){if(Object.keys)return Object.keys(e);var t=Object.prototype.hasOwnProperty,i=!{toString:null}.propertyIsEnumerable("toString"),a=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],o=a.length;if("object"!=typeof e&&("function"!=typeof e||null===e))throw new TypeError("Object.keys called on non-object");var r,n,s=[];for(r in e)t.call(e,r)&&s.push(r);if(i)for(n=0;o>n;n++)t.call(e,a[n])&&s.push(a[n]);return s}function m(e){switch(e.nodeType){case Node.DOCUMENT_NODE:return m(e.documentElement||e.children[0]);case Node.ELEMENT_NODE:var t={name:e.nodeName,children:[]},i=e.attributes;for(var a in i)if(i.hasOwnProperty(a)){var o=i[a];t[o.nodeName]=o.nodeValue}for(var r={},n=0;n<e.childNodes.length;n++){var s=m(e.childNodes[n]);"object"==typeof s&&(r[s.name]=!0,t[s.name]=t[s.name]||[],t[s.name].push(s)),t.children.push(s)}1===t.children.length&&(t.value=t.children[0]);for(var l in r)r.hasOwnProperty(l)&&1===t[l].length&&(t[l+"_value"]=t[l][0]);return t;case Node.TEXT_NODE:case Node.CDATA_SECTION_NODE:return e.textContent}}function u(e){e.style.margin=0,e.style.padding=0,e.style.border=0,e.style.position="relative",e.style.boxSizing="content-box",e.style.overflow="visible",e.style.cursor="default",e.style.lineHeight="normal",e.style.wordSpacing="normal",e.style.fontSize="11px",e.style.fontStyle="normal",e.style.letterSpacing="0px",e.style.WebkitFontSmoothing="antialiased",e.style.MozOsxFontSmoothing="grayscale",e.style.fontFamily="Arial, Helvetica, sans-serif",e.style.left=e.style.right=0,e.style.textAlign="left",e.style.display="block",e.style.clear="both",e.style.direction="ltr",e.style.maxWidth="none"}function h(e,t){"https:"===window.location.protocol&&e.match(/^http:/)&&(W("Forcing https because http will fail: "+e),e=e.replace(/^http:/,"https:"));var i=Y[e];if(i)return i.loaded?t(i.xhr):void i.on("loaded",t);var a=new window.XMLHttpRequest;i=Y[e]=new G,i.xhr=a;var o=function(){i.loaded=!0,i.emitLocal("loaded",a)};i.on("loaded",t),a.withCredentials=!0,a.timeout=2e3,a.onreadystatechange=function(){if(4===a.readyState){if(200===a.status)return o();a=new window.XMLHttpRequest,a.timeout=2e3,a.onreadystatechange=function(){return 4===a.readyState?o():void 0},a.open("GET",e.replace(/%n|\\[random_number\\]|\\[cachebuster\\]|\\[random\\]|\\[timestamp\\]/gi,Math.round(1e16*Math.random()).toString()),!0),a.send()}},a.open("GET",e.replace(/%n|\\[random_number\\]|\\[cachebuster\\]|\\[random\\]|\\[timestamp\\]/gi,Math.round(1e16*Math.random()).toString()),!0),a.send()}function f(e,t,i){$.call(this,e,i),this.position=t}function v(e,t){for(var i in e)e.hasOwnProperty(i)&&(this[i]=e[i]);this.cgAd=e,this.cgOptions=t,this.cgOptions.id_reporting&&(this.creativeId=this.cgOptions.id_reporting),this.cgOptions.args&&(this.args=this.cgOptions.args)}function g(e,t,i){var a=this;this.pam=e,this.options=i||{},this.position=t,this.active=!0,t.iframes=t.iframes||[],t.iframes.push(this),this.pam.eventEmitterForObject(this,"iframe:"+t.positionId),a.pam.master&&(this.on("host-room",function(e,t){a.hostRoom(e,t)}),this.on("enable-responsive-events",function(){a.enableResponsiveEvents()}),this.on("remove",function(){a.pam.emit("iframe:remove",t.positionId),t.decoratedBy&&t.decoratedBy.emit("iframe:remove",t.positionId)})),this.trackVisibility=this.pam.master&&t.decoratedBy?t.decoratedBy.getAllVisibilityForPixiPositionId(t.pixiPositionId||t.decoratedBy.getPixiPositionIdForPositionId(t.positionId)):[],this.trackingVisibility=!1,this.on("error",function(e){a.lastError=e}),this.options.doNotResize||this.on("resize",function(i){if(i.resizedAt||(i.resizedAt=new Date),a.active){var o=function(){if(!a.iframe)return setTimeout(o,50);if(a.pam.master)if(i.onlyIfNoSurface&&(parseInt(a.iframe.style.width,10)||0)>1&&(parseInt(a.iframe.style.height,10)||0)>1)W("Not resizing iframe because it already has a surface");else if(setTimeout(function(){e.emit("position-has-been-decorated",t.positionId),e.tryAndActivateAds()},0),i.animation)a.pam.loadLibrary("sweetlib.js",function(){C.piximedia.SweetLib.animate(a.iframe,i.animation).play()}),a.pam.debug("** Resizing iframe for PAM "+a.pam.siteId+"/"+a.pam.placementSlotId+":"+a.pam.mode+" to animation="+JSON.stringify(i.animation));else{var r,n,s,l,d,p,m,h,f,v,g=i.css||{},b=g.position,y=!1;if(a.position.positionId.match(/^room\\./))for(var w=a.iframe.parentNode;w&&void 0!==w.className;w=w.parentNode)if(w.className.match(/pmRoom|pmBodyPosition/)){r=w;break}for(var x=a.iframe.parentNode;x&&void 0!==x.className;x=x.parentNode)if(x.className.match(/pmContainer/)){n=x;break}n&&n.parentNode&&n.parentNode.parentNode&&n.parentNode.parentNode.className.match(/pmMarkerContainer/)&&(s=n.parentNode.parentNode),n&&n.parentNode&&n.parentNode&&n.parentNode.className.match(/pmMarkerContainer/)&&(s=n.parentNode),n&&n.parentNode&&n.parentNode&&n.parentNode.className.match(/pmFillerRoomContainer/)&&(l=n.parentNode),i.width&&(i.width.toString().match(/^.*%$/)?(m=i.width,f=-parseInt(i.width,10)/2+"%",v=m,d=1):(d=parseInt(i.width,10),f=-d/2+"px",v=d+"px")),i.height&&(i.height.toString().match(/^.*%$/)?(h=i.height,y=!0,p=1):p=parseInt(i.height,10)),d&&l&&l.parentNode&&(l.parentNode.style.width=m||d+"px"),(d||p)&&n&&(i.resizeParent||n.className.match(/pmZeroSurface/))&&(n.className=n.className.replace(/pmZeroSurface/,""),n.style.position="relative"),g.hasOwnProperty("display")&&(""===g.display||"none"===g.display||"block"===g.display)&&n&&(n.style.display=g.display),function(e){return i.wallpaper?(i.container=i.container||{},i.container.css=i.container.css||{},i.container.css.position=i.container.css.position||"relative",i.container.css.overflow=i.container.css.overflow||"hidden",i.container.css.left=i.container.css.left||"50%",i.container.css.right=i.container.css.right||"",i.container.css.marginLeft=i.container.css.marginLeft||f,i.container.css.maxWidth=i.container.css.maxWidth||v,a.pam.loadLibrary("sweetlib.js",function(){var o=C.piximedia.SweetLib,r=function(e){for(e=e.parentNode;e;e=e.nextSibling)if(e.children&&e.children.length&&!(e.id||"").match(/^(pm|pixi)/)){for(var t,i=0;i<e.children.length;i++){var a=e.children[i];if(a&&!(a.id||"").match(/^(pm|pixi)/)&&!(a.className||"").match(/pm|pixi/)){t=!0;break}}if(!t)continue;var r=o.gbcr(e);if(r.width&&r.height)return e}z("Couldn\'t find page container after marker")};a.pam.loadMarkerForPosition(t,function(n){var s,l=r(n);return o.fixPageContainerForWallpaper(l),void 0!==i.moveTop&&(s=o.moveTopOfPageContainer(l,i.moveTop,i.moveTopOptions),a.pageContainer=l,a.moveTop=i.moveTop),i.bodyBackgroundColor&&o.setBodyBackgroundColor({color:i.bodyBackgroundColor}),s&&!s.pmHostedRoom&&(s.pmHostedRoom=!0,a.pam.hostRoom("pcfiller",{masterPositionId:t.positionId},function(){var e=s.ownerDocument.createElement("div");return e.className="pmFillerRoomContainer",u(e),s.style.marginLeft="auto",s.style.marginRight="auto",s.appendChild(e),e})),e()})}),void 0):e()}(function(){if(!d&&!p||t.firstResizedAt||(t.firstResizedAt=i.resizedAt,a.pam.firstResizedAt=a.pam.firstResizedAt||t.firstResizedAt,H("First resized "+t.positionId+": "+i.width+"x"+i.height)),d){a.resizedWidth=!0;var e,o=(m||"").match(/^([0-9]+)%$/);o&&(e=parseFloat(o[1],10)),"absolute"!==b||i.takeover||(a.iframe.parentNode.style.width=m||d+"px"),W("Resizing iframe to width="+(m||d)),a.iframe.style.width=m||d+"px",a.iframe.style.maxWidth="none",n&&("absolute"===b&&i.takeover?n.style.position="absolute":"fixed"===b&&i.takeover&&i.fixBodyPosition&&n.parentNode&&(n.parentNode.className||"").toString().match(/pmBodyPosition/)&&(n.style.position="absolute",n.parentNode.style.left=0,n.parentNode.style.right=0,n.parentNode.style.position="fixed"),t.decoratedBy&&t.decoratedBy.shouldBeBeforeBody&&t.decoratedBy.shouldBeBeforeBody(t)?(e?n.style.left=(100-e)/2+"%":(n.style.left="50%",n.style.marginLeft=-parseFloat(a.iframe.style.width,10)/2+"px"),n.style.marginRight="",i.resizeFifContainerWidth&&(n.style.width=m||d+"px")):(parseInt(n.style.width||0,10)<=1||i.wallpaper||i.resizeFifContainerWidth)&&(n.style.width=m||d+"px",n.style.marginLeft=n.style.marginRight="auto")),r&&(r.style.width=m||d+"px",r.className.match(/pmCentered/)&&(r.style.marginLeft=Math.round(-d/2)+"px"))}p&&(a.resizedHeight=!0,"absolute"!==b||i.takeover||(a.iframe.parentNode.style.height=h||p+"px"),W("Resizing iframe to height="+(h||p)),a.iframe.style.height=r&&y?"100%":h||p+"px",r&&!i.takeover&&(r.style.height=h||p+"px"),r&&y&&(r.style.height=h||p+"px",n&&(n.style.height="100%")),i.resizeFifContainer&&n&&(n.style.height=h||p+"px"));for(var l in g)if(g.hasOwnProperty(l))try{a.iframe.style[l]=g[l]}catch(u){}if(n){if(i.expected){var f="pmContainerExpectedSurface"+c(i.expected.width||0)+"x"+c(i.expected.height||0);n.className=(n.className||"").replace(/ +pmContainerExpectedSurface[0-9%pct]+x[0-9%pct]+/g,"")+" "+f}var v="pmContainerSurface"+c(a.iframe.style.width||0)+"x"+c(a.iframe.style.height||0);if(n.className=(n.className||"").replace(/ +pmContainerSurface[0-9%pct]+x[0-9%pct]+/g,"")+" "+v,i.wallpaper&&(n.className=(n.className||"").replace(/ +pmContainerSurfaceWallpaper/,"")+" pmContainerSurfaceWallpaper"),i.container){var w=i.container.css;if(w)for(var x in w)if(w.hasOwnProperty(x))try{n.style[x]=w[x]}catch(u){}}}a.pam.debug("** Resizing iframe for PAM "+a.pam.siteId+"/"+a.pam.placementSlotId+":"+a.pam.mode+" to width="+i.width+", height="+i.height),!i.dontCenter&&i.width,a.pam.loadLibrary("sweetlib.js",function(){var e=C.piximedia.SweetLib;e.breakOverflow(a.iframe,i)}),i.stickToTop?a.pam.loadLibrary("sweetlib.js",function(){var e=C.piximedia.SweetLib;if("mobile"!==e.device.name){var t=function(){var t,o,r,n,l,d,c=C.piximedia.SweetLib.gbcrfp(a.iframe).top,p=function(t){if(t){var i=a.iframe.parentNode.style.paddingTop;a.iframe.parentNode.style.paddingTop="0px";var o=e.gbcr(a.iframe.parentNode);a.iframe.parentNode.style.paddingTop=i;var r=o.top,n=Math.max(0,t-r);Math.round(parseFloat(a.iframe.parentNode.style.paddingTop,10)||0)!==Math.round(n)&&(a.iframe.parentNode.style.hasOwnProperty("transition")?(a.iframe.parentNode.style.transition="padding 0.2s",a.iframe.parentNode.style.paddingTop=n+"px",C.piximedia.SweetLib.addEventOnce(a.iframe.parentNode,"transitionend",function(){a.iframe.parentNode.style.transition=""})):a.iframe.parentNode.style.paddingTop=n+"px")}else a.iframe.parentNode.style.paddingTop=""},m=function(){if(a.iframe.pmFixed)a.iframe.pmFixed=!1,a.iframe.style.position="",a.iframe.style.marginTop="",a.iframe.parentNode.style.position=t,a.iframe.parentNode.style.height=o,a.iframe.parentNode.style.top=r,s&&(s.style.position=n,s.style.top=l,s.style.overflow=d);else{var e=C.piximedia.SweetLib.gbcrfp(a.iframe).top;e&&(c=e)}},u=function(e){a.iframe.pmFixed||(a.iframe.pmFixed=!0,a.iframe.style.position="relative",a.iframe.style.top="0px",t=a.iframe.parentNode.style.position,o=a.iframe.parentNode.style.height,r=a.iframe.parentNode.style.top,a.iframe.parentNode.style.position="fixed",a.iframe.parentNode.style.top=-(e.translateX||0)+"px",a.iframe.parentNode.style.height=(parseFloat(a.iframe.style.height,10)||0)+(parseFloat(a.iframe.parentNode.style.paddingTop,10)||0)+"px",s&&(n=s.style.position,l=s.style.top,d=s.style.overflow,s.style.position="fixed",s.style.top=0,s.style.overflow=""))},h=function(){if(!(a.iframe.ownerDocument.body.className||"").match(/pmBodyAnimation/)&&!(a.pam.getTopmostDocument().body.className||"").match(/pmBodyAnimation/)){if(!a.iframe||!a.iframe.parentNode)return void(a.iframe._readjustFixedParentNodeMissing||(W("readjustFixed(): parent node missing"),a.iframe._readjustFixedParentNodeMissing=!0));var t=a.iframe.ownerDocument.getElementById("pmFiller"),o=0,r=0;if(t)if(o=C.piximedia.SweetLib.gbcr(t).top,i.stickToTopFromTop)o+=i.stickToTopFromTop,r=-i.stickToTopFromTop;else if(i.stickToTopOnPCTop){var n=C.piximedia.SweetLib.gbcr(t);o=n.bottom,r=-n.height}else o=C.piximedia.SweetLib.gbcr(t).top;var s=C.piximedia.SweetLib.getHeightOfPositionFixedHeaders(a.iframe.ownerDocument,void 0,{force:!0})||0;if(p(s),Math.round(o)>Math.round(s))m();else{if(a&&a.position&&a.position.decoratedBy&&a.position.decoratedBy.args&&a.position.decoratedBy.args.allpapr_filler_fix_margin_top){t&&(t.style.marginTop="0px",o=e.gbcrfp(t).top,t.style.marginTop=Math.max(0,s-o)+"px");var l=e.gbcrfp(a.iframe).top;a.iframe.parentNode.style.paddingTop=Math.max(0,(parseFloat(a.iframe.parentNode.style.paddingTop,10)||0)+s-l)+"px"}u({hopfh:s,translateX:-r})}a.pam.sendFillerTopChange()}};h();var f=setInterval(h,100);return{remove:function(){clearInterval(f),m()}}};a.scrollToTheTop&&a.scrollToTheTop.remove(),a.scrollToTheTop=t()}}):i.stickToTop===!1&&a.pam.loadLibrary("sweetlib.js",function(){var e=C.piximedia.SweetLib;if("mobile"!==e.device.name){var t=function(){var t=function(){var t=a.iframe.ownerDocument.getElementById("pmFiller"),i=C.piximedia.SweetLib.getHeightOfPositionFixedHeaders(a.iframe.ownerDocument,void 0,{force:!0})||0;if(t){t.style.marginTop="0px";var o=e.gbcrfp(t).top;t.style.marginTop=Math.max(0,i-o)+"px"}var r=e.gbcrfp(a.iframe).top;a.iframe.parentNode.style.paddingTop=Math.max(0,(parseFloat(a.iframe.parentNode.style.paddingTop,10)||0)+i-r)+"px",a.pam.sendFillerTopChange()},i=setInterval(t,100);return{remove:function(){clearInterval(i),t()}}};a.scrollToTheTop&&a.scrollToTheTop.remove(),a.scrollToTheTop=t()}})})}else{a.iframe.style.width="100%",a.iframe.style.height="100%";var I=a.iframe.parentNode,S=a.iframe.contentDocument&&a.iframe.contentDocument.body?a.iframe.contentDocument.body:void 0,k=S?S.parentNode:void 0;I&&(I.style.width="100%",I.style.height="100%"),S&&(S.style.width="100%",S.style.height="100%"),k&&(k.style.width="100%",k.style.height="100%"),i&&i.css&&i.css.background&&(a.iframe.style.background=i.css.background)}if(a.trackVisibility.length&&!a.trackingVisibility&&parseInt(a.iframe.style.width,10)&&parseInt(a.iframe.style.height,10)){a.trackingVisibility=!0,W("Tracking visibility for",a);var P=function(e){return function(){if(W("Reached visibility for position"),t.loadEventWait(e.event?e.event:"AP_VIEWABLE:"+Math.round(100*e.threshold)+"PCT:"+e.duration+"S",{detail:t.pixiPositionId||t.decoratedBy.getPixiPositionIdForPositionId(t.positionId)||t.positionId\n}),.5===e.threshold&&1===e.duration){var i="isAnyViewable50pct1sForCampaign"+(t.decoratedBy||t.decoratedByCG||{}).campaignId;a.pam[i]||(a.pam[i]=!0,t.loadEventWait("AP_VIEWABLE:50PCT:1S:CAMPAIGN"))}}};a.pam.loadLibrary("sweetlib.js",function(){for(var e=0;e<a.trackVisibility.length;e++){var t=a.trackVisibility[e];t.threshold||(t.threshold=.6),t.duration||(t.duration=10),C.piximedia.SweetLib.bindViewTracker({object:a.iframe,threshold:100*t.threshold,duration:t.duration},P(t))}})}};o()}else W("(not resizing inactive iframe)")}),a.pam.master&&(this.on("set-message-duration",function(e){return a.setMessageDuration(e)}),this.on("register-visibility-callback",function(e){var t=e.callback;a.pam.loadLibrary("sweetlib.js",function(){if(!a.iframe)return void(a.visibilityCallbackOnHold=e);var i={object:a.iframe};for(var o in e)if(e.hasOwnProperty(o))switch(o){case"callback":break;default:i[o]=e[o]}C.piximedia.SweetLib.bindVisibilityTracker(i,function(e){a.emit(t,e)})})}))}function b(e,t){var i=this;this.pam=e,this.eventQueue=[];for(var a in t)t.hasOwnProperty(a)&&(this[a]=t[a]);this.pam.eventEmitterForObject(this,"position:"+this.positionId),this.pam.master&&(this.on("start-timetracker-hover",function(){i.startTimetrackerHover()}),this.on("stop-timetracker-hover",function(){i.stopTimetrackerHover()}),this.on("load-event-once",function(e,t,a){i.loadEventOnce(e,t,a)})),this.on("expand",function(){if(i.expandedCount=(i.expandedCount||0)+1,i.pam.master&&1===i.expandedCount&&i.decoratedBy){var e=i.pixiPositionId||i.decoratedBy.getPixiPositionIdForPositionId(i.positionId);i.loadEventWait("EXPAND",{detail:e}),i.pam.loadLibrary("sweetlib.js",function(){i.timetrackerExpand=C.piximedia.SweetLib.setTimer("EXPAND",function(t,a){i.decoratedBy&&i.loadEventWait("TIMETRACKER::"+t,{duration:a,detail:e})}),i.timetrackerExpand.start()})}}),this.on("collapse",function(){if(!i.expandedCount)return z("Position has been collapsed, but was not expanded",i);if(!--i.expandedCount&&i.pam.master){var e=i.pixiPositionId||i.decoratedBy.getPixiPositionIdForPositionId(i.positionId);i.loadEventWait("COLLAPSE",{detail:e}),i.pam.loadLibrary("sweetlib.js",function(){i.timetrackerExpand.stop(),i.timetrackerExpand=void 0})}}),this.on("responsive",function(e){e.pageContainerWidth&&(this.pageContainerWidth=e.pageContainerWidth)}),this.pam.master&&(this.on("injected-into-pixi-position-id",function(e){W("Host injected as "+e),i.pixiPositionId=e}),this.on("injected-into-creative-group",function(e){W("Host injected as create group member"),i.setDecoratedByCG(new v(i.decoratedBy,e))}))}function y(e){if(this.pam=e,this.deferredObjects=[],C.pmAdData&&C.pmAdData.ajax)for(;C.pmAdData.ajax.length>0;){var t=C.pmAdData.ajax.shift();t&&(this.pam.msie&&6===this.pam.msie&&(t.use_pb=!0),this.loadAd(t))}}function w(e,t){for(var i=l(e.positionId||""),a=l(t.positionId||""),o=i.split("."),r=a.split("."),n=0;n<o.length;n++){if(n>=r.length)return 1;var s=o[n],d=r[n];if(s.match(/^[0-9]+$/)&&d.match(/^[0-9]+$/)&&(s=parseInt(s,10),d=parseInt(d,10)),d>s)return-1;if(s>d)return 1}return r.length>o.length?-1:0}function x(e,t,i,o,r){r&&(r.wasRequired=!0);var n,s=e.split(":"),d=[],c=[];n=s[0].split(".");for(var p in i)if(i.hasOwnProperty(p)){var m=i[p],u=m.positionId,h=u.split("."),f=h.slice(1);if(m.size&&!m.forcedAdId&&t.availableSizes&&t.availableSizes.length&&-1===t.availableSizes.indexOf(m.size))continue;if(t.adId&&m.forcedAdId&&m.forcedAdId!==t.adId)continue;if(""===n[0]||"*"===n[0]||n[0]===h[0]){for(var v=!0,g=1;g<n.length;g++)if(-1===a(f,n[g])){v=!1;break}if(v){if(d.push(m),t.activeAndNotUsed&&(!m.active||m.used))continue;if(t.notRequestedByActiveAd&&(!m.active||m.used||m.requested))continue;if(t.decoratedBy&&m.decoratedBy!==t.decoratedBy)continue;c.push(m)}}}c.sort(w);for(var b=1;b<s.length;b++){var y=s[b];if("free_mp"===y&&(y=o?"optional":"free"),c.length){switch(y){case"odd":y="mod2=0";break;case"even":y="mod2=1"}if("first"===y)c=[c[0]];else if("last"===y)c=[c[c.length-1]];else if("#"===y.charAt(0)){var x=parseInt(y.substr(1),10);c=c[x-1]?[c[x-1]]:[]}else if("optional"===y)r&&(r.wasRequired=!1),c.length||c.push({});else if("decorated"===y){for(var I=[],S=0;S<c.length;S++)for(var k=c[S].iframes||[],P=0;P<k.length;P++){var C=k[P].iframe;C&&parseInt(C.style.width,10)>1&&parseInt(C.style.height,10)>1&&I.push(c[S])}c=I}else if("used"===y||"free"===y){r&&"free"===y&&(r.wasRequired=!1);for(var _="used"===y,A=[],T=!0,E=0;E<d.length;E++)(d[E].used?!0:!1)!==_&&(T=!1);if(T)for(var O=0;O<c.length;O++)(c[O].used?!0:!1)===_&&A.push(c[O]);c=A}else if("exact"===y){for(var N=l(s[0]),L=[],M=0;M<c.length;M++){var D=l(c[M].positionId||"");N===D&&L.push(c[M])}c=L}else if("primaryposition"===y)c=c;else{var R=y.match(/^mod([0-9]+)={1,3}([0-9]+)$/);if(R){for(var F=parseInt(R[1],10),q=parseInt(R[2],10),j=[],B=0;B<c.length;B++)B%F===q&&j.push(c[B]);c=j}else z("Unknown restrictive: "+y),c=[]}}else switch(y){case"free":case"optional":if(!t.positions){var V=!0;if("free"===y)for(var U=0;U<d.length;U++)d[U].used&&(V=!1);V&&c.push({})}}}return c}function I(e){return e.map(function(e){return"string"==typeof e?e:e[0]+"x"+e[1]})}function S(){for(var e=window.piximedia._,t=0;1e3>t;t++){var i="shuttle"+t;if(!e[i])return i}}function k(e,t,i){e.prebids=e.prebids||{};var a=t.metadata.prebid,o=JSON.stringify({bids:a,width:t.width,height:t.height});if(e.prebids[o])return void(e.prebids[o].receivedBids?i(e.prebids[o].receivedBids):e.prebids[o].on("bids",i));var r=new G;e.prebids[o]=r,r.on("bids",i);var n,s,l=e.getPmLoaderDoc(),d=l.createElement("iframe"),c=e.getTopmostWindow(),p=c.document,m=e.mode,u=e.siteId,h=e.placementId;d.setAttribute("pm_pbjs",m+"/"+u+"/"+h+"/"+t.asset_id),l.getElementsByTagName("head")[0].appendChild(d);try{n=d.contentWindow,s=n.document}catch(f){d.src="javascript:document.write(\'<head><script>document.domain=\\""+p.domain+"\\";</script></head><body></body>\')",n=d.contentWindow,s=n.document;try{d.src="javascript:document.write(\'<head><script>document.domain=\\""+d.ownerDocument.domain+"\\";</script></head><body></body>\')",n=d.contentWindow,s=n.document}catch(f){}}s.close();var v,g=function(){var e=s.createElement("script");e.async=!0,e.src=D,s.body.appendChild(e),v=!0};g();var b=setInterval(function(){if(!v)return void(s.body&&g());d.contentWindow.document!==s&&(s=d.contentWindow.document,n=d.contentWindow,v=!1);var i=n.pbjs;if(i){clearInterval(b);var o=[[t.metadata.width,t.metadata.height]];i.addAdUnits({code:t.asset_id,sizes:o,bids:a}),i.requestBids({bidsBackHandler:function(i){var a=[];if(i&&i[t.asset_id]&&i[t.asset_id].bids)for(var n=0;n<i[t.asset_id].bids.length;n++){var s=t.currency||"USD";if(e.globalOptions.currencies[s]){var l=i[t.asset_id].bids[n];if(1===l.getStatusCode()){var d=void 0!==e.globalOptions.prebid_s_m?e.globalOptions.prebid_s_m:q,c=1*l.cpm/e.globalOptions.currencies[s],p=c/1e3,m=p*(1-d),u=p*d;.01>c?e.loadEvent("PANIC",void 0,void 0,{fail_reason:"bid_too_low"}):c>100?e.loadEvent("PANIC",void 0,void 0,{fail_reason:"bid_too_high"}):a.push({pr:m,m:u,bid:l,sizes:o,currency:t.currency})}}else z("Unknown currency "+s)}a.sort(function(e,t){return e.pr>t.pr?-1:e.pr<t.pr?1:0}),r.receivedBids=a,r.emitLocal("bids",a)}})}},50)}function P(e){var t,i=C.piximedia,a=(a=i._||{}).pams||{},r=i.pam||{},n=r.globalOptions||{},s=e.getTopmostDocument(),l=e.getTopmostWindow(),d=l.document.referrer,c=l===window.top,p=c?l.location.hostname:o(d||l.location.href),m={htmlLength:s.body.innerHTML.length,weHaveTop:c,topDocumentReferrer:d,tlh:p,keys:{window:Object.keys(l),document:Object.keys(s)},navigator:{appCodeName:navigator.appCodeName,appName:navigator.appName,appVersion:navigator.appVersion,cookieEnabled:navigator.cookieEnabled,doNotTrack:navigator.doNotTrack,language:navigator.language,maxTouchPoints:navigator.maxTouchPoints,platform:navigator.platform,product:navigator.product,productSub:navigator.productSub,userAgent:navigator.userAgent,vendor:navigator.vendor,vendorSub:navigator.vendorSub},location:{hash:l.location.hash,hostname:l.location.hostname,href:l.location.href,origin:l.location.origin,pathname:l.location.pathname,port:l.location.port,protocol:l.location.protocol,search:l.location.search},dates:{responseStart:l.performance&&l.performance.timing?new Date(l.performance.timing.responseStart):void 0,pageLoadStart:new Date(n.pageLoadStart),now:new Date},sweetlib:{},pamid:n.pamid,pams:{}},u=[],h=l.document.getElementById("pmFiFLoader"),f=h?h.contentWindow:void 0;f&&(t=f.console.log,f.console.log=function(){for(var e=0;e<arguments.length;e++)u.push(arguments[e])});for(var v in a)if(a.hasOwnProperty(v)){var g=a[v],b=g.siteId+"/"+g.placementId,y=g.positions||{},w=g.availableAds||[],x={globalOptions:g.globalOptions,ads:[],positions:{}};for(var I in y)if(y.hasOwnProperty(I)){var S=r.positions[I],k=S.decoratedBy||{},P={adId:k.adId,campaignId:k.campaignId,creativeId:k.creativeId,require:k.require,use:k.use},_={positionId:S.positionId,pixiPositionId:S.pixiPositionId,registeredAt:S.registeredAt,used:S.used,iframesCount:(S.iframes||[]).length,decoratedBy:P,decoratedAt:S.decoratedAt,clickUrl:S.clickUrl,alwaysHosted:S.alwaysHosted,injectionIndex:S.injectionIndex,pageContainerWidth:S.pageContainerWidth};x.positions[S.positionId]=_}for(var A=0;A<w.length;A++){for(var T=w[A],E=[],O=0;O<(T.positions||[]).length;O++){var N=T.positions[O];E.push({positionId:N.positionId,decoratedAt:N.decoratedAt,iframesCount:(N.iframes||[]).length,pixiPositionId:N.pixiPositionId,used:N.used})}var L={adId:T.adId,campaignId:T.campaignId,creativeId:T.creativeId,active:T.active,injectedOnce:T.injectedOnce,iframesCount:(T.iframes||[]).length,positions:E,require:T.require,use:T.use,passback:!!T.passback};x.ads.push(L)}u=[],r.debug(),x.debug=u.join("\\n"),m.pams[b]=x}return i.SweetLib&&(u=[],i.SweetLib.debug(),m.sweetlib.debug=u.join("\\n")),m}var C=window,_=document;if(!C.piximedia._.PAM_FULL_LOADED){C.piximedia._.PAM_FULL_LOADED=!0;var A,T=1e3,E="https://static.adserver.pm/host.html/revision=94f6b65c127685a4c4d4dafa3db059f5",O="ad.piximedia.com",N="static.adserver.pm",L=!1,M=void 0,D="//static.adserver.pm/prebid.js/revision=331fc7ea702b7be2870dede09436645c",R=0,F=.5,q=.3,j=2014031001,B=C.piximedia.PAM,z=B.error,V=B.warn,U=B.logTrail,W=B.debug,H=B.debugTime,J=B.log,$=B.Ad,G=B.EventEmitter;if(!B)return C.console.error("No PAM?");var X="margin: 0; padding: 0; border: 0; position: relative; overflow: visible; cursor: default; word-spacing: normal; font-size: 11px; font-style: normal; letter-spacing: 0px; -webkit-font-smoothing: antialiased; -moz-osx-font-smoothing: grayscale; font-family: Arial, Helvetica, sans-serif; left: 0; right: 0; /*top: 0; bottom: 0;*/ text-align: left; display: block; clear: both",Y={},K=window._piximediaBrowserDetect;$.prototype.isUsingValidPositions=function(){if(!this.require||!this.require.positions||!this.require.positions[0])return!0;var e=this.require.positions[0];return!(e||"").toString().match(/disabled|cannot|bid-too-low|null-bid|--/)},$.prototype.loadAssetsMetadata=function(e){e=e||function(){};var t=this,i=t.pam;if(!i.master)return e();for(var a=t.args&&t.args.assets&&t.args.assets.pool?t.args.assets.pool:[],o=0,r=function(){return o--,o?void 0:e()},n=function(e){var a=!1,n=!1,s=function(){return a=!0,r()};(e.name.match(/^vast/)||i.externalAssets[e.asset_id])&&(n=!0,i.loadExternalAsset(e,function(){return i.externalAssets[e.asset_id].toAsset(e),e.callImpressionPixels(t),s()})),n&&(setTimeout(function(){a||t.loadEvent("COULD_NOT_LOAD_ASSET",{c1:e.id})},1e4),o++)},s=0;s<a.length;s++)n(a[s]);return o?void 0:e()},$.prototype.loadExternalAssets=function(e){var t=this,i=t.pam,a=t.external_assets;if(void 0===a&&t.args&&t.args.assets&&t.args.assets.pool){var o=t.args.assets.pool;a=[];for(var r=0;r<o.length;r++){var n=o[r];n.name&&n.name.match(/^(vast|redirect)(\\.|$)/)&&a.push(n)}}if(!a||!a.length)return t.args&&\'"external_buyer_pays\'===t.args.sale_mode&&!t.bid&&t.isUsingValidPositions()&&(i.loadEvent("PANIC",void 0,void 0,{fail_reason:"error_5291"}),t.require={positions:["error-5291"]},t.use={positions:[]}),e();for(var s=0,l=function(){if(!--s){for(var o=0,r=0;r<a.length;r++){var n=a[r];n.metadata.buyer_cpm&&(o+=1*n.metadata.buyer_cpm/i.globalOptions.currencies[n.metadata.buyer_currency||"EUR"])}if(o>0){var l=void 0!==i.globalOptions.prebid_s_m?i.globalOptions.prebid_s_m:q,d=o/1e3,c=d*(1-l),p=d*l,m=t.cpm_auto?F:t.minimum_cpm;if(t.bid=c,m&&!(m/1e3>c)||C.piximedia.preview){for(var u=null,h=null,f=!1,v=0;v<i.availableAds.length;v++){var g=i.availableAds[v];if(g.bid&&(f=!0),g===t)h=v;else{if(g.bid_priority&&g.bid_priority<(t.bid_priority||5))continue;null===u&&(!g.bid&&f||d>g.bid)?u=v:g.passback&&(u=v)}}null===h?(z("Could not move our ad to adjust for external bids: could not find us"),t.require={positions:["panic--could-not-move-ad"]},t.use={positions:[]}):(i.availableAds.splice(h,1),u>=h&&u--,t.assetBuyerPay={cpm:o,currency:"EUR"},t.impressionPixel=void 0,t.on("impression",function(){t.loadEvent("IMPRESSION",{cpma:t.cpm_auto?1:void 0,absp:Math.round(1e6*c),absm:Math.round(1e6*p)})}),null!==u?i.availableAds.splice(u,0,t):i.availableAds.push(t))}else W(t.minimum_cpm?"Discarding bid because it was too low":"Discarding bid because we do not know the minimum CPM"),t.active&&z("Could not deactive prebid ad because of bid too low: ad was already active"),t.require={positions:["bid-too-low"]},t.use={positions:[]},t.impressionPixel=void 0}else t.args&&\'"external_buyer_pays\'===t.args.sale_mode&&!t.bid&&(i.loadEvent("PANIC",void 0,void 0,{fail_reason:"null_bid"}),W("Got a null bid"),t.active&&z("Null bid on ad already active"),t.require={positions:["null-bid"]},t.use={positions:[]});return e()}},d=0;d<a.length;d++){var c=a[d];s++,t.loadExternalAsset(c,l)}},$.prototype.loadExternalAsset=function(e,t){var i=this,a=i.pam;i.loadEvent("JS:EXTERNAL:CALL",{c1:e.asset_id,c2:e.metadata.type}),a.loadExternalAsset(e,function(){if(e.empty&&!i.active)i.loadEvent("JS:EXTERNAL:EMPTY",{c1:e.asset_id,c2:e.metadata.type}),i.require={positions:["could-not-load-asset--empty"]},i.use={positions:[]};else{var o=e.metadata.buyer_cpm?e.metadata.buyer_cpm/i.pam.globalOptions.currencies[e.metadata.buyer_currency||"EUR"]:void 0,r=o?o/1e3:void 0;i.loadEvent("JS:EXTERNAL:OK",{c1:e.asset_id,c2:e.metadata.type,absp:r?Math.round(1e6*r*(1-q)):void 0,absm:r?Math.round(1e6*r*q):void 0})}return"piximedia_vehicle"!==e.metadata.vast_adapter?"piximedia_nvd"===e.metadata.vast_adapter?(e.vastLoader.error&&(i.active||(i.require={positions:["could-not-load-vast--"+e.vastLoader.error.replace(/\\s/g,"-")]},i.use={positions:[]})),t()):t():void a.createVehicleShuttleAd(i,e,t)})},$.prototype.queryPosition=function(e){return this.pam.queryPosition(e,{decoratedBy:this})},$.prototype.sendCpmviewClick=function(){var e=this;return e.pam.master?void(this.cpmviewClickSent||(this.loadEvent("CLICK",{c5:"cpmview"}),this.cpmviewClickSent=!0)):void(e.emit&&e.emit("send-cpmview-click"))},$.prototype.somethingHasBeenSeen=function(){var e=this;return e.pam.master?void("string"==typeof e.args.delayed_display&&"{}"!==e.args.delayed_display&&(window.pmBypassImpression||e.sentImpression||(e.pam.loadPixel(e.args.impression_pixel),e.sentImpression=!0))):void(e.emit&&e.emit("something-has-been-seen"))},$.prototype.purgeEventEmitter=function(){this.pam.eventEmitterForObject(this,this.uniqid,{purge:!0})},$.prototype.inject=function(e,t,a){"function"!=typeof t||a||(a=t,t={}),W("Ad #"+this.adId+\' called inject("\'+e+\'")\'),t.pixiPositionId||(t.pixiPositionId=d(e)),t.room&&(e="room."+t.room),void 0===t.future&&(t.future=!0),t.future&&(t.present=!0),this.rooms&&this.rooms[e]&&(a=this.makeHostRooms(a,this.rooms[e])),W("Ad["+this.adId+\'].inject("\'+e+\'")\');var o;if("string"==typeof e||i(e)){if("string"==typeof e){t.future&&this.injectFuture(e,t,a);var r=this.remapPositions||{};for(var n in r)if(r.hasOwnProperty(n)){var s=new RegExp("\\\\b"+n+"\\\\b","g");e=e.replace(s,r[n])}}o=this.pam.queryPositions(e,{positions:this.positions})}else"object"==typeof e&&(o=[e]);for(var l=0;l<o.length;l++){var c=o[l];c.decoratedBy&&c.decoratedBy!==this&&c.decoratedBy!==this.cgAd||!c.active||c.hosted||(W("Injecting contents into "+c.positionId),t.present&&!c.used&&(c.decoratedBy=this,c.decoratedAt=c.decoratedAt||new Date,c.used=!0,c.justUsed&&c.justUsed(),W("Taking position "+c.positionId),this.positions.push(c)),this.cgOptions&&!c.decoratedByCG&&(c.setDecoratedByCG(this),this.pam.master||c.emit("injected-into-creative-group",this.cgOptions)),c.pixiPositionId=t.pixiPositionId,this.pam.master||c.emit("injected-into-pixi-position-id",c.pixiPositionId||e),this.shouldHostPosition(c)?this.pam.hostPosition(this,c):this.injectPosition(c,t,a))}},$.prototype.injectFuture=function(e,t,i){"function"!=typeof t||i||(i=t,t={});var a=this,o=this.remapPositions||{};for(var r in o)if(o.hasOwnProperty(r)){var n=new RegExp("\\\\b"+r+"\\\\b","g");e=e.replace(n,o[r])}var s=function(e){W("Injecting contents into future "+e.positionId),e.decoratedBy=a,e.decoratedAt=e.decoratedAt||new Date,a.cgOptions&&e.setDecoratedByCG(a),e.pixiPositionId=t.pixiPositionId,a.shouldHostPosition(e)?a.pam.hostPosition(a,e):a.injectPosition(e,t,i)};if(this.on("hello",function(t){if(!a.disabled){var i={};i[t.positionId]=t,W("Ad #"+this.adId+" is considering new position");var o=a.pam.queryPositions(e,{positions:i,ignoreConditions:!0});if(o.length){W("Ad #"+this.adId+" is considering new position, and is using it");var r=a.pam.queryPositions(e,{positions:i,conditionPositions:a.pam.positions});if(r.length)s(t);else{W("Found a position to inject that fails to meet its condition, waiting for future positions");var n=!1;a.pam.on("pre-hello",function(){if(!n){var o=a.pam.queryPositions(e,{positions:i,conditionPositions:a.pam.positions});o.length&&(n=!0,s(t))}})}return W("Grabbing position "+t.positionId),a.positions.push(t),t.decoratedAt=new Date,!0}}}),e.match(/=>/)){var l=function(){var t=a.pam.queryPosition(e,{positions:a.positions});t.length&&(a.pam.removeListener("position-has-been-decorated",l),s(t[0]))};a.pam.on("position-has-been-decorated",l)}},$.prototype.makeHostRooms=function(e,t){return function(i,a,o,r){try{e.apply(this,arguments)}catch(n){z("Could not execute callback: "+n)}for(var s=0;s<t.length;s++){var l=t[s];r.hostRoom(l.id,l)}}},$.prototype.makeInject=function(e,t){var a=this;return function(o,r){try{if(a.pam.debug("Calling makeInject()"),!e.clickUrl&&e.positionId.match(/^room\\./)&&e.pixiPositionId){var n=e.pixiPositionId,s=this.remapPositions||{};for(var l in s)if(s.hasOwnProperty(l)){var d=new RegExp("\\\\b"+l+"\\\\b","g");n=n.replace(d,s[l])}e.clickUrl=e.allClickUrls&&e.allClickUrls[n]||a.pam.positions[n]&&a.pam.positions[n].clickUrl,e.advertiserClickUrl=e.allAdvertiserClickUrls&&e.allAdvertiserClickUrls[n]||a.pam.positions[n]&&a.pam.positions[n].advertiserClickUrl}t.call(e,o,r,e,r.framedIframe),A.emitLocal("ad.inject",o,r,e,r.framedIframe);var c=(a.args||{})["position-css"];c&&a.pam.loadLibrary("sweetlib.js",function(){if(i(c))for(var e=0;e<c.length;e++)C.piximedia.SweetLib.createCSSs(c[e],o);else C.piximedia.SweetLib.createCSSs(c,o)}),"footer"===e.positionId&&a.pam.markFooterInjected()}catch(p){z("Could not inject position "+e.positionId+": "+p)}}},$.prototype.injectPosition=function(e,t,i){var a=this;i?t=t||{}:(i=t,t={}),a.pam.debug("Injecting into "+e.positionId);var o=t.htmlComments,r="inject"+this.pam.rand();C.piximedia._[r]=this.makeInject(e,i);var n={name:"pmInject_"+e.positionId,javascript:"window.piximedia._."+r+"(document,window)"};o&&(n.htmlComments=o);for(var s in t)t.hasOwnProperty(s)&&(n[s]=t[s]);if(e.decoratedBy||(e.decoratedBy=this,e.decoratedAt=e.decoratedAt||new Date,W("Marking position not yet marked decorated by any ad"),this.positions.push(e)),this.cgOptions&&!e.decoratedByCG&&e.setDecoratedByCG(this),e.decoratedBy&&e.decoratedBy.masterPosition&&e.decoratedBy.iframe&&e.positionId===e.decoratedBy.masterPosition.positionId&&(e.decoratedBy.iframe.doNotSendPixels=!0),this.pam.master&&(e.injectionIndex=e.injectionIndex||0),!e.hosted&&!e.injectionIndex){e.loadEvent("JS:IMPRESSION",{detail:this.getPixiPositionIdForPositionId(e.positionId)});var l=a.campaignId,d=a.adId;if(a.pam.sendJSImpressionAdCampaign(l,d,e.positionId,this.getPixiPositionIdForPositionId(e.positionId)),e.decoratedAt){var c=Math.round((new Date-e.decoratedAt)/1e3);e.loadEvent("JS:DELAY:IMPRESSION",{detail:this.getPixiPositionIdForPositionId(e.positionId),duration:c})}}var p=function(){var t,i=function(){J("Position removed: "+e.positionId,e),a.pam.unloadPosition(e)},o=function(){J("Position winlost: "+e.positionId,e),e.injectionIndex++,t.unload({hide:!0}),t.removeListener("remove",i),t.removeListener("winlose",o);for(var a=!1,r=0;r<(e.iframes||[]).length;r++)if(e.iframes[r]===t){a=!0;break}a?(W("ZZZ Position still active, reloading"),p()):W("ZZZ Position no longer active")};t=a.pam.injectFriendlyContent(e,n,a).on("remove",i).on("winlose",o)};p()},$.prototype.getTrackedUrl=function(e,t,i){return i=i||{},i=JSON.parse(JSON.stringify(i)),i.detail&&(i.detail=d(i.detail)),!i.c1&&this.args&&this.args.c1&&(i.c1=this.args.c1.toString()),!i.c2&&this.args&&this.args.c2&&(i.c2=this.args.c2.toString()),!i.c3&&this.args&&this.args.c3&&(i.c3=this.args.c3.toString()),!i.c4&&this.args&&this.args.c4&&(i.c4=this.args.c4.toString()),!i.c5&&this.args&&this.args.c5&&(i.c5=this.args.c5.toString()),!i.componentSetId&&this.component_set_id&&(i.componentSetId=this.component_set_id),i.campaignIdAlliance=this.campaignId,i.adIdAlliance=this.adId,i.creativeIdAlliance=this.creativeId,this.pam.getTrackedUrl(e,t,i,this.ticketInfo)},$.prototype.isEventAllowed=function(e){if(e.match(/^JS:EXTERNAL:/)){var t,i;return this.args.log_externals&&(!this.args.log_externals.until||this.args.log_externals.until>=(new Date).toISOString().substr(0,10).replace(/-/g,""))&&(t=this.args.log_externals.calls,i=this.args.log_externals.responses),"JS:EXTERNAL:CALL"===e?t:i}return!0},$.prototype.loadEvent=function(e,t){return this.isEventAllowed(e)?(t&&(t=JSON.parse(JSON.stringify(t)),t.detail&&(t.detail=d(t.detail))),!t.c1&&this.args&&this.args.c1&&(t.c1=this.args.c1.toString()),!t.c2&&this.args&&this.args.c2&&(t.c2=this.args.c2.toString()),!t.c3&&this.args&&this.args.c3&&(t.c3=this.args.c3.toString()),!t.c4&&this.args&&this.args.c4&&(t.c4=this.args.c4.toString()),!t.c5&&this.args&&this.args.c5&&(t.c5=this.args.c5.toString()),!t.componentSetId&&this.component_set_id&&(t.componentSetId=this.component_set_id),this.pam.loadEvent(e,{campaignIdAlliance:this.campaignId,adIdAlliance:this.adId,creativeIdAlliance:this.creativeId,componentSetId:this.component_set_id},this.ticketInfo,t),void("AP_SOMETHINGHASBEENSEEN"===e&&this.somethingHasBeenSeen())):void J("Ignoring event "+e)},$.prototype.loadEventOnce=function(e,t,i){if(t=t||{},i=i||[],!this.pam.master)return this.emit("load-event-once",e,t,i);var a,o;if(this.adId&&this.pam?(this.pam._AdLoadEventOnceSems=this.pam._AdLoadEventOnceSems||{},a=this.pam._AdLoadEventOnceSems[this.adId]=this.pam._AdLoadEventOnceSems[this.adId]||{}):a=this.loadEventOnceSems=this.loadEventOnceSems||{},o=[e,t.c1,t.c2,t.c3,t.c4,t.c5].join("|"),!a.hasOwnProperty(o)){a[o]=!0,this.loadEvent(e,t);for(var r=0;r<i.length;r++)this.pam.loadPixel(i[r])}},$.prototype.getPixiPositionIdForPositionId=function(e){if(this.pam.positions&&this.pam.positions[e]&&this.pam.positions[e].pixiPositionId)return this.pam.positions[e].pixiPositionId;if(e.match(/^room\\./))return e;var t=this.remapPositions||{},i={},o=e.split(".");o.length>1&&(e=o[0]),i[e]={positionId:e};var r=[];for(var n in t)if(t.hasOwnProperty(n)){var s=t[n];this.pam.queryPositions(s,{positions:i}).length&&r.push(n)}return r.length?a(r,"mpu")>=0?"mpu":r[0]:e},$.prototype.queryAssets=function(e){var t=((this.args||{}).assets||{}).pool||[];return A.assetsMatchQuery(e,t)},f.prototype=new $({},{}),f.prototype.constructor=f,f.prototype.injectPosition=function(e,t){if(this.position.positionId===e.positionId&&this.pam.positionCurrentlyInline===e.positionId)try{t.call(e,this.framedDocument,this.framedWindow,e)}catch(i){z("Could not inject friendly position: "+e.positionId+": "+i)}else $.prototype.injectPosition.apply(this,arguments)},v.prototype=new $({},{}),v.prototype.constructor=v,g.prototype.registerResponsiveCallback=function(e){this.on("responsive",e),this.enableResponsiveEvents()},g.prototype.setMessageDuration=function(e){var t=this;return t.pam.master?void t.pam.loadLibrary("sweetlib.js",function i(){return t.iframe?void C.piximedia.SweetLib.bindViewTracker({object:t.iframe,threshold:50,duration:e},function(){t.position.loadEventWait("AP_CONSUMED");var e="isAnyConsumedForCampaign"+(t.position.decoratedBy||t.position.decoratedByCG||{}).campaignId;t.pam[e]||(t.pam[e]=!0,t.position.loadEventWait("AP_CONSUMED:CAMPAIGN"))}):setTimeout(i,500)}):t.emit("set-message-duration",e)},g.prototype.enableResponsiveEvents=function(){var e=this;return this.pam.master?void(this.responsiveEventsEnabled||(this.responsiveEventsEnabled=!0,this.pam.loadLibrary("sweetlib.js",function(){var t=C.piximedia.SweetLib,i=t.getPageContainer();t.enableResponsiveEventsForPageContainer(i,function(t){e.position.emit("responsive",t),e.emit("responsive",t)})}))):this.emit("enable-responsive-events")},g.prototype.hostRoom=function(e,t){if(t=t||{},!this.pam.master)return this.emit("host-room",e,t);var i=this;this.pam.hostRoom(e,{injectionIndex:this.position.injectionIndex},function(){var e=i.iframe,a=e.ownerDocument,o=a.createElement("div"),r=a.createElement("div");switch(o.className="pmRoomContainer",o.style.position="absolute",r.className="pmRoom",r.style.position="absolute",t.align||"center"){case"left":break;case"right":7===i.pam.msie&&(o.style.minWidth="100%"),o.style.width="100%",o.style.position="absolute",r.style.position="absolute",r.style.right=0;break;case"center":o.style.width="100%",7===i.pam.msie&&(o.style.minWidth="100%"),r.style.left="50%",r.className+=" pmCentered"}if(t.left&&(o.style.left=parseInt(t.left)+"px"),t.top&&(o.style.top=parseInt(t.top)+"px"),t.css)for(var n in t.css)if(t.css.hasOwnProperty(n))try{r.style[n]=t.css[n]}catch(s){}return o.appendChild(r),e.parentNode.insertBefore(o,e),r})},g.prototype.unload=function(e){if(!this.unloading){var t=this;if(e=e||{},this.active=!1,W("Iframe.unload() for position "+(t.position?t.position.positionId:"unknown")),this.iframe){if(this.pam.isInDOM(this.iframe)){W("Iframe is still in DOM: "+this.iframe.id);var i=this.iframe.parentNode;i&&(i.className||"").match(/pmFiFContainer/)&&(i.style.width="auto",i.style.height="auto"),e.hide?(this.iframe.style.display="none",W("Setting iframe display: none")):this.iframe.parentNode&&this.iframe.parentNode.removeChild(this.iframe)}else{W("Iframe is no longer in DOM: "+this.iframe.id);var a=this.iframe.ownerDocument.getElementById(this.iframe.id);a?(W("Found winlost iframe in DOM: "+this.iframe.id),e.hide?(a.style.display="none",W("Setting iframe display: none")):a.parentNode&&a.parentNode.removeChild(a)):W("Winlost iframe not in DOM: "+this.iframe.id),e.hide?(this.iframe.style.display="none",W("Setting iframe display: none")):this.iframe.parentNode&&this.iframe.parentNode.removeChild(this.iframe)}if(this.moveTop&&this.pam.loadLibrary("sweetlib.js",function(){var e=C.piximedia.SweetLib;e.moveTopOfPageContainer(t.pageContainer,-t.moveTop)}),e.hide){var o=function(){if(t.iframe&&t.iframe.ownerDocument){var e=t.iframe.ownerDocument.getElementById(t.iframe.id);e&&"none"!==e.style.display&&(W("Iframe must be hidden again: "+t.iframe.id),e.style.display="none")}},r=setInterval(o,20);setTimeout(function(){clearInterval(r),setInterval(o,500)},1e4)}}else W("no known iframe"),t.position&&(t.unloading=!0,t.position.unloadDecoratedAd(),t.unloading=!1)}},g.prototype.setIframe=function(e){var t=this,i=e.id,o=e.ownerDocument;if(i||(i=e.id="pmAnonIframe"+this.pam.rand()),this.iframe=e,this.visibilityCallbackOnHold&&(this.emit("register-visibility-callback",this.visibilityCallbackOnHold),this.visibilityCallbackOnHold=void 0),t.pam.master&&(this.iframe.onmouseover=function(){t.emitLocal("mouseover")},this.iframe.onmouseout=function(){t.emitLocal("mouseout")},t.position&&t.position.decoratedBy&&t.position.decoratedBy.timetracker&&t.position.decoratedBy.timetracker.hover)){var r=t.position,n=t.position.decoratedBy,s=n.timetracker.hover,l=r.pixiPositionId||r.decoratedBy.getPixiPositionIdForPositionId(r.positionId);"string"==typeof s&&(s=s.split(/ +/)),a(s,l)>=0&&(this.on("mouseover",function(){r.startTimetrackerHover()}),this.on("mouseout",function(){r.stopTimetrackerHover()}))}var d=function(){t.active&&setTimeout(function(){var e=o.getElementById(i);return e?(J("Iframe has been winlost"),t.emitLocal("winlose"),void t.setIframe(e)):void(t.pam.winlostIframeIds[i]?(t.active=!1,J("Iframe has been removed by PAM because of a winlose"),t.emitLocal("winlose")):(J("Iframe has been removed; position="+(t.position?t.position.positionId:"unknown")),t.emitLocal("remove")))},0)};(t.safari||t.chrome)&&e.addEventListener("DOMNodeRemovedFromDocument",function(){d()});var c=e.contentWindow,p=setInterval(function(){var a=o.getElementById(i),r=a?a.contentWindow:void 0;a!==e?(W("Iframe changed, is there a winlose? position="+(t.position?t.position.positionId:"N/A")),clearInterval(p),d()):t.active&&r!==c&&(W("Iframe content window has changed by an external JavaScript"),e.parentNode.innerHTML="<!--winlose-->"+e.parentNode.innerHTML+"<!--winlose-->")},50)},b.prototype.tagPassback=function(e,t){var i=this.iframes&&this.iframes[0]?this.iframes[0].iframe:void 0;if(i){var a=i.ownerDocument,o=a.createComment("Passback Type: "+e),r=a.createComment("Passback Type: "+e);i.parentNode.insertBefore(o,i);var n=i.parentNode;n.parentNode.insertBefore(r,n),this.pam.positionsRegisteredForPassbacks=this.pam.positionsRegisteredForPassbacks||{},this.pam.positionsRegisteredForPassbacks[this.positionId]=!0,this.pam.addPassbackDebugInfos("Loading Passback: "+this.positionId+" ("+e+")",{data:t,green:!0})}},b.prototype.setDecoratedByCG=function(e){this.decoratedByCG=e;var t=this.eventQueue;this.eventQueue=[];for(var i=0;i<t.length;i++){var a=t[i];this.loadEvent(a.eventId,a.options)}},b.prototype.justUsed=function(){var e=this,t=e.positionId;if(e.pam&&e.pam.globalOptions&&e.pam.globalOptions.positionsUniqueOnPage&&a(e.pam.globalOptions.positionsUniqueOnPage,t)>=0)for(var i in window.piximedia._.pams)if(window.piximedia._.pams.hasOwnProperty(i)&&i.match(/^pam/)){var o=window.piximedia._.pams[i];o&&o.positions&&o.positions[t]&&(o.debug("Registering this position "+t+" as being used"),o.positions[t].used=!0,o.positions[t].usedUniqueOnPage=!0)}if(e.pam.master&&!e.trackingPositionSent){e.trackingPositionSent=!0;var r=e.decoratedBy||{},n=function(t){if(t){"string"==typeof t&&e.pam.loadPixel(t);for(var i=0;i<t.length;i++)e.pam.loadPixel(t[i])}};r.args&&r.args["tracking.ad_creative:impression"]&&r.args["tracking.ad_creative:impression"].pixelUrl&&n(r.args["tracking.ad_creative:impression"].pixelUrl),r.args&&r.args["tracking.ad:impression"]&&r.args["tracking.ad:impression"].pixelUrl&&n(r.args["tracking.ad:impression"].pixelUrl),r.args&&r.args["tracking.adgroup:impression"]&&r.args["tracking.adgroup:impression"].pixelUrl&&n(r.args["tracking.adgroup:impression"].pixelUrl),r.args&&r.args["tracking.campaign:impression"]&&r.args["tracking.campaign:impression"].pixelUrl&&n(r.args["tracking.campaign:impression"].pixelUrl),r.args&&r.args["tracking.creative:impression"]&&r.args["tracking.creative:impression"].pixelUrl&&n(r.args["tracking.creative:impression"].pixelUrl);var s=r&&r.getPixiPositionIdForPositionId?r.getPixiPositionIdForPositionId(this.positionId):void 0;r.args&&r.args["tracking.ad_creative:impression:conditional"]&&r.args["tracking.ad_creative:impression:conditional"]&&n(this.parseConditionalTrackings(r.args["tracking.ad_creative:impression:conditional"]).pixelUrl,{pixiPositionId:s}),r.args&&r.args["tracking.ad:impression:conditional"]&&r.args["tracking.ad:impression:conditional"]&&n(this.parseConditionalTrackings(r.args["tracking.ad:impression:conditional"]).pixelUrl,{\npixiPositionId:s}),r.args&&r.args["tracking.adgroup:impression:conditional"]&&r.args["tracking.adgroup:impression:conditional"]&&n(this.parseConditionalTrackings(r.args["tracking.adgroup:impression:conditional"]).pixelUrl,{pixiPositionId:s}),r.args&&r.args["tracking.campaign:impression:conditional"]&&r.args["tracking.campaign:impression:conditional"]&&n(this.parseConditionalTrackings(r.args["tracking.campaign:impression:conditional"]).pixelUrl,{pixiPositionId:s}),r.args&&r.args["tracking.creative:impression:conditional"]&&r.args["tracking.creative:impression:conditional"]&&n(this.parseConditionalTrackings(r.args["tracking.creative:impression:conditional"]).pixelUrl,{pixiPositionId:s})}},b.prototype.getTrackedUrl=function(e,t,i){var a={};if(i)for(var o in i)i.hasOwnProperty(o)&&(a[o]=i[o]);return a.detail||(a.detail=this.pixiPositionId||(this.decoratedBy?this.decoratedBy.getPixiPositionIdForPositionId(this.positionId):void 0)),this.decoratedByCG&&this.decoratedByCG.getTrackedUrl?this.decoratedByCG.getTrackedUrl(e,t,a):this.decoratedBy&&this.decoratedBy.getTrackedUrl?this.decoratedBy.getTrackedUrl(e,t,a):this.pam.getTrackedUrl(e,t,a)},b.prototype.loadEvent=function(e,t){var i={};if(t)for(var a in t)t.hasOwnProperty(a)&&(i[a]=t[a]);i.detail||(i.detail=this.pixiPositionId||(this.decoratedBy?this.decoratedBy.getPixiPositionIdForPositionId(this.positionId):void 0)),this.decoratedByCG?this.decoratedByCG.loadEvent(e,i):this.decoratedBy?this.decoratedBy.loadEvent(e,i):this.pam.loadEvent(e,void 0,void 0,i)},b.prototype.loadEventOnce=function(e,t,i){if(t=t||{},i=i||[],!this.pam.master)return this.emit("load-event-once",e,t,i);this.loadEventOnceSems=this.loadEventOnceSems||{};var a=[e,t.c1,t.c2,t.c3,t.c4,t.c5].join("|");if(!this.loadEventOnceSems.hasOwnProperty(a)){this.loadEventOnceSems[a]=!0,this.loadEvent(e,t);for(var o=0;o<i.length;o++)this.pam.loadPixel(i[o])}},b.prototype.loadEventWait=function(e,t){return this.decoratedBy||z("Cannot use Position.loadEventWait() on positions not associated to an ad"),this.decoratedBy.is_creative_group?this.decoratedByCG?this.loadEvent(e,t):void this.eventQueue.push({eventId:e,options:t}):this.loadEvent(e,t)},b.prototype.startTimetrackerHover=function(){var e=this;if(!e.pam.master)return e.emit("start-timetracker-hover");if(!this.timetrackerHover){var t,i=0,a=0,o=function(){e.pam.loadLibrary("sweetlib.js",function(){i&&!a?t.pause():!i&&a&&(t?t.resume():(t=C.piximedia.SweetLib.setTimer("HOVER",function(t,i){e.loadEventWait("TIMETRACKER::"+t,{duration:i,detail:e.pixiPositionId||e.decoratedBy.getPixiPositionIdForPositionId(e.positionId)})}),t.start())),i=a})};this.timetrackerHover={start:function(){a++,o()},stop:function(){a--,o()}}}this.timetrackerHover.start()},b.prototype.stopTimetrackerHover=function(){return this.pam.master?void(this.timetrackerHover&&this.timetrackerHover.stop()):this.emit("start-timetracker-hover")},b.prototype.unloadDecoratedAd=function(){var e=this;if(!this.unloading){this.unloading=!0,setTimeout(function(){e.unloading=!1},1500),this.decoratedBy=void 0,this.decoratedAt=void 0,this.used=!1,this.requested=!1,this.injectionIndex=0;for(var t=0;t<this.iframes.length;t++)this.iframes[t].unload()}},y.prototype.loadActivity=function(e){this.pam.loadActivityPixel(e)},y.prototype.loadAd=function(e){var t=this.getUrl(e);if(e.dw)try{_.write(\'<script type="text/javascript" src="\'+t+\'"></script>\')}catch(i){}else e.defer&&"complete"!==_.readyState?this.deferObj(e):(C.pmIsAlreadyActive&&(e.use_pb=!0,t=this.getUrl(e)),this.pam.loadScript(t))},y.prototype.getUrl=function(e){var t="";return e.use_pb&&(t+=";pb=1"),this.pam.globalOptions.serialId&&(t+=";serial_id="+this.pam.globalOptions.serialId),"//"+O+"/ads_js/stage2.php?"+e.mode+"|"+e.site_id+"|"+e.placement_id+"|"+e.params+t+"|"+K.toString()+"|"+this.pam.rand()+"|click="+e.click},y.prototype.deferObj=function Q(e){var t=this;this.deferredObjects.push(e),Q.listening||(Q.listening=!0,this.pam.waitDomLoaded(function(){t.loadDeferedObjects()}))},y.prototype.loadDeferedObjects=function(){if(!this.deferredObjectsLoaded){this.deferredObjectsLoaded=!0;for(var e=0;e<this.deferredObjects.length;e++)this.loadDeferedAd(this.deferredObjects[e])}},y.prototype.loadDeferedAd=function(e){C.pmIsAlreadyActive&&(e.use_pb=!0),C.pmIsAlreadyActive=!0;var t=this.getUrl(e);this.loadScript(t)},y.prototype.getClickCommand=function(){for(var e=0;e<this.pam.positions.length;e++){var t=this.pam.positions[e];if(t.clickUrl)return t.clickUrl}return this.pam.clickUrl},y.prototype.loadEvent=function(e,t){this.pam.loadEvent(e,t,this.ticketInfos)},y.prototype.loadEventWithPrefix=function(e,t){this.pam.loadEvent(e,t,this.ticketInfos,{prefixURI:this.getClickCommand()})},y.prototype.loadScript=function(e){try{var t=_.createElement("script");t.type="text/javascript",t.async="async",t.src=e,_.getElementsByTagName("head")[0].appendChild(t)}catch(i){}},y.prototype.setTicket=function(e,t){this.ticketInfos={ticket:e,signature:t}};var Z=function(e){this.uri=e,this.timeout=1,G.forObject(this)};Z.prototype.load=function(){var e=this;e.loading||e.loaded||(e.loading=!0,function(t){var i=!1,a=function(){return i?void 0:(i=!0,t.apply(this,arguments))};e.timeout&&setTimeout(function(){a("timeout")},1e3*e.timeout);var o=function(e,t,i,r){h(i,function(i){var n=i.responseXML;if(200!==i.status)return r("Could not load VAST: "+(i.statusText||i.status));if(!n)return r("Could not load VAST as XML");var s=m(n),l=-1;if(!s.Ad)return r();var d=function(){l++;var n=s.Ad[l];if(!n)return r();if(n.InLine_value){var c=n.InLine_value.AdSystem_value?n.InLine_value.AdSystem_value.value:void 0;if("IntegralAds"!==c){var p,m=[],u=[],h=[],f=[],v=[];return n.InLine_value.Creatives_value&&n.InLine_value.Creatives_value.children&&n.InLine_value.Creatives_value.children.forEach(function(e){if(e.Linear_value&&e.Linear_value.Duration_value&&e.Linear_value.Duration_value.value&&(p=e.Linear_value.Duration_value.value),e.Linear_value&&e.Linear_value.MediaFiles_value&&e.Linear_value.MediaFiles_value.MediaFile&&e.Linear_value.MediaFiles_value.MediaFile.length&&(v=v.concat(e.Linear_value.MediaFiles_value.MediaFile)),"Piximedia"===c&&e.Linear_value&&e.Linear_value.AdParameters_value&&e.Linear_value.AdParameters_value.children)try{h.push({data:JSON.parse(e.Linear_value.AdParameters_value.children.join("").replace(/^\\s*/,"").replace(/\\s*$/,""))})}catch(t){}var i=e.CompanionAds;i&&i[0]&&i[0].children&&i[0].children.forEach(function(e){if(f.push({companion:e,width:e.width?parseInt(e.width,10):void 0,height:e.height?parseInt(e.height,10):void 0}),"Piximedia"===c&&e.AdParameters_value){var t;try{t=JSON.parse(e.AdParameters_value.children.join("").replace(/^\\s*/,"").replace(/\\s*$/,"")).vehicle}catch(i){}if(t){var a=t.position_id,o=parseInt(e.width,10),r=parseInt(e.height,10),n=t.src;m.push({positionId:a,width:o,height:r,pmSrc:n}),u.push(a)}}})}),a(void 0,{vastCompanions:f,duration:p,mediaFiles:v,companions:m,companionsPositions:u,wrapperStack:t,inlineVast:s,inlineVastXML:i.responseXML,piximediaPayloads:h})}if(n.InLine_value.Creatives&&n.InLine_value.Creatives[0]&&n.InLine_value.Creatives[0].Creative&&n.InLine_value.Creatives[0].Creative[0]&&n.InLine_value.Creatives[0].Creative[0].Linear_value&&n.InLine_value.Creatives[0].Creative[0].Linear_value.MediaFiles_value&&n.InLine_value.Creatives[0].Creative[0].Linear_value.MediaFiles_value.MediaFile[0]&&n.InLine_value.Creatives[0].Creative[0].Linear_value.MediaFiles_value.MediaFile[0].children){var g,b=n.InLine_value.Creatives[0].Creative[0].Linear_value.MediaFiles_value.MediaFile[0].children.join("").replace(/^\\s*/,"").replace(/\\s*$/,""),y=b.match(/&originalVast=(.*)/);if(y&&(g=y[1]),g){var w={adSystem:c,iasURI:b};o(e+1,JSON.parse(JSON.stringify(t)).concat(w),g,d)}else d()}else d()}else{if(!n.Wrapper_value)return d();var x="true"===n.Wrapper_value.fallbackOnNoAd,I=function(){"false"===x&&(l=s.Ad.length+1),d()};if(e>=5)return z("Bailing out wrappers after 5 recursive tags"),I();var S=n.Wrapper_value.VASTAdTagURI_value.children.join("").replace(/^\\s*/,"").replace(/\\s*$/,""),k={impression:[],error:[],trackings:{},clickThrough:[],clickTracking:[],extensions:[],customClick:[]};(n.Wrapper_value.Impression||[]).forEach(function(e){k.impression.push(e.children.join("").replace(/^\\s*/,"").replace(/\\s*$/,""))}),(n.Wrapper_value.Error||[]).forEach(function(e){k.error.push(e.children.join("").replace(/^\\s*/,"").replace(/\\s*$/,""))}),n.Wrapper_value.Extensions_value&&n.Wrapper_value.Extensions_value.Extension&&(k.extensions=k.extensions.concat(n.Wrapper_value.Extensions_value.Extension)),n.Wrapper_value.Creatives_value&&n.Wrapper_value.Creatives_value.Creative&&n.Wrapper_value.Creatives_value.Creative.forEach(function(e){var t=e.Linear_value;if(t){var i=t.TrackingEvents_value;i&&i.Tracking&&i.Tracking.forEach(function(e){var t=e.event;k.trackings[t]=k.trackings[t]||[],k.trackings[t].push(e.children.join("").replace(/^\\s*/,"").replace(/\\s*$/,""))});var a=t.VideoClicks_value;a&&a.ClickThrough&&a.ClickThrough.forEach(function(e){k.clickThrough.push(e.children.join("").replace(/^\\s*/,"").replace(/\\s*$/,""))}),a&&a.ClickTracking&&a.ClickTracking.forEach(function(e){k.clickTracking.push(e.children.join("").replace(/^\\s*/,"").replace(/\\s*$/,""))}),a&&a.CustomClick&&a.CustomClick.forEach(function(e){k.customClick.push(e.children.join("").replace(/^\\s*/,"").replace(/\\s*$/,""))})}}),o(e+1,JSON.parse(JSON.stringify(t)).concat(k),S,I)}};d()})};o(1,[],e.uri,a)}(function(t,i){if(t)return e.error=t,e.emitLocal("error",t);if(!i)return e.error="no VAST ad",e.noVastAds=!0,e.emitLocal("error",e.error);var a=i.companions,o=i.mediaFiles,r=i.duration,n=i.companionsPositions,s=i.vastCompanions,l=i.wrapperStack,d=i.inlineVast,c=i.piximediaPayloads,p=i.inlineVastXML;e.companions=a,e.vastMediaFiles=o,e.duration=r,e.companionsPositions=n,e.vastCompanions=s,e.inlineVast=d,e.piximediaPayloads=c,e.wrapperStack=l,e.inlineVastXML=p,e.emitLocal("loaded")}))},B.prototype.fullSetup=function(){if(!this.hasBeenFullySetupPartial){this.hasBeenFullySetupPartial=!0;var e,t,i=this,o=this.globalOptions,r=this.key,n=this.mode;this.syncAdsNeedsRendezVous(),this.eventSiteId=this.globalOptions.vehicle_site_id||this.siteId,this.eventPlacementId=this.globalOptions.vehicle_placement_id||this.placementId,this.eventDealId=this.globalOptions.vehicle_deal_id||this.globalOptions.l_id,C.piximedia.PageClass&&!C.piximedia.PageClass.instance&&new C.piximedia.PageClass({site_id:this.siteId,placement_id:this.placementId}),this.numberOfEventsSent={},this.partialSync={tvCodes:[],tvCodesCampaigns:[]},this.birthdateCookie=this.getBirthdateCookie(),this.birthdateLS=this.getBirthdateLS();var s=this.getTopmostWindow();if(s._pmUrlType=s._pmUrlType||this.globalOptions.urlType,s._piximediaContextBySP){s.piximedia._.contextBySP=s.piximedia._.contextBySP||{};for(var l in s._piximediaContextBySP)s._piximediaContextBySP.hasOwnProperty(l)&&(s.piximedia._.contextBySP[l]=s._piximediaContextBySP[l]);delete s._piximediaContextBySP}if(o.pageLoadStart||(s.performance&&s.performance.timing&&s.performance.timing.responseStart?o.pageLoadStart=s.performance.timing.responseStart:o.pageLoadStart=new Date),this.msie=function(){var e=!1;if("Microsoft Internet Explorer"===navigator.appName){var t=navigator.userAgent,i=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})");null!=i.exec(t)&&(e=parseFloat(RegExp.$1))}return e}(),this.chrome=function(){try{return navigator.userAgent.search("Chrome")>=0?parseInt(navigator.userAgent.match(/Chrome\\/([0-9]+)/)[1],10):void 0}catch(e){}return void 0}(),this.safari=function(){try{return-1===navigator.userAgent.search("Chrome")&&navigator.userAgent.search("Safari")>=0?parseInt(navigator.userAgent.match(/Version\\/([.0-9]+)/)[1],10):void 0}catch(e){}return void 0}(),this.firefox=function(){try{return navigator.userAgent.search("Firefox")>=0?parseInt(navigator.userAgent.match(/Firefox\\/([0-9]+)/)[1],10):void 0}catch(e){}return void 0}(),this.trident=function(){try{return navigator.userAgent.search("Trident")>=0?parseInt(navigator.userAgent.match(/Trident\\/([0-9]+)/)[1],10):void 0}catch(e){}return void 0}(),this.cssCalc=!(this.msie&&this.msie<9||this.safari&&this.safari<8||this.firefox&&this.firefox<31||this.chrome&&this.chrome<34),this.window=C,this.document=_,this.pixelQueue=[],this.animations={},this.containerClassName=L?"pmContainer_"+r.replace(/[^A-Za-z0-9]/g,"-"):"",this.winlostIframeIds={},this.explicitlyRegisteredPositionIds={},this.trackingCampaignCalled={},this.trackingAdPixelsCalled={},this.trackingAdCreativePixelsCalled={},this.slotId=o.slotId||"",this.placementSlotId=this.placementId+(this.slotId?"$"+this.slotId:""),this.eventPlacementSlotId=this.globalOptions.vehicle_placement_id||this.placementId+(this.slotId?"$"+this.slotId:""),this.campaignIdsWithImpressions=s._pmCampaignIdsWithImpressions=s._pmCampaignIdsWithImpressions||{},this.adIdsWithImpressions=s._pmAdIdsWithImpressions=s._pmAdIdsWithImpressions||{},this.checkTopDomain(),this.numberOfExplicitPositions=0,this.globalOptions.loadPixelRandom=this.globalOptions.loadPixelRandom||Math.random(),this.master&&!this.globalOptions.location)try{this.globalOptions.location=this.getTopmostWindow().location.toString()}catch(d){}if(this.globalOptions.autoFacetPosition)try{(function(){var e=this.getTopmostWindow();"resources.pm"===e.location.hostname&&"/tools/preview/"===e.location.pathname&&(this.globalOptions.autoFacetPosition=void 0,this.globalOptions.facets=void 0)}).apply(this)}catch(d){}if((this.globalOptions.bodyclass_hostname||this.globalOptions.bodyclass_hostname_section||this.globalOptions.bodyclass_type)&&!function(){var e=i.getTopmostWindow(),t=e.document;t&&t.body&&(i.globalOptions.bodyclass_hostname&&t.body.setAttribute("pmhostname",e.location.hostname),i.globalOptions.bodyclass_hostname_section&&t.body.setAttribute("pmhostname-section",e.location.hostname+"/"+e.location.pathname.toString().substr(1).split("/")[0]),i.globalOptions.bodyclass_type&&t.body.setAttribute("pmtype",i.globalOptions.bodyclass_type))}(),this.globalOptions.autoFacetPosition)switch(this.facets=JSON.parse(JSON.stringify(this.globalOptions.facets||[])),this.currentFacetIndex=0,this.globalOptions.autoFacetPosition){case"shuffle":this.facets=this.facets.sort(function(){return Math.random()<.5})}if(o.hasOwnProperty("documentHasFocus")&&(this.documentHasFocus=o.documentHasFocus),this.syncDocumentHasFocus(),this.master&&(this.on("js-impression-ad-campaign",function(e,t,a,o){i.sendJSImpressionAdCampaign(e,t,a,o)}),this.on("create-opaque-animation",function(e,t,a){i.createOpaqueAnimation(e,t,a)}),this.on("play-opaque-animation",function(e,t,a){i.playOpaqueAnimation(e,t,a)}),this.on("reverse-opaque-animation",function(e,t,a){i.reverseOpaqueAnimation(e,t,a)}),this.on("clear-opaque-animation",function(e){i.clearOpaqueAnimation(e)}),this.on("wait-top-dom-loaded",function(e){i.waitTopDomLoaded(function(){i.emit(e)})}),this.on("bind-visibility-tracker",function(e,t,a,o){i.bindVisibilityTracker(e,t,a,o)}),this.on("start-navigation-tracking",function(e){i.startNavigationTracking(e)})),!this.realAds.length&&this.globalOptions.keepAdringForRTA){var c=i.canWriteCookies();c&&(_.cookie="pixi_rta_pos=; path=/; "+this.getDomainPartForCookies()+"expires=Thu, 01 Jan 1970 00:00:00 GMT",_.cookie="pixi_rta_pos=; path=/; expires=Thu, 01 Jan 1970 00:00:00 GMT");var p=this.globalOptions.pixiAdrName;c&&(_.cookie=p+"=; path=/; "+this.getDomainPartForCookies()+"expires=Thu, 01 Jan 1970 00:00:00 GMT",_.cookie=p="=; path=/; expires=Thu, 01 Jan 1970 00:00:00 GMT")}C.piximedia.request_pos=C.piximedia.request_pos||{},C.piximedia.request_pos_sp=C.piximedia.request_pos_sp||{},C.piximedia.request_pos_sp[this.siteId]=C.piximedia.request_pos_sp[this.siteId]||{};var m=this.request_pos=C.piximedia.request_pos_sp[this.siteId][this.placementId]=C.piximedia.request_pos_sp[this.siteId][this.placementId]||{},u=this.globalOptions.rtaPositionsToRequestOnlyWhenRequired||[];for(e=0;e<this.availableAds.length;e++){if(t=this.availableAds[e],t.require&&t.require.positions)for(var h=this.parseRequestedPositions(t.require.positions),f=0;f<h.length;f++){m[h[f]]=!0,C.piximedia.request_pos[h[f]]=!0;var v=i.getPrerequisiteVirtualPosition(h[f]);v&&(m[v]=!0,C.piximedia.request_pos[v]=!0)}if(!t.passback&&t.use&&t.use.positions)for(var g=this.parseRequestedPositions(t.use.positions),b=0;b<g.length;b++){var w=g[b];if(-1===a(u,w)){m[w]=!0,C.piximedia.request_pos[w]=!0;var x=i.getPrerequisiteVirtualPosition(w);x&&(m[x]=!0,C.piximedia.request_pos[x]=!0)}}}if(this.globalOptions.requestPosJSSnippet)try{new Function(["request_pos","pam"],this.globalOptions.requestPosJSSnippet).call(i,C.piximedia.request_pos,i),new Function(["request_pos","pam"],this.globalOptions.requestPosJSSnippet).call(i,m,i)}catch(I){z("Could not execute request_pos JS snippet: ",I)}if(n.match(/^alliance/)){C.piximedia.core||(C.piximedia.core=new y(this));var S=this.siteId+"|"+this.placementId,k=setInterval(function(){try{var e=i.getTopmostWindow();e&&e.pmLoopBlocker&&e.pmLoopBlocker.hasOwnProperty(S)&&(clearInterval(k),i.loadEvent("PANIC",void 0,void 0,{fail_reason:"both_v1_and_position_tags"}))}catch(t){}},2e3);setTimeout(function(){i.sendStatistics()},1.5*(this.globalOptions.rendezvous_duration||T))}this.globalOptions.enableFooter&&this.getTopmostWindow()===top&&this.hello({implicit:!0,ajax:!0,positionId:"footer"}),this.globalOptions.enableImplicitInpage&&this.enableImplicitInpage(),W(this.master?"Master PAM Created":"Hosted PAM Created"),this.globalOptions.pamela&&this.waitDomLoaded(function(){var e=i.getTopmostDocument(),t=e.createElement("script");e.body.appendChild(t),t.src="http://resources.pm/tools/pamela/pamelight.js"}),this.loadJSDMP(),this.globalOptions.bwd_probability&&Math.random()<this.globalOptions.bwd_probability&&this.runDevicePixelTest(),i.prepareAds(function(){i.hasBeenFullySetup=!0,i.emit("full-setup")});try{s.open.toString().match("[native code]")||i.loadEvent("POPUP_MAY_BLOCK"),s.String.prototype.toString.toString().match("[native code]")||i.loadEvent("POPUP_MAY_BLOCK",void 0,void 0,{detail:"toString"});for(var P=["__webdriver_evaluate","__selenium_evaluate","__webdriver_script_function","__webdriver_script_func","__webdriver_script_fn","__fxdriver_evaluate","__driver_unwrapped","__webdriver_unwrapped","__driver_evaluate","__selenium_unwrapped","__fxdriver_unwrapped"],A=0;A<P.length;A++)s.document[P[A]]&&i.loadEvent("POPUP_MAY_BLOCK",void 0,void 0,{detail:P[A]});for(var E=["_phantom","__nightmare","_selenium","callPhantom","callSelenium","_Selenium_IDE_Recorder"],O=0;O<E.length;O++)s[E[O]]&&i.loadEvent("POPUP_MAY_BLOCK",void 0,void 0,{detail:E[O]});window.navigator.userAgent.match(/PhantomJS/)?i.loadEvent("POPUP_MAY_BLOCK",void 0,void 0,{detail:"PhantomJS"}):s.navigator.plugins instanceof s.PluginArray||i.loadEvent("POPUP_MAY_BLOCK",void 0,void 0,{detail:"plugins"})}catch(d){}}},B.prototype.matchRTReq=function(e,t){return e.asset_id?t.matchRTReqAsset(e):t.matchRTReqGlobal(e)},B.prototype.prepareAds=function(e){var t=this;t.loadExternalAssets(function(){t.applyRTReqs();for(var i=0;i<t.availableAds.length;i++){var a=t.availableAds[i];a&&a.args&&"external_buyer_pays"===a.args.sale_mode&&!a.bid&&a.isUsingValidPositions()&&(a.require={positions:["error-5292"]},a.use={positions:[]})}return e()})},B.prototype.applyRTReqs=function(){for(var e=this,t=0;t<e.availableAds.length;t++){var i=e.availableAds[t],a=!0;if(i.metaOptions&&i.metaOptions.rtreq&&i.metaOptions.rtreq.length)for(var o=0;o<i.metaOptions.rtreq.length;o++){var r=i.metaOptions.rtreq[o];e.matchRTReq(r,i)||(V("Ad "+i.adId+" failed rtreq: "+JSON.stringify(r)),a=!1)}a||(i.require={positions:["disabled-rtreq"]},i.use={positions:["disabled-rtreq"]})}},B.prototype.loadJSDMP=function(){if(this.globalOptions.jsDMPURL){var e=this.getPmLoaderDoc(),t=e.createElement("script");t.src=this.globalOptions.jsDMPURL;var i=function(){var a=e.getElementsByTagName("head")[0];a?a.appendChild(t):C.setTimeout(i,50)};i()}},A=B,B.setupAllPAMS=function(){for(var e in C.piximedia._.pams)C.piximedia._.pams.hasOwnProperty(e)&&C.piximedia._.pams[e].fullSetup()},B.prototype.runDevicePixelTest=function(){var e=this.globalOptions.device,t=this.msie?"msie":this.chrome?"chrome":this.safari?"safari":this.firefox?"firefox":this.trident?"trident":"other",i=navigator.userAgent.match(/iPhone/)?"iPhone":navigator.userAgent.match(/iPad/)?"iPad":"other";this.loadEvent("JS:DEVICE",void 0,void 0,{c1:e,c2:t,c3:i})},B.prototype.runPixeldisTest=function(){var e=this.getTopmostWindow();if(this.master&&e===top&&!(Math.random()<.9)){var t;switch(Math.round(5*Math.random())+1){case 1:t="//d26ljjbiopow12.cloudfront.net/alliance/sandbox/pixeldis/a.html";break;case 2:t="//d26ljjbiopow12.cloudfront.net/alliance/sandbox/pixeldis/b.html";break;case 3:t="//d26ljjbiopow12.cloudfront.net/alliance/sandbox/pixeldis/c.html";break;case 4:t="//d26ljjbiopow12.cloudfront.net/alliance/sandbox/pixeldis/d.html";break;case 5:t="//d26ljjbiopow12.cloudfront.net/alliance/sandbox/pixeldis/e.html";break;default:case 6:t="//d26ljjbiopow12.cloudfront.net/alliance/sandbox/pixeldis/f.html"}this.waitDomMutable(function(){var i=e.document.getElementsByTagName("head");if(1===i.length){var a=i[0],o=e.document.createElement("iframe");o.id="pixipixeldis",o.src=t,a.appendChild(o)}})}},B.prototype.sendJSImpressionAdCampaign=function(e,t,i,a){if(!this.master)return this.emit("js-impression-ad-campaign",e,t,i,a);var o=this.positions[i];e&&!this.campaignIdsWithImpressions[e]&&(this.campaignIdsWithImpressions[e]=e,o.loadEvent("JS:IMPRESSION:CAMPAIGN",{detail:a})),t&&!this.adIdsWithImpressions[t]&&(this.adIdsWithImpressions[t]=t,o.loadEvent("JS:IMPRESSION:AD",{detail:a}))},B.prototype.log=J,B.prototype.warn=V,B.prototype.error=z,B.prototype.loadPixel=function(e){if(e&&" "!==e&&"PIXEL_URL"!==e){var t=e.toString().match(/^([0-9.]+)%:(.*)/);if(t){var i=parseFloat(t[1],10)/100;if(this.globalOptions.loadPixelRandom>i)return;e=t[2]}e.match(/MACRO_PIXIMEDIA_TLL/)&&(e=e.replace(/MACRO_PIXIMEDIA_TLL/g,encodeURIComponent(this.getTopLevelLocation()))),s(e.replace(/%n|\\[random_number\\]|\\[cachebuster\\]|\\[random\\]|\\[timestamp\\]/gi,Math.round(1e16*Math.random()).toString()))}},B.prototype.syncDocumentHasFocus=function(){var e=this;if(this.master){var t=e.getTopmostDocument();e.documentHasFocus=t.hasFocus(),setInterval(function(){var i=t.hasFocus();i!==e.documentHasFocus&&(e.documentHasFocus=i,e.emit("focus-change",i))},1e3)}else this.on("focus-change",function(t){e.documentHasFocus=t})},B.prototype.cleanupPixiRTAPosCookie=function(e){e=e||{};var t=C.piximedia.request_pos_sp[this.siteId][this.placementId],i=!1;for(var a in t)if(t.hasOwnProperty(a)){i=!0;break}this.canWriteCookies()&&(i||"alliance"!==this.mode||(e.keepRTAPos||(_.cookie="pixi_rta_pos=; path=/; "+this.getDomainPartForCookies()+"expires=Thu, 01 Jan 1970 00:00:00 GMT",_.cookie="pixi_rta_pos=; path=/; expires=Thu, 01 Jan 1970 00:00:00 GMT"),_.cookie="pixi_adr=; path=/; "+this.getDomainPartForCookies()+"expires=Thu, 01 Jan 1970 00:00:00 GMT",_.cookie="pixi_adr=; path=/; expires=Thu, 01 Jan 1970 00:00:00 GMT",this.globalOptions.pixiAdrName&&(_.cookie=this.globalOptions.pixiAdrName+"=; path=/; "+this.getDomainPartForCookies()+"expires=Thu, 01 Jan 1970 00:00:00 GMT",_.cookie=this.globalOptions.pixiAdrName+"=; path=/; expires=Thu, 01 Jan 1970 00:00:00 GMT")))},B.prototype.canWriteCookies=function(){var e,t=this;try{var i=t.getTopmostDocument();e=i.domain}catch(a){}return e=(e||"").toString(),e.match(/googlesyndication\\.com|doubleclick\\.net|google\\.com|googleusercontent\\.com/)?!1:this.globalOptions.disableDomainCookies?!1:!0},B.prototype.exposePixiRTAPosCookie=function(e){if(e=e||{},this.canWriteCookies()){e.expires||(e.expires=new Date((new Date).getTime()+1e3*M)),e.pixiRTAPosExpires||(e.pixiRTAPosExpires=new Date((new Date).getTime()+1e3*(this.globalOptions.pixiRTAPosExpires||M)));var t=[];for(var i in C.piximedia.request_pos)C.piximedia.request_pos.hasOwnProperty(i)&&t.push(i);if(_.cookie="pixi_rta_pos=; path=/; expires=Thu, 01 Jan 1970 00:00:00 GMT",_.cookie="pixi_rta_pos="+escape(t.join(";"))+"; path=/; "+this.getDomainPartForCookies()+(e.pixiRTAPosExpires?"; expires="+e.pixiRTAPosExpires.toUTCString():""),_.cookie="pixi_rta_v="+escape("1;"+(new Date).getTime())+"; path=/; "+this.getDomainPartForCookies()+(e.expires?"; expires="+e.expires.toUTCString():""),this.globalOptions.exposeRTAPosHelperJS){var a=this.getTopmostWindow();try{a.Function(["req_pos","window","document"],this.globalOptions.exposeRTAPosHelperJS).call(a,t,a,a.document)}catch(o){z("Could not execute RTA position helper: "+o)}}var r=+new Date,n=void 0!==this.getBirthdateCookie();n||(_.cookie="pixi_birthdate="+escape(r)+"; path=/; "+this.getDomainPartForCookies()+"; expires="+new Date((new Date).getTime()+31536e6).toUTCString());try{C.localStorage&&C.localStorage.getItem&&C.localStorage.setItem&&(C.localStorage.getItem("pixi_birthdate")||C.localStorage.setItem("pixi_birthdate",r))}catch(s){}}},B.prototype.stringify=function(e){return void 0===e?"undefined":null===e?"null":"number"==typeof e?e:(e=e.toString(),\'"\'+e.replace(/\\\\/g,"\\\\\\\\").replace(/"/g,\'\\\\"\')+\'"\')},B.prototype.loadActivityPixel=function(e,t){t=t||{};var i=C.piximedia._.contextBySP?C.piximedia._.contextBySP[this.siteId+"/"+this.placementId]:void 0;s("//"+O+"/activity/?|||advertiser_id="+e.advertiser_id+";page_id="+e.page_id+";activity_type="+e.activity_type+";sale_amount="+e.sale_amount+";sale_quantity="+e.sale_quantity+";sale_currency="+e.sale_currency+";customer_user_id="+e.customer_user_id+";http_secure="+C.location.protocol+";save_last_url="+(e.save_last_url?"true":"false")+";|"+i+"|"+this.rand()+"|")},B.prototype.getTopLevelLocation=function(){var e=this.getTopmostWindow(),t=e.document.referrer,i=e===window.top;return i?e.location.href:t||e.location.href},B.prototype.getTrackedUrl=function(e,t,i,a){i=i||{};var o=(void 0===i.c1?"":i.c1.toString()).replace(/;/g,","),r=(void 0===i.c2?"":i.c2.toString()).replace(/;/g,","),n=(void 0===i.c3?"":i.c3.toString()).replace(/;/g,","),s=(void 0===i.c4?"":i.c4.toString()).replace(/;/g,","),l=(void 0===i.c5?"":i.c5.toString()).replace(/;/g,","),d=(this.globalOptions.l_id?this.globalOptions.l_id.toString():"").replace(/;/g,","),c=void 0===i.firstOnAd?"":i.firstOnAd?1:0,p=void 0===i.firstOnUnit?"":i.firstOnUnit?1:0,m=void 0===i.duration?"":i.duration.toString(),u=void 0===i.fail_reason?"":i.fail_reason.toString(),h=void 0===i.detail?"":i.detail.toString(),f=this.globalOptions.bwai?";bwli="+encodeURIComponent(this.globalOptions.bwli)+";bwmo="+encodeURIComponent(this.globalOptions.bwmo)+";bwsi="+encodeURIComponent(this.globalOptions.bwsi)+";bwas="+encodeURIComponent(this.globalOptions.bwas)+";bwai="+encodeURIComponent(this.globalOptions.bwai)+";bwdm="+encodeURIComponent(this.globalOptions.bwdm)+";bwpi="+encodeURIComponent(this.globalOptions.bwpi)+";bwis="+encodeURIComponent(this.globalOptions.bwis)+";bweh="+encodeURIComponent(this.globalOptions.bweh)+";bwsf="+encodeURIComponent(this.globalOptions.bwsf):"",v=f+";tlh="+this.globalOptions.tlh+";c1="+o+";c2="+r+";c3="+n+";c4="+s+";c5="+l+";l_id="+d+";duration="+m+";first_on_ad="+c+";first_on_unit="+p+";detail="+h+";error="+u;i.campaignIdAlliance?v+=";campaign_id="+i.campaignIdAlliance:this.globalOptions.forcedCampaignId&&(v+=";campaign_id="+this.globalOptions.forcedCampaignId),i.adIdAlliance&&(v+=";ad_id="+i.adIdAlliance),i.creativeIdAlliance&&(v+=";creative_id="+i.creativeIdAlliance),i.componentSetId&&(v+=";component_set_id="+encodeURIComponent(i.componentSetId)),this.globalOptions.pamid&&(v+=";pamid="+this.globalOptions.pamid),this.globalOptions.bffp&&(v+=";bffp;tll="+encodeURIComponent(this.getTopLevelLocation().substr(0,200)));var g=C.piximedia._.contextBySP?C.piximedia._.contextBySP[this.siteId+"/"+this.placementId]:void 0;return g||(g=K.toString(),C.piximedia._.contextBySP=C.piximedia._.contextBySP||{},C.piximedia._.contextBySP[this.siteId+"/"+this.placementId]=g),"https://"+O+"/event/P|"+this.siteId+"|"+this.placementSlotId+"|event="+e+v+(a?";ticket="+a.ticket+";signature="+a.signature:"")+"|"+g+"|"+this.rand()+"|click="+t},B.prototype.isEventAllowed=function(e){return e.match(/^JS:ACTIVATE/)?this.globalOptions.allowActivateEvents:e.match(/^EXPECT:/)?this.globalOptions.allowExpectEvents:e.match(/^JS:DELAY:/)?!1:!0},B.prototype.loadEvent=function(e,t,i,a){if(!this.isEventAllowed(e))return void J("Ignoring event "+e);switch(a=a||{},e){case"IMPRESSION":case"CLICK":break;default:if(this.numberOfEventsSent[e]=(this.numberOfEventsSent[e]||0)+1,this.numberOfEventsSent[e]>=50){if(50!==this.numberOfEventsSent[e])return;a.detail=(a.detail||"").toString()+":"+e,e="TOO_MANY_EVENTS"}}!t||i&&i.ticket&&i.signature||a.noTicket||this.globalOptions.noTicket||!this.mode.match(/^alliance/)||W("Required ticketInfos");var o,r=C.piximedia._.contextBySP?C.piximedia._.contextBySP[this.siteId+"/"+this.placementId]:void 0;if(r||(r=K.toString(),C.piximedia._.contextBySP=C.piximedia._.contextBySP||{},C.piximedia._.contextBySP[this.siteId+"/"+this.placementId]=r),t&&t.params)o=";"+t.params;else{var n=(t&&t.campaignIdAlliance?t.campaignIdAlliance:this.globalOptions.forcedCampaignId)||"",l=(void 0===a.c1?"":a.c1.toString()).replace(/;/g,","),d=(void 0===a.c2?"":a.c2.toString()).replace(/;/g,","),c=(void 0===a.c3?"":a.c3.toString()).replace(/;/g,","),p=(void 0===a.c4?"":a.c4.toString()).replace(/;/g,","),m=(void 0===a.c5?"":a.c5.toString()).replace(/;/g,","),u=(void 0===a.absp?"":a.absp.toString()).replace(/;/g,","),h=(void 0===a.cpma?"":a.cpma.toString()).replace(/;/g,","),f=(void 0===a.absm?"":a.absm.toString()).replace(/;/g,","),v=(void 0===a.pbsp?"":a.pbsp.toString()).replace(/;/g,","),g=(void 0===a.pbsm?"":a.pbsm.toString()).replace(/;/g,","),b=(void 0===this.eventDealId?"":this.eventDealId.toString()).replace(/;/g,","),y=void 0===a.firstOnAd?"":a.firstOnAd?1:0,w=void 0===a.firstOnUnit?"":a.firstOnUnit?1:0,x=void 0===a.duration?"":a.duration.toString(),I=void 0===a.fail_reason?"":a.fail_reason.toString(),S=void 0===a.detail?"":a.detail.toString(),k=a.componentSetId||"",P=this.globalOptions.bwai?";bwli="+encodeURIComponent(this.globalOptions.bwli)+";bwmo="+encodeURIComponent(this.globalOptions.bwmo)+";bwsi="+encodeURIComponent(this.globalOptions.bwsi)+";bwas="+encodeURIComponent(this.globalOptions.bwas)+";bwai="+encodeURIComponent(this.globalOptions.bwai)+";bwdm="+encodeURIComponent(this.globalOptions.bwdm)+";bwpi="+encodeURIComponent(this.globalOptions.bwpi)+";bwis="+encodeURIComponent(this.globalOptions.bwis)+";bweh="+encodeURIComponent(this.globalOptions.bweh)+";bwsf="+encodeURIComponent(this.globalOptions.bwsf):"";o=P+";c1="+l+";c2="+d+";c3="+c+";c4="+p+";c5="+m+(g?";pbsm="+g:"")+(v?";pbsp="+v:"")+(h?";cpma="+h:"")+(f?";absm="+f:"")+(u?";absp="+u:"")+";l_id="+b+";duration="+x+";first_on_ad="+y+(k?";component_set_id="+encodeURIComponent(k):"")+";first_on_unit="+w+";detail="+S+";error="+I+(this.globalOptions.urlType?";url_type="+encodeURIComponent(this.globalOptions.urlType):""),n&&(o+=";campaign_id="+n),t&&(o+=";ad_id="+t.adIdAlliance+";creative_id="+t.creativeIdAlliance),this.globalOptions.pamid&&(o+=";pamid="+this.globalOptions.pamid)}this.globalOptions.serialId&&(o+=";serial_id="+this.globalOptions.serialId),this.globalOptions.bffp&&(o+=";bffp;tll="+encodeURIComponent(this.getTopLevelLocation().substr(0,200))),o+=";tlh="+this.globalOptions.tlh;var _;if(a.prefixURI)_=!1;else switch(e){case"IMPRESSION":case"CLICK":case"AP_NAVIGATION":case"AP_NAV_10":case"AP_NAV_30":_=!1;break;default:_=!1}if(_){var A=this,T=o+(i?";ticket="+i.ticket+";signature="+i.signature:"");this.pixelQueue[T]=this.pixelQueue[T]||[],this.pixelQueue[T].push(e),this.pixelQueueTimer||(this.pixelQueueTimer=setTimeout(function(){A.pixelQueueTimer=void 0;var e=A.pixelQueue;A.pixelQueue=[];for(var t in e)e.hasOwnProperty(t)&&s("https://"+O+"/eventq/?P|"+A.eventSiteId+"|"+A.eventPlacementSlotId+"|eventq="+e[t].join(",")+t+"|"+r+"|"+A.rand()+"|")},1500))}else s((a.prefixURI||"")+"https://"+O+"/event/P|"+this.eventSiteId+"|"+this.eventPlacementSlotId+"|event="+e+o+(i?";ticket="+i.ticket+";signature="+i.signature:"")+"|"+r+"|"+this.rand()+"|");\nswitch(e){case"CLICK":case"AP_NAVIGATION":case"AP_NAV_10":case"AP_NAV_30":s("//"+O+"/profile/location.php?e="+e+"&p="+escape(o))}switch(e){case"JS:POSITION_USED":var E=(a.detail||"").toString(),N=Math.random()<R;if(E){var L=this.mode+"/"+this.siteId+"/"+this.placementSlotId+"/"+E,M=this.getTopmostWindow();if(M.pmTimePositions&&M.pmTimePositions[L]){var D=M.pmTimePositions[L];if(D.events=D.events||{},!D.events[e]){D.events[e]=!0;var F,q=Math.round((new Date-D.date)/1e3);if(q>=0&&120>q){switch(e){case"JS:POSITION_USED":F="JS:DELAY:POSITION_USED"}var j=K.getData();if(N&&this.loadEvent(F,t,i,{detail:E,duration:q,c1:j.browser_name,c2:j.browser_major_version}),"JS:POSITION_USED"===e&&M.performance&&M.performance.timing&&M.performance.timing.responseStart){var z=new Date(M.performance.timing.responseStart);q=Math.round((D.date-z)/1e3),q>=0&&120>q&&N&&this.loadEvent("JS:DELAY:POSITION",t,i,{detail:E,duration:q,c1:j.browser_name,c2:j.browser_major_version})}}}}}}setTimeout(function(){B.emit("event",e,t,a)},0)},B.prototype.getDomainPartForCookies=function ee(){if(ee.cache)return ee.cache;try{var e=this.getDocumentAndWindowInfos().window;switch(e.location.protocol){case"http:":case"https:":return ee.cache="domain=."+e.location.hostname.split(".").slice(-2).join(".")+"; "}}catch(t){}return""},B.prototype.watchForRemoval=function(e,t){var i=this;if(this.safari||this.chrome)e.addEventListener("DOMNodeRemovedFromDocument",t);else var a=setInterval(function(){return i.isInDOM(e)?void 0:(clearInterval(a),t())},500)},B.prototype.isInDOM=function(e){try{for(var t=e,i=0;100>i;i++,t=t.parentNode){if(!t.parentNode)return!1;if("HTML"===t.parentNode.tagName)return!0}}catch(t){return!1}},B.prototype.isInHead=function(e){for(var t=e,i=0;100>i;i++,t=t.parentNode){if(!t.parentNode)return!1;if("HEAD"===t.parentNode.tagName)return!0;if("HTML"===t.parentNode.tagName)return!1}},B.prototype.loadLibraries=function(e,t){var i=this,a=function(){try{return t.call(i)}catch(e){return void z("Caught exception when calling loadLibraries() callback: "+e)}},o=e.length;if(!o)return a();for(var r=function(){return--o?void 0:a()},n=0;n<e.length;n++)this.loadLibrary(e[n],r)},B.prototype.getPmLoaderDoc=function(){var e,t=this.getTopmostDocument();if(this.msie&&this.msie<8)e=t;else{var i=t.getElementById("pmFiFLoader");if(!i){var a,o=t.getElementsByTagName("head")[0];i=t.createElement("iframe"),i.id="pmFiFLoader";var r=t.createElement("iframe"),n=t.createElement("iframe");r.id="pmFiFLoader_protect_before",n.id="pmFiFLoader_protect_after",r.className="this_should_be_empty web_designer",n.className="this_should_be_empty web_designer",o.appendChild(r),o.appendChild(i),o.appendChild(n);try{a=i.contentWindow,e=i.contentDocument||i.contentWindow.document}catch(s){var l=this.getTopmostDocument();try{i.src="javascript:document.write(\'<head><script>document.domain=\\""+l.domain+"\\";</script></head><body></body>\')",e=i.contentDocument||i.contentWindow.document,a=i.contentWindow}catch(s){i.src="javascript:document.write(\'<head><script>document.domain=\\""+i.ownerDocument.domain+"\\";</script></head><body></body>\')",e=i.contentDocument||i.contentWindow.document,a=i.contentWindow}}e.write("<html><head></head><body><script>setTimeout(function(){document.close();},0);</script></body></html>"),i.contentWindow._piximediaIsFiFLoader=!0}i.contentWindow.piximedia=i.contentWindow.piximedia||C.piximedia,e=i.contentDocument||i.contentWindow.document}return e},B.prototype.loadLibrary=function(e,t){if(i(e))return this.loadLibraries(e,t);var a,o=this,r=function(){try{return t.apply(o,arguments)}catch(i){return void z("Caught exception when calling loadLibrary() callback for "+e+": "+i)}},n=C.piximedia.libraryLoader=C.piximedia.libraryLoader||{};if(n.hasOwnProperty(e))a=n[e],a.loaded?r():a.callbacks.push(r);else{if(!this.globalOptions.libs){var s=K.getData();this.loadEvent("PANIC",void 0,void 0,{fail_reason:"no_libs",c1:s.browser_name})}var l=(this.globalOptions.libs||{})[e];l||(l="//"+N+"/lib/"+e+(L?"/debug":"")),a=n[e]={callbacks:[r]},o.debug("Loading library "+e);var d=this.getPmLoaderDoc(),c=d.createElement("script");c.src=l;var p,m,u=function(){if(!a.loaded){a.loaded=!0;for(var t=a.callbacks,i=0;i<t.length;i++)t[i]();var r=setInterval(function(){if(!o.isInDOM(c)){var t=K.getData();o.loadEvent("PANIC",void 0,void 0,{fail_reason:"loader_winlost",c1:t.browser_name}),W("No longer in DOM: "+e),a.loaded=!1,delete n[e],clearInterval(r),o.loadLibrary(e,function(){W("Back in DOM: "+e)})}},50)}},h=function(){a.complete&&u()},f=function(){a.complete&&(m.clearInterval(p),u())};a.onloads=a.onloads||[],a.onloads.push(f);var v=function(){var e=d.getElementsByTagName("head")[0];if(e){e.appendChild(c);var t=o.getTopmostWindow();m=t,p=m.setInterval(f,50)}else C.setTimeout(v,50)};c.addEventListener?c.addEventListener("load",h,!1):c.readyState&&(c.onreadystatechange=h),v()}},B.prototype.loadCSSs=function(e,t){var i=this,a=function(){try{return t.call(i)}catch(e){return void z("Caught exception when calling loadCSSs() callback: "+e)}},o=e.length;if(!o)return a();for(var r=function(){return--o?void 0:a()},n=0;n<e.length;n++)this.loadCSS(e[n],r)},B.prototype.loadCSS=function(e,t){if(i(e))return this.loadCSSs(e,t);var a,o=this,r=function(){if(t)try{return t.apply(o,arguments)}catch(i){return void z("Caught exception when calling loadLibrary() callback for "+e+": "+i)}},n=C.piximedia.cssLoader=C.piximedia.cssLoader||{};if(n.hasOwnProperty(e))a=n[e],a.loaded?a.callCallback(t):a.callbacks.push(r);else{var s=this.globalOptions.css[e];if(!s)return void z("Unknown CSS: "+e);a=n[e]={callbacks:[r]};var l=this.getPmLoaderDoc(),d=l.createElement("script");d.src=s;var c=function(){if(!a.loaded){a.loaded=!0;for(var e=a.callbacks,t=0;t<e.length;t++)a.callCallback(e[t])}},p=function(){a.complete&&c()};a.onloads=a.onloads||[];var m,u,h=function(){a.complete&&(u.clearInterval(m),c())};a.onloads.push(h);var f=function(){var e=l.getElementsByTagName("head")[0];if(e){e.appendChild(d);var t=o.getTopmostWindow();u=t,m=u.setInterval(h,50)}else C.setTimeout(f,50)};d.addEventListener?d.addEventListener("load",p,!1):d.readyState&&(d.onreadystatechange=p),f()}},B.prototype.loadCSSInDocument=function(e,t,i){this.loadCSS(e,function(e){return e.loadCSSInDocument(t),i()})},B.prototype.hello=function(e){var t=this;return t.master&&!t.hasBeenFullySetup?t.waitFullSetup(function(){t.hello(e)}):void function(i){return t._requiresPartialStage2(e)?void t.loadPartialStage2(e.positionId,i):i()}(function(){var i=t._helloImpl(e);if(null!==i){if(!i)return t.loadEvent("PANIC",void 0,void 0,{fail_reason:"hello_did_not_return_position_"+e.positionId});if(!i.decoratedBy){var a=i.positionId,o=t.realAds.length?"has_real_ads":"no_real_ads";if(i.implicit||a.match(/^room\\./))return;t.scheduledRendezVous&&!t.performedRendezVous?(i.loadEvent("JS:POSITION:WAIT_RV",{detail:e.positionId,c2:o}),t.on("after-rendez-vous",function(){i.decoratedBy||i.loadEvent("JS:POSITION:NO_ADS",{c1:"after_rendez_vous",c2:o,detail:a})})):i.loadEvent("JS:POSITION:NO_ADS",{detail:a,c1:"sync",c2:o})}}})},B.prototype._requiresPartialStage2=function(e){var t=e.positionId,i=e.size,a=e.forcedAdId;if(t.match(/^room\\./))return!1;if(!this.globalOptions.position_filters||this.globalOptions.position_filters.indexOf(t)>=0)return!1;var o={};o[t]={positionId:t,size:i,forcedAdId:a};var r={},n=!1;r[t]={positionId:t};for(var s=0;1>=s;s++){for(var l=0===s,d=0;d<this.availableAds.length;d++){var c=this.availableAds[d];if(c.active){if(c.require&&c.require.positions&&this.queryPositions(c.require.positions,{adId:c.adId,availableSizes:c.formatTraits,positions:r,notRequestedByActiveAd:!0,activeAndNotUsed:!0,spaceIsOr:!0}).length){n=!0;break}if(c.use&&c.use.positions&&this.queryPositions(c.use.positions,{adId:c.adId,availableSizes:c.formatTraits,conditionPositions:this.positions,positions:r,notRequestedByActiveAd:!0,activeAndNotUsed:!0,spaceIsOr:!0}).length){n=!0;break}}else{if(l)continue;if(c.require&&c.require.positions){var p=!!this.queryPositions(c.require.positions,{adId:c.adId,availableSizes:c.formatTraits,notRequestedByActiveAd:!0,activeAndNotUsed:!0,spaceIsOr:!0}).length,m=!!this.queryPositions(c.require.positions,{adId:c.adId,availableSizes:c.formatTraits,spaceIsOr:!0,positions:o}).length;if(p&&m){if(this.queryPositions(c.require.positions,{adId:c.adId,availableSizes:c.formatTraits,notRequestedByActiveAd:!0,activeAndNotUsed:!0,requireAll:!0}).length){n=!0;break}break}break}if(c.use&&c.use.positions){var u=!!this.queryPositions(c.use.positions,{adId:c.adId,availableSizes:c.formatTraits,spaceIsOr:!0,positions:o}).length,h=!!this.queryPositions(c.use.positions,{adId:c.adId,availableSizes:c.formatTraits,notRequestedByActiveAd:!0,activeAndNotUsed:!0,spaceIsOr:!0,onlyActive:!0}).length;if(u&&h){n=!0;break}}}}if(n)break}return!n},B.prototype._helloImpl=function(e){var t=this;if(this.master&&"alliance:"===this.mode&&(this.globalOptions.passbackMode||")".match(/dynamic/))&&(e.passbackSrc||(e.inlineScript||"").match(/\\S/))&&this.availableAds&&!t.hasDefaultPassbackAd&&(this.hasDefaultPassbackAd=!0,this.availableAds.push(new $(this,{passback:{contents:"",type:"inline"},uniqid:"default_passback_"+Math.random(),use:{positions:["*"]}}))),!e.implicit&&this.master){var i=this.globalOptions.autoFacetDevice;switch(this.globalOptions.autoFacetPosition){case"shuffle":case"sequence":var o=this.facets[this.currentFacetIndex++];this.currentFacetIndex>=this.facets.length&&(this.currentFacetIndex=0),e.positionId+="."+o;break;case"device":i=!0}if(i){if(t.globalOptions.virtualPositions)for(var r in t.globalOptions.virtualPositions)if(t.globalOptions.virtualPositions.hasOwnProperty(r)&&r.replace(/@/,".")===e.positionId){t.globalOptions.virtualPositions[r+"."+t.globalOptions.device]=t.globalOptions.virtualPositions[r],delete t.globalOptions.virtualPositions[r];break}e.positionId+="."+t.globalOptions.device}}if(t.globalOptions.addFacets&&(e.positionId+="."+t.globalOptions.addFacets.join(".")),W(e.positionId?\'hello({positionId:"\'+e.positionId+\'"})\':"hello()"),this.globalOptions&&this.globalOptions.virtualPositions&&this.globalOptions.virtualPositions[e.originalPositionId]){var n=!!this.globalOptions.virtualPositions[e.positionId];this.globalOptions.virtualPositions[e.positionId]=this.globalOptions.virtualPositions[e.originalPositionId],n||(this.globalOptions.virtualPositions[e.positionId]["transient"]=!0)}if(e||z("Missing options"),this.globalOptions.positionsUniqueOnPage&&a(this.globalOptions.positionsUniqueOnPage,e.positionId)>=0)for(var l in window.piximedia._.pams)if(window.piximedia._.pams.hasOwnProperty(l)&&l.match(/^pam/)){var d=window.piximedia._.pams[l];if(d&&d!==this&&d.positions&&d.positions[e.positionId])return z("Cannot register "+e.positionId+" because another PAM has a used footer"),this.globalOptions.disableRegisteredMultiplePanics||e.implicit||this.loadEvent("PANIC",void 0,void 0,{fail_reason:"registered_multiple_"+e.positionId}),null}if(e.implicit){if(this.master){var c=function(e){if(e){"string"==typeof e&&t.loadPixel(e);for(var i=0;i<e.length;i++)t.loadPixel(e[i])}},p={};p[e.positionId]={positionId:e.positionId};for(var m in t.globalOptions.positionArgs||{})if(t.globalOptions.positionArgs.hasOwnProperty(m)&&t.queryPosition(m,{positions:p}).length){var u=t.globalOptions.positionArgs[m],h=u["tracking.position"],f=u["tracking.placement"];h&&(c(h.pixelUrl),e.advertiserClickUrl=((h||{}).clickUrl||[])[0]||e.advertiserClickUrl,e.advertiserClickUrls=(h||{}).clickUrl||[]||(e.advertiserClickUrls?e.advertiserClickUrls:e.advertiserClickUrl?[e.advertiserClickUrl]:[]));var v=t.eventDealId||"";s("https://"+O+"/event/P|"+t.eventSiteId+"|"+t.eventPlacementSlotId+"|event="+(this.globalOptions.vehicle_site_id?"JS:VEHICLE:POSITION:IMPLICIT":"JS:POSITION:IMPLICIT")+";l_id="+v+(this.globalOptions.pamid?";pamid="+this.globalOptions.pamid:"")+";tlh="+this.globalOptions.tlh+";detail="+e.positionId+"||"+Math.random()+"|");try{var g=t.getTopmostWindow(),y=t.mode+"/"+t.siteId+"/"+t.placementSlotId;g._piximedia=g._piximedia||{},g._piximedia.pixelSPSent=g._piximedia.pixelSPSent||{},g._piximedia.pixelSPSent[y]||(g._piximedia.pixelSPSent[y]=!0,f&&c(f.pixelUrl),s("https://"+O+"/event/P|"+t.eventSiteId+"|"+t.eventPlacementSlotId+"|event=JS:PLACEMENT;l_id="+v+(this.globalOptions.pamid?";pamid="+this.globalOptions.pamid:"")+";tlh="+this.globalOptions.tlh+";detail="+e.positionId+"||"+Math.random()+"|"))}catch(w){}break}}}else this.numberOfExplicitPositions++,this.master&&this.globalOptions.enableFooter&&this.getTopmostWindow()===top&&s("https://"+O+"/event/P|"+this.eventSiteId+"|"+this.eventPlacementSlotId+"|event="+(this.globalOptions.vehicle_site_id?"JS:VEHICLE:POSITION:IMPLICIT":"JS:POSITION:IMPLICIT")+(this.eventDealId?";l_id="+this.eventDealId:"")+(this.globalOptions.pamid?";pamid="+this.globalOptions.pamid:"")+";tlh="+this.globalOptions.tlh+";detail=footer||"+Math.random()+"|");if(this.mode.match(/^alliance/)&&!this.globalOptions.inline&&!this.globalOptions.enableRTA&&!this.globalOptions.legacyPosition)switch(e.positionId){case"default":case"footer":break;default:this.loadEvent("PANIC",void 0,void 0,{fail_reason:"registered_position_"+e.positionId+"_without_RTA_support"})}if(e.masterPositionId){var x=this.positions[e.masterPositionId];x&&(e.clickUrl||(e.clickUrl=x.clickUrl),e.advertiserClickUrl||(e.advertiserClickUrl=x.advertiserClickUrl),e.advertiserClickUrls||(e.advertiserClickUrls=x.advertiserClickUrls))}if(!e.virtual&&this.globalOptions.virtualPositions&&this.globalOptions.virtualPositions.hasOwnProperty(e.positionId)&&(e.virtual=this.globalOptions.virtualPositions[e.positionId]),!e.virtual&&this.globalOptions.virtualPositions&&e.originalPositionId&&e.positionId&&e.originalPositionId.replace(/@/,".")===e.positionId.substr(0,e.originalPositionId.length))for(var I=e.originalPositionId+e.positionId.substr(e.originalPositionId.length),S=Object.keys(this.globalOptions.virtualPositions),k=0;k<S.length;k++){var P=S[k];if(I.split(".").sort().join(".")===P.split(".").sort().join(".")){e.virtual=this.globalOptions.virtualPositions[P];break}}if(e.document,e.document&&!e.id&&!e.virtual)if(e.id="pixiMarker"+Math.round(1e16*Math.random()),e.element){var _=e.element.ownerDocument,A=_.createElement("div");A||z("markerDiv is not as real as expected: "+JSON.stringify(A)),A.id=e.id,this.isInHead(e.element)||!t.isInDOM(e.element)?(e.element.ownerDocument.body||e.element.ownerDocument.write("<body>"),e.element.ownerDocument.body.appendChild(A)):e.element.parentNode.insertBefore(A,e.element)}else e.document.write(\'<div style="display:none" id="\'+e.id+\'"></div>\');var T,E=e.positionId;if(e.implicit||(t.explicitlyRegisteredPositionIds[E]=!0),this.positions.hasOwnProperty(E))for(var N=2;;N++)if(!this.positions.hasOwnProperty(E+"."+N)){E=E+"."+N,T=N;break}switch(e.implicit?this.addPassbackDebugInfos("Loaded Implicit Position "+E):this.addPassbackDebugInfos("Published Called Position "+E),(e.virtual||{}).type){case"immediate":if(!e.implicit&&t.master)return z("Virtual position cannot be explicit: "+E),t.loadEvent("PANIC",void 0,void 0,{detail:E,fail_reason:"virtual_immediate_cannot_be_explicit"}),setTimeout(function(){t.registerVirtualPositions()},0),null;break;case"override":if(T)return z("Virtual override cannot be multiple: "+E),t.loadEvent("PANIC",void 0,void 0,{detail:E,fail_reason:"virtual_override_cannot_be_multiple"}),null}W("Registering position "+E+" on "+(this.master?"master pam":"hosted pam"));var L=new Date;this.firstPositionRegisteredAt||(this.firstPositionRegisteredAt=L);var M=this.positions[E]=new b(this,{positionId:E,registeredAt:L,active:!0,id:e.id,size:e.size,forcedAdId:e.forcedAdId,clickUrl:t.globalOptions.disablePublisherCC?"":e.clickUrl||this.clickUrl||"",advertiserClickUrl:e.advertiserClickUrl,advertiserClickUrls:e.advertiserClickUrls,extraArgs:e.extraArgs||{},document:e.document,window:e.window,implicit:e.implicit,virtual:e.virtual,injectionIndex:e.injectionIndex,pageContainerWidth:e.pageContainerWidth,decoratedAt:e.decoratedAt?new Date(e.decoratedAt):void 0,allAdvertiserClickUrls:e.allAdvertiserClickUrls,allClickUrls:e.allClickUrls,alwaysHosted:e.alwaysHosted,inlineScript:e.inlineScript,trackingPositionConditional:e.trackingPositionConditional,prebidB:e.prebidB,positionCalledAt:e.positionCalledAt,passbackSrc:e.passbackSrc,dynamicArgs:e.dynamicArgs,args:e.customFields,originalPositionId:e.originalPositionId});e.alwaysHosted&&(this.somePositionsAreAlwaysHosted=!0);var D=this.positions.top&&this.positions.top.args&&!!this.positions.top.args.ignore_top_require_on_1x1;!this.positions["1x1"]||!this.positions.top||this.positions["1x1"].implicit||this.positions.top.implicit||D||t.loadEvent("PANIC",void 0,void 0,{fail_reason:"both_top_and_1x1_explicit_pos"}),G.forObject(M),e.window&&!e.window.piximedia&&(e.window.piximedia=C.piximedia),void 0!==e.implicit&&(M.implicit=e.implicit,M.implicit&&this.master&&"footer"!==E&&M.loadEvent(this.globalOptions.vehicle_site_id?"JS:VEHICLE:POSITION:IMPLICIT":"JS:POSITION:IMPLICIT",{detail:E})),"footer"!==E&&this.globalOptions.enableFooter&&this.positions.footer&&!this.positions.footer.clickUrl&&e.clickUrl&&!t.globalOptions.disablePublisherCC&&(this.positions.footer.clickUrl=e.clickUrl),e.ajax||(this.positionCurrentlyInline=E),e.last&&this.stopWaitingForOtherPositions(),M.implicit||t.registerVirtualPositions(),e.extraArgs&&e.extraArgs.vehsid&&(M.shuttle=window.piximedia._[e.extraArgs.vehsid]),this.emitLocal("pre-hello",M);var R={};if(R[E]={positionId:E,size:M.size,forcedAdId:M.forcedAdId},e.activateAds!==!1){var F,q=!1,j={};j[E]=M;for(var B=0;1>=B;B++){for(var V=0===B,U=0;U<this.availableAds.length;U++){var H=this.availableAds[U];if(H.active){if(H.require&&H.require.positions&&this.queryPositions(H.require.positions,{adId:H.adId,availableSizes:H.formatTraits,positions:j,notRequestedByActiveAd:!0,activeAndNotUsed:!0,spaceIsOr:!0}).length){q=!0,F=H;break}if(H.use&&H.use.positions&&this.queryPositions(H.use.positions,{adId:H.adId,availableSizes:H.formatTraits,conditionPositions:this.positions,positions:j,notRequestedByActiveAd:!0,activeAndNotUsed:!0,spaceIsOr:!0}).length){q=!0,F=H;break}}else{if(V)continue;if(H.require&&H.require.positions){var J=!!this.queryPositions(H.require.positions,{adId:H.adId,availableSizes:H.formatTraits,notRequestedByActiveAd:!0,activeAndNotUsed:!0,spaceIsOr:!0}).length,X=!!this.queryPositions(H.require.positions,{adId:H.adId,availableSizes:H.formatTraits,spaceIsOr:!0,positions:R}).length;if(J&&X){if(this.queryPositions(H.require.positions,{adId:H.adId,availableSizes:H.formatTraits,notRequestedByActiveAd:!0,activeAndNotUsed:!0,requireAll:!0}).length){q=!0,F=H;break}if(!this.performedRendezVous){q=!0,this.scheduleRendezVous();break}}else if(H.use&&H.use.positions&&this.queryPositions(H.use.positions,{adId:H.adId,availableSizes:H.formatTraits,notRequestedByActiveAd:!0,activeAndNotUsed:!0,spaceIsOr:!0}).length&&!this.performedRendezVous){q=!0,this.scheduleRendezVous();break}}else if(H.use&&H.use.positions){var Y=!!this.queryPositions(H.use.positions,{adId:H.adId,availableSizes:H.formatTraits,spaceIsOr:!0,positions:R}).length,K=!!this.queryPositions(H.use.positions,{adId:H.adId,availableSizes:H.formatTraits,notRequestedByActiveAd:!0,activeAndNotUsed:!0,spaceIsOr:!0,onlyActive:!0}).length;if(Y&&K){q=!0,F=H;break}}}}if(q)break}if(q&&F)if(F.passback||this.numberOfExplicitPositions||this.globalOptions.allowActiveAdsWithNoExplicitPositions)if(F.active&&!F.disabled){if(F.active){M.requested=!0,M.requestedBy=F;var Z=F.emitLocal("hello",M);M.used=!0,M.justUsed&&M.justUsed(),M.decoratedBy=F,this.mode.match(/^alliance/)&&M.loadEvent(M.implicit?"JS:POSITION_USED:IMPLICIT":"JS:POSITION_USED",{detail:E}),Z||(W("Pushing position "+M.positionId),F.positions.push(M))}}else!F.passback||t.performedRendezVous?this.activateAd(F):F.passback&&!t.scheduledRendezVous&&this.activateAd(F);else this.performedRendezVous||this.scheduleRendezVous();if(t.globalOptions.reportPositionWithNoAds&&!M.implicit){var Q,ee,te,ie=t.availableAds.length,ae="",oe=0;for(var re in t.positions)if(t.positions.hasOwnProperty(re)){var ne=t.positions[re];if(ae+=re+(ne.used?".USED,":".NOTUSED,"),++oe>4)break}if(t.availableAds.length){var se=t.availableAds[0];Q=((se.require||{}).positions||[])[0],ee=((se.use||{}).positions||[])[0],te="active="+(se.active?1:0)+","}var le=setInterval(function(){(!t.scheduledRendezVous||t.performedRendezVous)&&(clearInterval(le),(!M.used||M.decoratedBy&&M.decoratedBy.passback)&&t.loadEvent("JS:NO_ADS",void 0,void 0,{detail:M.positionId,c1:ie,c2:Q,c3:ee,c4:te,c5:ae}))},500)}}return this.positionCurrentlyInline=void 0,this.decorativeAds.length&&M.id&&(W("schedule rendez-vous because of decorative ads"),this.scheduleRendezVous()),this.emitLocal("post-hello",M),this.master&&M.positionId.match(/^1x1(\\b|@)/)&&this.globalOptions.enableImplicitTakeover&&!this.registeredImplicitTakeover&&(this.registeredImplicitTakeover=!0,setTimeout(function(){t.hello({implicit:!0,ajax:!0,positionId:"takeover",advertiserClickUrl:M.advertiserClickUrl,advertiserClickUrls:M.advertiserClickUrls,clickUrl:M.clickUrl})},0)),this.master&&setTimeout(function(){M.used||M.sentBlank||M.implicit||(M.sentBlank=!0,t.loadEvent("JS:BLANK",void 0,void 0,{detail:M.positionId}),t.globalOptions.reportPositionWithNoAds&&t.loadEvent("JS:BLANK:UNEXPECTED",void 0,void 0,{detail:M.positionId}))},1e4),M},B.prototype.registerVirtualPositions=function(){var e=this;if(e.globalOptions.virtualPositions){var t,i=e.getTopmostDocument(),a=e.getTopmostWindow(),o=!1;for(var r in e.positions)if(e.positions.hasOwnProperty(r)){var n=e.positions[r];if(!n.implicit&&n.clickUrl){t=n.clickUrl;break}}var s=[];for(var l in e.globalOptions.virtualPositions)if(e.globalOptions.virtualPositions.hasOwnProperty(l)){var d=e.globalOptions.virtualPositions[l],c=l.toString().replace(/@/,".");if(e.positions.hasOwnProperty(c))continue;if(d["transient"])continue;if(d.prerequisite&&!(e.queryPositions(d.prerequisite)||[]).length)continue;"override"!==d.type&&(d.immediate||"immediate"===d.type||e.performedRendezVous||d.prerequisite?(W("Registering virtual position"),s.push({siteId:e.siteId,placementId:e.placementId,positionId:c,clickUrl:t,document:i,window:a,id:null,ajax:!0,implicit:!0,virtual:d,advertiserClickUrl:((d["tracking.position"]||{}).clickUrl||[])[0],advertiserClickUrls:(d["tracking.position"]||{}).clickUrl||[],trackingPositionConditional:d["tracking.position:conditional"]})):o=!0)}if(1===s.length)e.hello(s[0]);else if(s.length>1){for(var p=0;p<s.length;p++){var m=s[p];m.activateAds=!1,e.hello(m)}e.tryAndActivateAds()}o&&(W("Scheduling rendez-vous for non-immediate virtual position"),e.scheduleRendezVous())}},B.prototype.getAdsWaitingForRendezVous=function(){for(var e=[],t=0;t<this.availableAds.length;t++){var i=this.availableAds[t];if(!i.active)if(i.require&&i.require.positions){var a=!!this.queryPositions(i.require.positions,{notRequestedByActiveAd:!0,activeAndNotUsed:!0,spaceIsOr:!0,adId:i.adId,availableSizes:i.formatTraits}).length;if(a){var o=!!this.queryPositions(i.require.positions,{notRequestedByActiveAd:!0,activeAndNotUsed:!0,requireAll:!0,adId:i.adId,availableSizes:i.formatTraits}).length;o||this.performedRendezVous||(e.push(i),this.scheduleRendezVous())}}else;}return e},B.prototype.tryAndActivateAds=function(e){W("try and activate ads");var t=this;e=e||{};for(var i=this.getAdsWaitingForRendezVous(),a=function(e){return function(){e.passback||t.numberOfExplicitPositions||t.globalOptions.allowActiveAdsWithNoExplicitPositions?t.activateAd(e):t.performedRendezVous||t.scheduleRendezVous()}},o=0;o<this.availableAds.length;o++){var r=this.availableAds[o];if(!r.active){var n=a(r);if(r.require&&r.require.positions){var s=!!this.queryPositions(r.require.positions,{notRequestedByActiveAd:!0,activeAndNotUsed:!0,spaceIsOr:!0,adId:r.adId,availableSizes:r.formatTraits}).length;if(s){var l=!!this.queryPositions(r.require.positions,{notRequestedByActiveAd:!0,activeAndNotUsed:!0,requireAll:!0,adId:r.adId,availableSizes:r.formatTraits}).length;l?n():this.performedRendezVous||this.scheduleRendezVous()}}else if(r.use&&r.use.positions&&r.use.positions.length&&!e.onlyConsiderRequires){var d=this.queryPositions(r.use.positions,{notRequestedByActiveAd:!0,activeAndNotUsed:!0,spaceIsOr:!0,onlyActive:!0,adId:r.adId,availableSizes:r.formatTraits});if(d.length){var c=!1;e:for(var p=0;p<i.length;p++){var m=i[p],u=!1,h=!1;if(m.require&&m.require.positions&&(u=!!this.queryPositions(m.require.positions,{notRequestedByActiveAd:!0,activeAndNotUsed:!0,seekOverlapWith:d,adId:m.adId,availableSizes:m.formatTraits}).length),m.use&&m.use.positions&&(h=!!this.queryPositions(m.use.positions,{notRequestedByActiveAd:!0,activeAndNotUsed:!0,seekOverlapWith:d,adId:m.adId,availableSizes:m.formatTraits}).length),u||h){c=!0;break e}}c||n()}}}}if(!this.scheduledRendezVous||this.performedRendezVous){var f=function(e){setTimeout(function(){e.used||e.sentBlank||e.implicit||(e.sentBlank=!0,t.loadEvent("JS:BLANK",void 0,void 0,{detail:e.positionId}),t.globalOptions.reportPositionWithNoAds&&t.loadEvent("JS:BLANK:UNEXPECTED",void 0,void 0,{detail:e.positionId}))},1e4)};for(var v in this.positions)this.positions.hasOwnProperty(v)&&f(this.positions[v])}},B.prototype.scheduleRendezVous=function(){var e=this;if(!this.scheduledRendezVous){if(this.globalOptions.prebid)return void W("This is a prebid PAM, we will just pretend a RV has been scheduled");W("Schedule rendez-vous"),this.scheduledRendezVous=!0,this.globalOptions.rendezvous_fast_duration&&(this.timeoutRendezVousFast=setTimeout(function t(){return e.numberOfPartialStage2sInAir?void(this.timeoutRendezVousFast=setTimeout(t,100)):(W("Rendez-vous fast!"),e.tryAndActivateAds(),void e.on("post-hello",function(){e.performedRendezVous||setTimeout(function(){e.tryAndActivateAds()},0)}))},this.globalOptions.rendezvous_fast_duration)),this.timeoutRendezVous=setTimeout(function i(){return e.numberOfPartialStage2sInAir?void(this.timeoutRendezVous=setTimeout(i,100)):(e.timeoutRendezVous=void 0,this.timeoutRendezVousFast&&(clearTimeout(this.timeoutRendezVousFast),this.timeoutRendezVousFast=void 0),W("Rendez-vous!"),e.performedRendezVous=!0,e.registerVirtualPositions(),e.tryAndActivateAds(),setTimeout(function(){e.sendStatistics()},2e3),void e.emit("after-rendez-vous"))},this.contentHasBeenLoaded?0:this.globalOptions.rendezvous_duration||T)}},B.prototype.contentLoaded=function(){var e=this;e.contentHasBeenLoaded=!0,this.scheduledRendezVous&&!this.performedRendezVous&&(clearTimeout(e.timeoutRendezVous),e.timeoutRendezVous=void 0,this.timeoutRendezVousFast&&(clearTimeout(this.timeoutRendezVousFast),this.timeoutRendezVousFast=void 0),W("Rendez-vous! Content loaded!"),e.performedRendezVous=!0,e.registerVirtualPositions(),e.tryAndActivateAds(),setTimeout(function(){e.sendStatistics()},2e3))},B.prototype.sendStatistics=function(){if(!this.sentStatistics&&(this.sentStatistics=!0,this.mode.match(/^alliance/)&&this.master&&!C.piximedia.preview)){for(var e=p(this.explicitlyRegisteredPositionIds).sort().slice(0,10),t=p(this.positions).sort().slice(0,10),i=[],o=[],r=0;r<e.length;r++){var n=e[r].replace(/\\.[0-9]+/,"");-1===a(i,n)&&i.push(n)}i=i.join(",");for(var s=0;s<t.length;s++){var l=t[s].replace(/\\.[0-9]+/,"");-1===a(o,l)&&o.push(l)}o=this.numberOfExplicitPositions||this.globalOptions.allowActiveAdsWithNoExplicitPositions?o.join(","):"";var d=this.numberOfActiveAds||0;d>=3&&(d="3MORE");var c=this.realAds.length;if(c>=10?c="10MORE":c>=5?c="5-10":c>0&&(c="1-4"),!this.numberOfActiveAds)for(var m=0;m<this.allAvailableAds.length;m++){var u=this.allAvailableAds[m];if(!u.passback&&u.args&&u.args.not_enough_pos_pixel){this.loadPixel(u.args.not_enough_pos_pixel);break}}}},B.prototype.stopWaitingForOtherPositions=function(){W("We no longer expect other positions"),this.timeoutRendezVousFast&&(clearTimeout(this.timeoutRendezVousFast),this.timeoutRendezVousFast=void 0),this.timeoutRendezVous&&(clearTimeout(this.timeoutRendezVous),this.timeoutRendezVous=void 0),this.scheduledRendezVous=!0,this.performedRendezVous=!0},B.prototype.queryPositions=function(e,t){"string"==typeof e&&(e=[e]),t=t||{};for(var i=[],o=0;o<e.length;o++){var r={},n=this.queryPosition(e[o],t,r);if(t.requireAll&&!n.length&&r.someFailed,t.requireAll&&r.someFailed)return[];if(t.seekOverlapWith)for(var s=0;s<n.length;s++)-1===a(i,n[s])&&-1!==a(t.seekOverlapWith,n[s])&&i.push(n[s]);else for(var l=0;l<n.length;l++)-1===a(i,n[l])&&i.push(n[l])}if(t.onlyActive){for(var d=[],c=0;c<i.length;c++)i[c].active&&d.push(i[c]);i=d}return i},B.prototype.parseRequestedPositions=function(e){i(e)||(e=[e]);for(var t=[],o=0;o<e.length;o++)for(var r=e[o].split(","),n=0;n<r.length;n++)for(var s=r[n],l=s.split(" "),d=0;d<l.length;d++){var c=l[d];if(c){var p=c.split(":"),m=p[0];-1===a(t,m)&&t.push(m)}}return t},B.prototype.queryPosition=function(e,t,i){if("string"!=typeof e)return this.queryPositions(e);e=e.replace(/\\s+[a-z0-9]+:optional_mp/g,"").replace(/\\s+[a-z0-9]+:block_mp/g,"");var o,r=e.split(/ *=> */);if(r&&r.length>=2){for(var n=0;n<r.length-1;n++){var s=r[n];if(!t.ignoreConditions&&!this.queryPosition(s,{positions:t.conditionPositions||t.positions||this.positions}).length)return[]}o=r[r.length-1]}else o=e.replace(/, +/g,",");t=t||{},this.globalOptions.forceOrPositions&&(t.spaceIsOr=!0);var l=t.positions||this.positions,d=o.split(" "),c=[];e:for(var p=0;p<d.length;p++){var m=d[p];if(m){for(var u=m.split(","),h=[],f=[],v=0;v<u.length;v++){var g=u[v];if(g){var b={},y=x(g,t,l,this.globalOptions.isRedirect,b);if(y.length)for(var w=0;w<y.length;w++)h.push(y[w]);else b.wasRequired&&f.push(g)}}if(!h.length&&f.length&&i){i.someFailed=i.someFailed||[];for(var I=0;I<f.length;I++)i.someFailed.push(f[I])}if(!h.length&&!t.seekOverlapWith&&!t.spaceIsOr){c=[];break e}for(var S=0;S<h.length;S++)c.push(h[S])}}var k=[];if(t.seekOverlapWith)for(var P=0;P<c.length;P++)-1===a(k,c[P])&&-1!==a(t.seekOverlapWith,c[P])&&k.push(c[P]);else for(var C=0;C<c.length;C++)-1===a(k,c[C])&&k.push(c[C]);return k},B.prototype.addEvent=function(e,t,i){if(e)if(e.addEventListener)e.addEventListener(t,i,!1);else if(e.attachEvent)e.attachEvent("on"+t,i);else if(e["on"+t]){if("function"==typeof e["on"+t]){var a=e["on"+t];e["on"+t]=function(){i.apply(e,arguments),a.apply(e,arguments)}}}else e["on"+t]=i},B.prototype.removeEvent=function(e,t,i){e.removeEventListener?e.removeEventListener(t,i):e.detachEvent?e.detachEvent("on"+t,i):e["on"+t]===i&&(e["on"+t]=null)},B.prototype.waitTopDomLoaded=function(e){if(!this.master){var t="waitTopDomLoadedCallback"+this.rand();return this.emit("wait-top-dom-loaded",{callbackId:t})}var i=this.getTopmostWindow(),a=i.document,o=this,r=!1,n=function(){return r?void 0:(r=!0,"function"==typeof e?void e.apply(o):"string"==typeof e?void window[e].apply(o):!1)},s=function(){"complete"===a.readyState&&(a.detachEvent("onreadystatechange",s),n())};if("interactive"===a.readyState||"complete"===a.readyState)return void n();if(a.addEventListener?a.addEventListener("DOMContentLoaded",function(){n()},!1):a.all&&!C.opera&&a.attachEvent&&a.attachEvent("onreadystatechange",s),/Safari/i.test(navigator.userAgent))var l=i.setInterval(function(){/loaded|complete/.test(a.readyState)&&(n(),i.clearInterval(l))},50);this.addEvent(i,"load",n,!1)},B.prototype.waitDomLoaded=function te(e){var t=new Date,i=this,a=!1,o=function(){var o=new Date;return o-t>500&&H(te.once?"waitDomLoaded() took "+(o-t)/1e3+"s":"waitDomLoaded() [first] took "+(o-t)/1e3+"s"),a?void 0:(te.once=!0,a=!0,"function"==typeof e?void e.apply(i):"string"==typeof e?void window[e].apply(i):!1)},r=function(){"complete"===_.readyState&&(_.detachEvent("onreadystatechange",r),o())};if(te.once||"interactive"===_.readyState||"complete"===_.readyState)return void o();if(_.addEventListener?_.addEventListener("DOMContentLoaded",function(){o()},!1):_.all&&!C.opera&&_.attachEvent&&_.attachEvent("onreadystatechange",r),/Safari/i.test(navigator.userAgent))var n=i.getTopmostWindow(),s=n.setInterval(function(){/loaded|complete/.test(_.readyState)&&(o(),\nn.clearInterval(s))},50);this.addEvent(C,"load",o,!1)},B.prototype.waitDomMutable=function(e){var t=this,i=new Date;this.waitDomLoaded(function(){var a=new Date;if(a-i>500&&H("waitDomMutable() took "+(a-i)/1e3+"s"),t.msie&&t.msie<=8&&-1===navigator.userAgent.search("Trident/"))var o=t.getTopmostDocument(),r=t.getTopmostWindow(),n=r.setInterval(function(){"complete"===o.readyState&&(r.clearInterval(n),e.apply(t))},50);else e.apply(t)})},B.prototype.getMarkerForPosition=function(e){var t;return this.loadMarkerForPosition(e,function(e){t=e}),t},B.prototype.loadMarkerForPosition=function(e,t){var i=this;if("function"!=typeof t&&z("cb should be a function"),"string"==typeof e){var a=this.queryPosition(e);if(1!==a.length)return t();e=a[0]}if(e.virtualMarker)return this.isInDOM(e.virtualMarker)?t(e.virtualMarker,e.virtualMarker2||e.virtualMarker):t(e.virtualMarker=e.virtualMarker.ownerDocument.getElementById(e.virtualMarker.id));var o,r,n=function(){var t,a=i.getTopmostWindow(),r=a.document;if(e.virtual.javascript)if(i.master){var n;try{n=a.localStorage.getItem("pixi_test_virtual_js_"+e.positionId)}catch(s){}n||(n=e.virtual.javascript);try{t=new Function("return function(document, window) {\\n"+n+"\\n}")()(r,a)}catch(s){}}else t=document.body;else e.virtual.getContainer&&(t=e.virtual.getContainer());if(t){var l=t.ownerDocument.createElement("div");e.id=l.id="pixiMarkerVirtual"+Math.round(1e16*Math.random()),t.appendChild(l),e.marker=e.virtualMarker=l,o=e.marker}};if(e.virtual&&"override"===e.virtual.type)n();else if(e.id&&e.document){var s=e.document.getElementById(e.id);if(s&&(o=s),e.window||(o=void 0),!o)try{o=e.window.parent.document.getElementById(e.id)}catch(l){o=void 0}if(o){var d=i.getTopmostFiFForElement(o);if(d){d.style.height=0,d.style.display="block",d.style.width=0,(d.id||"").match(/^sas_/)&&(d.className+=" pmIframeContainer",this.loadLibrary("sweetlib.js",function(){var e=C.piximedia.SweetLib,t=!0;try{var i=d.ownerDocument,a=i.getElementById("pmStyles");a||(a=i.createElement("style"),a.id="pmStyles",i.getElementsByTagName("head")[0].appendChild(a)),a.sheet.insertRule(".pmIframeContainer: height: 0 !important; width: 0 !important",0),t=!0}catch(o){}t||e.createCSS(".pmIframeContainer","height: 0 !important; width: 0 !important",d.ownerDocument)})),r=e.virtualMarker2=o;var c=d.ownerDocument.createElement("div");c.id="pixiMarkerTopmostIframe"+Math.round(1e16*Math.random()),u(c),d.parentNode.insertBefore(c,d),o=c}e.virtualMarker=o}}else o=e.marker?e.marker:void 0;if(!o&&e.virtual&&n(),!e.decoratedBy||!e.decoratedBy.shouldBeBeforePageContainer(e)){if(e.decoratedBy&&e.decoratedBy.shouldBeBeforeBody(e)){r=o,e.virtualMarker2=r;var p=i.getTopmostDocument(),m=p.getElementsByTagName("body")[0],h=p.createElement("div");u(h),h.className="pmTakeoverFiller";var f=p.createElement("div"),v=p.createElement("div");return f.appendChild(v),f.className="pmBodyPosition pmCentered",f.style.transform="translateZ(0.01px)",f.style.zIndex=2147483647,f.style.position="relative",f.style.direction="ltr",v.id="pixiMarkerBody"+Math.round(1e16*Math.random()),m.insertBefore(f,m.firstChild),m.insertBefore(h,f),e.virtualMarker=v,t(v,r)}return t(o)}H("PBPC: Preparing position for injection before page container: "+e.positionId),r=o,e.virtualMarker2=r,this.loadLibrary("sweetlib.js",function(){H("PBPC: SweetLib Loaded for position: "+e.positionId);var a=C.piximedia.SweetLib,o=i.getTopmostDocument();H("PBPC: Loading page container"),a.loadPageContainer({document:o,hints:i.globalOptions.pagecontainerHints},function(o,n){H("PBPC: Page container loaded");var s=o.ownerDocument,l=s.createElement("div"),d=s.createElement("div");d.className="pmMarkerContainer pmMarkerPCContainer pm-do-not-minimize-to-companion",d.id="pixiMarkerPCContainer"+Math.round(1e16*Math.random()),d.appendChild(l),u(d),d.style.position="absolute",d.style.overflow="hidden";var c=a.getScrollbarWidth();i.cssCalc?(d.style.width="calc(100vw - "+c+"px)",d.style.left="50%",d.style.marginLeft="calc(-50vw + "+c/2+"px)"):(d.style.left="50%",setInterval(function(){var e=a.getViewportSize()[0]-c;parseFloat(d.style.minWidth,10)!==e&&(d.style.minWidth=e+"px",d.style.marginLeft=-(e/2)+"px")},50)),l.id="pixiMarkerPC"+Math.round(1e16*Math.random());var p;for(p=o;p&&"pmFiller"!==p.id;p=p.previousSibling);o.parentNode.insertBefore(d,p||o),e.virtualMarker=l,e.pageContainerWidth=n.width;var m=a.getPropertyValue(o,"clear");if("left"===m||"right"===m||"both"===m){var h=d.ownerDocument.createElement("div");u(h),h.style.clear=m,d.parentElement.insertBefore(h,d)}return t(l,r)})})},B.prototype.loadMarkersForPositions=function(e,t){var i=[],a=this,o=0,r=function(){if(o===e.length)return t(i);var n=e[o];a.loadMarkerForPosition(n,function(e){i.push(e),o++,r()})};r()},B.prototype.htmlentities=function(e){return e.toString().replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},B.prototype.injectFriendlyContent=function(i,a,o){C.piximedia.callbacks=C.piximedia.callbacks||{};var r,n,s,l=this,d=i.document,c="pmFif"+Math.round(1e16*Math.random()),p=0,m=0,h="callbackWrite"+c,f="callbackOnLoad"+c,v="";W("Injecting friendly contents "+i.positionId),H("Preparing to inject friendly content: "+i.positionId);var b=a.htmlComments||null;n=new g(this,i,a.iframeOptions||{}),!o||o.iframe||i.hosted||(o.iframe=n,o.iframe.on("remove",function(){W("Ad "+o.adId+" has been removed from DOM"),l.unloadAd(o)}).on("winlose",function(){W("Ad has been winlost");var e=o.positions;l.unloadAd(o,{hide:!0}),l.activateAd(o,{positions:e})}),o.injectedOnce=!0),C.piximedia.callbacks[f]=function(e,t){H("FiF loaded: "+i.positionId);var a=t.name||"untitled";W("["+a+"] Iframe loaded, checking surface ***",r);var o,s=function(){if(n.resizedWidth&&n.resizedHeight)return W("["+a+"] Found surface: "+n.resizedWidth+"x"+n.resizedHeight),void(o&&t.clearInterval(o));var i,r,u,h,f=e.body;l.globalOptions.ignoreSiteResizes&&(n.iframe&&parseFloat(n.iframe.width,10)&&parseFloat(n.iframe.width,10)>1&&(i=n.iframe.width,n.iframe.width=""),n.iframe&&parseFloat(n.iframe.height,10)&&parseFloat(n.iframe.height,10)>1&&(r=n.iframe.height,n.iframe.height=""),n.iframe&&n.iframe.style&&parseFloat(n.iframe.style.width,10)&&parseFloat(n.iframe.style.width,10)>1&&(u=n.iframe.style.width,n.iframe.style.width=""),n.iframe&&n.iframe.style&&parseFloat(n.iframe.style.height,10)&&parseFloat(n.iframe.style.height,10)>1&&(h=n.iframe.style.height,n.iframe.style.height=""));var v=f.scrollWidth,g=f.scrollHeight;if(l.globalOptions.ignoreSiteResizes&&(void 0!==i&&(n.iframe.width=i),void 0!==r&&(n.iframe.height=r),void 0!==u&&(n.iframe.style.width=u),void 0!==h&&(n.iframe.style.height=h)),v&&g&&v!==p&&g!==m){W("["+a+"] Found surface: "+v+"x"+g),o&&t.clearInterval(o);var b=(d||_).getElementById(c);W("["+a+"] Found iframe: ",b),n.options.doNotResize?W("["+a+"] (not resizing)"):(W("["+a+"] (resizing)"),n.emit("resize",{width:v,height:g,onlyIfNoSurface:!0}))}else o||(o=t.setInterval(s,10))};s()};var y,w="",x="",I="";if(C.piximedia._.iframes=C.piximedia._.iframes||{},C.piximedia._.iframes[c]=n,b&&(x+="<!-- Pixi Begin Javascript: "+b.label+"-->\\n"),w+="window.inFIF=true; window.inDapIF=true;\\n",w+="window.name="+this.stringify(a.name||"untitled")+";\\n",w+="window.pmFIFID="+this.stringify(c)+";\\n",w+="window.piximedia = parent.piximedia;\\n",w+="window.framedPam = parent.piximedia._.pams["+this.stringify(this.uniqKey)+"];\\n",w+="window.framedIframe = parent.piximedia._.iframes["+this.stringify(c)+"];\\n",w+="window.pmContext = window.framedPam.globalOptions.context || {};\\n",o&&o.injectedOnce&&(w+="window.pmBypassImpression = 1;\\n"),o){var S="ad"+this.rand();C.piximedia._.ads=C.piximedia._.ads||{},C.piximedia._.ads[S]=o,w+="window.framedAd = parent.piximedia._.ads["+this.stringify(S)+"];\\n",w+="window.framedAd.framedDocument=document;window.framedAd.framedWindow=window;\\n"}var k="position"+this.rand();C.piximedia._.positions=C.piximedia._.positions||{},C.piximedia._.positions[k]=i,w+="window.framedPosition = parent.piximedia._.positions["+this.stringify(k)+"];\\n",w+="try{for(var pmk in window.piximedia){if(window.piximedia.hasOwnProperty(pmk)){var s=pmk.toString();if(s.match(/^pmData/)){window[s]=window.piximedia[s];}}}}catch(e){}\\n";for(var P in C)if(P.toString().match(/^pmData/)){var A=this.stringify(P);w+="window["+A+"] = parent["+A+"];\\n"}if(a.javascript?(a.javascript=a.javascript.replace(/MACRO_PUBLISHER_CLICK_COMMAND/g,i.clickUrl),y=this.msie?"<script>"+a.javascript+"</script><script>\\nfunction pmCloseDocument() { setTimeout(function() { document.close(); }, 200); }\\nfunction pmWaitAllScripts(secondTry) { document.pmWaiting = (document.pmWaiting || 0) + 1; var scripts = document.getElementsByTagName(\'script\'), allComplete = true; for(var i = scripts.length - 1; i >= 0; i--) { if(scripts[i].readyState !== \'complete\') { allComplete = false; break; } } if(allComplete) { setTimeout(function() { secondTry? pmCloseDocument(): pmWaitAllScripts(true); }, 1000); } else { setTimeout(pmWaitAllScripts, 1000); } }\\nsetTimeout(pmWaitAllScripts, 1000);\\n</script>":"<script>"+a.javascript+"</script><script>setTimeout(function() { document.close(); }, 200)</script>\\n"):a.src&&(a.src=a.src.replace(/MACRO_PUBLISHER_CLICK_COMMAND/g,i.clickUrl),v+=this.msie?e("<script>\\nfunction pmWaitAllScripts(secondTry) { var scripts = document.getElementsByTagName(\'script\'), allComplete = true; for(var i = scripts.length - 1; i >= 0; i--) { if(scripts[i].readyState !== \'complete\') { allComplete = false; break; } } if(allComplete) { setTimeout(function() { secondTry? document.close(): pmWaitAllScripts(true); }, 1000); } else { setTimeout(pmWaitAllScripts, 1000); } }\\n</script><script src=\\""+a.src.replace(/\\\\/g,"\\\\\\\\").replace(/\'/g,"\\\\\'")+\'" onreadystatechange="pmWaitAllScripts()"></script>\\n\'):t(\'<script src="\'+a.src.replace(/\\\\/g,"\\\\\\\\").replace(/\'/g,"\\\\\'")+\'"></script>\\n<script>setTimeout(function() { document.close(); }, 200); </script>\\n\')),b&&(I+="\\n<!-- Pixi End Javascript: "+b.label+"-->"),y?l.msie&&l.msie>6?(C.piximedia.callbacks[h+"_w"]=e("<head></head><body onload=\'if(parent.piximedia&&parent.piximedia.callbacks){return parent.piximedia.callbacks."+f+"(document,window)}\'>\\n"+x+"<script>"+w+"</script>\\n"+y+I),C.piximedia.callbacks[h]=e("<script>setTimeout(function() { if(parent.piximedia&&parent.piximedia.callbacks)window.location.replace(\'javascript:new Function(parent.piximedia.callbacks."+h+"_w)()\'); }, 0)\\n</script>\\n")):C.piximedia.callbacks[h]=e("<head></head><body onload=\'parent.piximedia.callbacks."+f+"(document,window)\'>\\n"+x+"<script>"+w+"</script>\\n"+y+I):C.piximedia.callbacks[h]=t("<head></head>\\n<body onload=\'parent.piximedia.callbacks."+f+"(document,window)\'>\\n"+x+"<script>"+w+"</script>\\n")+v+t(I+"</body>\\n"),(C.piximedia.topWindowName||"").match(/pmtimepos/)){var T="callbackTimeWrite"+c,E=new Date;C.piximedia.callbacks[T]=function(){H("Iframe wrote back after "+(new Date-E)/1e3+"s")},C.piximedia.callbacks[h]="document.write(\'<script>parent.piximedia.callbacks."+T+"();</script>\');"+C.piximedia.callbacks[h]}return this.msie&&(p=1,m=1),function(e){return i.positionId===l.positionCurrentlyInline&&i.document&&!l.globalOptions.ajax&&!a.container&&(W("Injecting inline position"),i.document.write(\'<div style="\'+X+\'"><iframe allowfullscreen name="\'+a.name+\'" src="javascript:false" class="pmFiF" id="\'+c+\'" style="display: block; background: white; height: \'+m+"px; width: "+p+\'px" marginwidth="0" marginheight="0" frameborder="0" scrolling="no" width="\'+p+\'" height="\'+m+\'"></iframe></div>\'),r=i.document.getElementById(c))?e(r):void(r||l.waitDomMutable(function(){!function(e){return a.container?e(a.container):void l.loadMarkerForPosition(i,e)}(function(t,d){if(!t){var h=l.getTopmostDocument();t=h.createElement("div");var f="pixiMarkerAuto"+Math.round(1e16*Math.random());t.id=f,h.body.appendChild(t)}var v=t.ownerDocument;if(r=v.createElement("iframe"),r.name=a.name,r.id=c,r.className="pmFiF",r.style.display="block",r.style.background="white",r.style.height=m+"px",r.style.width=p+"px",r.marginWidth=0,r.marginHeight=0,r.frameBorder=0,r.scrolling="no",r.allowFullscreen=!0,r.width=p,r.height=m,"HEAD"===t.nodeName)t.appendChild(r);else{var g=v.createElement("div");if(g.className="pmFiFContainer pmContainer "+l.containerClassName,u(g),i.positionId.match(/^inpage/)&&(g.style.height="initial"),a.container?t.appendChild(g):t.parentNode.insertBefore(g,t),b&&(s=g.ownerDocument.createComment("Pixi Iframe Container: "+b.label),g.parentNode.insertBefore(s,g),s=g.ownerDocument.createComment("Pixi Iframe: "+b.label),g.appendChild(s)),g.appendChild(r),(p||m)&&7!==l.msie){g.style.position="absolute",g.className+=" pmZeroSurface";var y=v.defaultView||v.parentWindow,w=0,x=y.setInterval(function(){var e;try{e=g.getBoundingClientRect()}catch(t){return W("couldn\'t fetch getBoundingClientRect()"),void(w++>10&&clearInterval(x))}var i=e.right-e.left,a=e.bottom-e.top;i>1&&a>1&&(g.className.match(/pmZeroSurface/)&&(g.className=g.className.replace(/pmZeroSurface/,""),g.style.position="relative"),y.clearInterval(x))},50)}}return o&&o.args&&o.args.fix_wallpapers_firefox&&i.positionId.match(/^1x1/)&&l.firefox&&l.loadLibrary("sweetlib.js",function(){var e=C.piximedia.SweetLib;e.addEvent(l.getTopmostWindow(),"unload",function(){r.parentNode.removeChild(r)})}),d&&l.watchForRemoval(d,function(){n.emit("remove")}),e(r)})}))}(function(e){e.onerror=function(){n.emit("error",arguments)};var t,a=l.getTopmostDocument();try{t=e.contentWindow.document}catch(o){l.debug("Couldn\'t acess content document, probably because of mismatching document.domain");try{e.src="javascript:document.write(\'<head><script>document.domain=\\""+a.domain+"\\";</script></head><body></body>\')",t=e.contentDocument||e.contentWindow.document}catch(o){try{l.warn("Couldn\'t still access document, probably because of still mismatching document.domain"),e.src="javascript:document.write(\'<head><script>document.domain=\\""+e.ownerDocument.domain+"\\";</script></head><body></body>\')",t=e.contentDocument||e.contentWindow.document}catch(o){return l.error("Couldn\'t REALLY access document :-("),void setTimeout(function(){n.unload(),n.position.unloadDecoratedAd(),setTimeout(function(){l.tryAndActivateAds()},500)},500)}}t=e.contentDocument||e.contentWindow.document}H("Injecting friendly content: "+i.positionId);for(var r=\'<div style="display: none"><div class=\\\'dynamic_runtime dynamic_polite dynamic_polite_\'+(l.safari?"safari":l.chrome?"chrome":l.firefox?"firefox":l.trident?"trident":"ua")+"\'>\\n",s=0;1e3>s;s++)r+="<!-- xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx -->\\n";if(r+="</div></div>\\n",l.msie)t.open().write("<script>window.location.replace(\\"javascript:var x;try{x=parent.piximedia.callbacks;}catch(e){document.domain=\'"+a.domain+"\';}new Function(parent.piximedia.callbacks."+h+\')()")</script>\');else{var d;if((C.piximedia.topWindowName||"").match(/pmtimepos/)){var p="callbackTime"+c,m=new Date;C.piximedia.callbacks[p]=function(){H("Iframe called back after "+(new Date-m)/1e3+"s")},d="parent.piximedia.callbacks."+p+"();"}else d="";var u="callbackSetiframe"+c;C.piximedia.callbacks[u]=function(){H("Setting iframe"),n.setIframe(e)};var f="parent.piximedia.callbacks."+u+"();";t.open().write("<html><body><script>"+d+f+"new Function(parent.piximedia.callbacks."+h+")()</script>"+r+"</body></html>")}n.iframe||(H("*** Iframe unknown, setting ***"),n.setIframe(e))}),o&&!o.passback&&(n.on("remove",function(){if(!n.doNotSendPixels){if(!n.sentRemoved){n.sentRemoved=!0;var e=i.registeredAt?(new Date-i.registeredAt)/1e3:void 0;i.loadEvent("JS:REMOVED",{detail:i.positionId,duration:e})}o.shouldBeBeforePageContainer(i)&&this.pam.loadLibrary("sweetlib.js",function(){var e=C.piximedia.SweetLib;e.setBodyBackgroundColor({color:null}),e.moveTopOfPageContainer(e.getPageContainer(),0)})}}),n.on("winlose",function O(){O.ids=O.ids||{},n.doNotSendPixels||O.ids[i.positionId]||(O.ids[i.positionId]=!0,i.loadEvent("JS:WINLOSE",{detail:i.positionId}),setTimeout(function(){O.ids[i.positionId]=!1},1e4))})),n},$.prototype.getAllVisibilityForPixiPositionId=function(e){if(!this.visibility)return[];var t={};t[e]={positionId:{}};for(var i in this.visibility)if(this.visibility.hasOwnProperty(i)&&this.pam.queryPositions(i,t).length)return this.visibility[i];return[]},$.prototype.evaluateRTReqProvide=function(e){var t=this,i=t.pam;switch(e){case"top-access":return top===i.getTopmostWindow();case"gyroscope":case"geoloc":return"https"===i.globalOptions.protocol;case"allow-http":return"http"===i.globalOptions.protocol;case"compatible-protocol":return"http"===i.globalOptions.protocol||!t.campaignHasHttpContents;default:return z("Unknown provide: "+e),!1}},$.prototype.matchRTReqGlobal=function(e){var t=this;if(!e.must_provide)return!0;for(var i=0;i<e.must_provide.length;i++){var a=e.must_provide[i];if(!t.evaluateRTReqProvide(a))return!1}return!0},$.prototype.matchRTReqAsset=function(e){var t=this.pam,i=e.asset_id;if(!i)return!0;var a=t.externalAssets[i];if(!a)return!0;if(!e.must_provide)return!0;for(var o=0;o<e.must_provide.length;o++){var r=e.must_provide[o],n=!1,s=r.match(/^([0-9]+)x([0-9]+)$/);if(s){var l=parseInt(s[1],10),d=parseInt(s[2],10);if(parseInt(a.metadata.width,10)===l&&parseInt(a.metadata.height,10)===d)n=!0;else if(a.vastLoader&&a.vastLoader.vastCompanions)for(var c=0;c<a.vastLoader.vastCompanions.length;c++){var p=a.vastLoader.vastCompanions[c];if(p.width===l&&p.height===d){n=!0;break}}}else switch(r){case"native":if(!a.vastLoader||!a.vastLoader.piximediaPayloads){n=!1;break}for(var m=0;m<a.vastLoader.piximediaPayloads.length;m++){var u=a.vastLoader.piximediaPayloads[m];u&&u.data&&u.data.title&&(n=!0)}break;case"video":"redirect"===a.type?a.vastLoader&&a.vastLoader.vastMediaFiles&&a.vastLoader.vastMediaFiles.length&&(n=!0):("video"===a.type||"vast"===a.type)&&(n=!0);break;default:n=this.evaluateRTReqProvide(r)}if(!n)return!1}return!0},$.prototype.loadLibrary=function(e,t){if((C.piximedia.topWindowName||"").match(/pmtimepos/)){var a=new Date,o=t;t=function(){var t=new Date;t-a>50&&H("loadLibrary("+JSON.stringify(e)+") took "+(t-a)/1e3+"s"),o.apply(this,arguments)}}return i(e)?this.loadLibraries(e,t):void this.pam.loadLibrary(this.args[e]||e,t)},$.prototype.loadLibraries=function(e,t){var i=this,a=function(){try{return t.call(i)}catch(e){return void z("Caught exception when calling loadLibraries() callback: "+e)}},o=e.length;if(!o)return a();for(var r=function(){return--o?void 0:a()},n=0;n<e.length;n++)this.loadLibrary(e[n],r)},$.prototype.shouldHostPosition=function(){return!1},$.prototype.shouldBeBeforeBody=function(e){if(!this.pam.master||(this.args||{}).displayAsBanner)return!1;var t=this.remapPositions||{};if(!this.positions_before_body)return!1;var i=this.positions_before_body;"string"==typeof i&&(i=i.split(/ +/));for(var a=0;a<i.length;a++){var o=i[a];for(var r in t)if(t.hasOwnProperty(r)){var n=new RegExp("\\\\b"+r+"\\\\b","g");o=o.replace(n,t[r])}var s={};if(s[e.positionId]=e,this.pam.queryPositions(o,{positions:s}).length)return!0}return!1},$.prototype.shouldBeBeforePageContainer=function(e){if(!this.pam.master||(this.args||{}).displayAsBanner)return!1;var t=this.remapPositions||{};if(!this.positions_before_page_container)return!1;var i=this.positions_before_page_container;"string"==typeof i&&(i=i.split(/ +/));for(var a=0;a<i.length;a++){var o=i[a];for(var r in t)if(t.hasOwnProperty(r)){var n=new RegExp("\\\\b"+r+"\\\\b","g");o=o.replace(n,t[r])}var s={};if(s[e.positionId]=e,this.pam.queryPositions(o,{positions:s}).length)return!0}return!1},$.prototype.unload=function(){if(!this.pam.master)throw new Error("cannot unload from slave");var e=this;this.active=!1,this.require={positions:["unloaded-ad"]},this.use={positions:[]},e.loadEvent("AD:UNLOAD",{});for(var t=0;t<e.positions.length;t++)e.positions[t].unloadDecoratedAd();e.pam.tryAndActivateAds()},B.prototype.activateAd=function(e,t){var a=this,o=this.canWriteCookies();t=t||{},W("Activating ad: ",e.adId+"/"+e.creativeId);var r=new Date;if(e.active&&W("Ad was already active"),a.master&&(a._adImpressionPixelSent=a._adImpressionPixelSent||{},a._adImpressionPixelSent[e.adId]||(a._adImpressionPixelSent[e.adId]=!0,e.emitLocal("impression"),e.impressionPixel&&a.loadPixel(e.impressionPixel))),e.active=!e.alwaysAvailable,!e.passback){if(a.numberOfActiveAds=a.numberOfActiveAds||0,a.numberOfActiveAds++,a.globalOptions.enableActiveAdsCapping&&void 0!==a.globalOptions.numberOfActiveAdsCapping&&a.globalOptions.numberOfActiveAdsCapping>=a.numberOfActiveAds){W("Deactivating other ads because capping was met"),a.partialSync.adCappingMet=!0;for(var n=0;n<a.availableAds.length;n++){var s=a.availableAds[n];s===e||s.passback||s.active||(s.require={positions:["disabled-ad-capping"]},s.disabledBecauseAdCapping=!0,s.disabledBecauseAdCappingLog="active-ads-capping")}a.syncAdsNeedsRendezVous()}if(a.globalOptions.enableTvCodeProtection&&e.tv_code){W("Deactivating other ads with code "+e.tv_code),a.partialSync.tvCodes.push(e.tv_code),a.partialSync.tvCodesCampaigns[e.tv_code]=e.campaignId;for(var l=0;l<a.availableAds.length;l++){var d=a.availableAds[l];d===e||d.passback||d.active||d.tv_code!==e.tv_code||d.campaignId===e.campaignId||(d.require={positions:["disabled-tv-code"]},d.disabledBecauseAdCapping=!0,d.disabledBecauseAdCappingLog="tv-code")}a.syncAdsNeedsRendezVous()}a.globalOptions.keepAdringForRTA||o&&(_.cookie="pixi_rta_pos=; path=/; "+this.getDomainPartForCookies()+"expires=Thu, 01 Jan 1970 00:00:00 GMT",_.cookie="pixi_rta_pos=; path=/; expires=Thu, 01 Jan 1970 00:00:00 GMT"),o&&(_.cookie="pixi_adr=; path=/; "+this.getDomainPartForCookies()+"expires=Thu, 01 Jan 1970 00:00:00 GMT",_.cookie="pixi_adr=; path=/; expires=Thu, 01 Jan 1970 00:00:00 GMT"),this.globalOptions.pixiAdrName&&(a.globalOptions.keepAdringForRTA||o&&(_.cookie=this.globalOptions.pixiAdrName+"=; path=/; "+this.getDomainPartForCookies()+"expires=Thu, 01 Jan 1970 00:00:00 GMT",_.cookie=this.globalOptions.pixiAdrName+"=; path=/; expires=Thu, 01 Jan 1970 00:00:00 GMT"))}if(e.active&&e.use&&e.use.positions&&!a.globalOptions.prebid&&a.on("hello",function(t){var i={};i[t.positionId]=t,a.queryPositions(e.use.positions,{adId:e.adId,availableSizes:e.formatTraits,spaceIsOr:!0,positions:i}).length&&(t.requested=!0,t.requestedBy=e)}),t.positions){e.positions=t.positions;for(var c=0;c<e.positions.length;c++){var p=e.positions[c];this.positions.hasOwnProperty(p.positionId)||(this.positions[p.positionId]=p)}}else{if(e.positions=[],e.require&&e.require.positions){var m=this.queryPositions(e.require.positions,{adId:e.adId,availableSizes:e.formatTraits,activeAndNotUsed:!0,requireAll:!0});W("Found "+m.length+" required position"+(1===m.length?"":"s"));for(var u=0;u<m.length&&!e.disabled;u++){var h=m[u];h.active&&(W("Associating required position "+h.positionId),h.used=!0,h.decoratedBy=e,h.decoratedAt=r,h.justUsed&&h.justUsed(),e.positions.push(h))}}if(e.use&&e.use.positions){var f=this.queryPositions(e.use.positions,{adId:e.adId,availableSizes:e.formatTraits,activeAndNotUsed:!0,spaceIsOr:!0});W("Found "+f.length+" used position"+(1===f.length?"":"s"));for(var v=0;v<f.length&&!e.disabled;v++){var g=f[v];g.active&&(W("Associating used position "+f[v]),e.positions.push(g))}}}a.globalOptions.prebid&&(W("Deactivating further ad activation"),e.require={positions:["disabled-prebid"+(e.require&&e.require.positions&&"--"+(e.require.positions[0]||"")||"").replace(/\\s/g,"--").replace(/:/g,"-")]},e.use={positions:["disabled-prebid"+(e.use&&e.use.positions&&"--"+(e.use.positions[0]||"")||"").replace(/\\s/g,"--").replace(/:/g,"-")]}),e.prebidS&&(W("Deactivating further prebidS ad activation"),e.require={positions:["disabled-prebid-s"]},e.use={positions:["disabled-prebid-s"]});for(var b=0;b<e.positions.length;b++)if(e.positions[b].used=!0,e.positions[b].decoratedBy=e,e.positions[b].decoratedAt=r,e.positions[b].justUsed&&e.positions[b].justUsed(),!e.passback&&this.mode.match(/^alliance/)){var y=e.positions[b];e.positions[b].implicit?this.master?void 0===y.injectionIndex&&y.loadEvent(a.globalOptions.vehicle_site_id?"JS:VEHICLE:POSITION_USED:IMPLICIT":"JS:POSITION_USED:IMPLICIT",{detail:y.positionId}):y.loadEvent(a.globalOptions.vehicle_site_id?"JS:VEHICLE:POSITION_USED:IMPLICIT:HOSTED":"JS:POSITION_USED:IMPLICIT:HOSTED",{detail:y.positionId}):this.master?void 0===y.injectionIndex&&y.loadEvent(a.globalOptions.vehicle_site_id?"JS:VEHICLE:POSITION_USED":"JS:POSITION_USED",{detail:y.positionId}):y.loadEvent(a.globalOptions.vehicle_site_id?"JS:VEHICLE:POSITION_USED:HOSTED":"JS:POSITION_USED:HOSTED",{detail:y.positionId})}if(this.master){var w=function(e){if(e){"string"==typeof e&&a.loadPixel(e);for(var t=0;t<e.length;t++)a.loadPixel(e[t])}};this.trackingCampaignCalled[e.campaignId]||(this.trackingCampaignCalled[e.campaignId]=!0,e.args&&e.args["tracking.campaign"]&&e.args["tracking.campaign"].pixelUrl&&w(e.args["tracking.campaign"].pixelUrl)),this.trackingAdPixelsCalled[e.adId]||(this.trackingAdPixelsCalled[e.adId]=!0,e.passback||e.loadEvent("JS:ACTIVATE:AD",{}),e.args&&e.args["tracking.ad"]&&e.args["tracking.ad"].pixelUrl&&w(e.args["tracking.ad"].pixelUrl),e.args&&e.args["tracking.adgroup"]&&e.args["tracking.adgroup"].pixelUrl&&w(e.args["tracking.adgroup"].pixelUrl),e.args&&e.args["tracking.ad:conditional"]&&e.args["tracking.ad:conditional"]&&w(this.parseConditionalTrackings(e.args["tracking.ad:conditional"]).pixelUrl),e.args&&e.args["tracking.adgroup:conditional"]&&e.args["tracking.adgroup:conditional"]&&w(this.parseConditionalTrackings(e.args["tracking.adgroup:conditional"]).pixelUrl)),this.trackingAdCreativePixelsCalled[e.adId+"|"+e.creativeId]||(this.trackingAdCreativePixelsCalled[e.adId+"|"+e.creativeId]=!0,e.passback||e.loadEvent("JS:ACTIVATE:CREATIVE",{}),e.args&&e.args["tracking.creative"]&&e.args["tracking.creative"].pixelUrl&&w(e.args["tracking.creative"].pixelUrl),e.args&&e.args["tracking.ad_creative"]&&e.args["tracking.ad_creative"].pixelUrl&&w(e.args["tracking.ad_creative"].pixelUrl))}!function(t){e.loadAssetsMetadata(t)}(function(){H("Loading markers"),a.loadMarkersForPositions(e.positions,function(t){H("Markers loaded");try{if((C.piximedia.topWindowName||"").match(/pmdebugactivatead/)&&new Function("debugger")(),e.tag)e.tag.apply(a,t);else if(e.fif){var o=e.positions[0];if(a.master){var n=[],s=null,l=!!e.main_js_in_head,d=!!e.main_js_always_in_head;if(a.somePositionsAreAlwaysHosted||e.hosted_positions&&e.hosted_positions.length){e.shouldHostPosition(o)?n.push(o):s=o,e.on("hello",function(t){return e.shouldHostPosition(t)?(t.decoratedBy=e,t.decoratedAt=t.decoratedAt||new Date,a.hostPosition(e,t),!1):void 0});for(var c=1;c<e.positions.length;c++){var p=e.positions[c];e.shouldHostPosition(p)?n.push(p):s||(s=p)}}else s=o;for(var m=0;m<n.length;m++){var u=n[m];u.decoratedBy=e,u.decoratedAt=new Date,a.hostPosition(e,u)}var h=!1,f=!1;if(e.use&&e.use.positions&&i(e.use.positions)&&(h=e.use.positions.length),e.require&&e.require.positions&&e.require.positions&&i(e.require.positions))for(var v=0;v<e.require.positions.length;v++){if(v>=1){f=!0;break}var g=e.require.positions[v];if("string"==typeof g&&g.match(/ /)){f=!0;break}}if(s||d||e.use&&e.use.positions||h||f){W("Injecting master ad");var b=e.fif;if((C.piximedia.topWindowName||"").match(/pmdebugad/)&&(b.javascript="debugger;\\n"+b.javascript),!s||l||d||e.use&&e.use.positions){var y=a.getTopmostDocument();a.injectFriendlyContent({positionId:"head",document:y,marker:y.head},b,e)}else e.masterPosition=s||o,a.injectFriendlyContent(e.masterPosition,b,e)}}else a.injectFriendlyContent(o,e.fif,e)}else if(e.passback){e.active=!1;var w={htmlComments:{label:"Passback for "+(e.use||{}).positions}},x=a.globalOptions.passbackMode;switch(e.passback.type){case"javascript":case"inline":case"redirect":W("Activating JavaScript passback");var I;switch(I="window.sas_ajax = true;\\n",I+="var callPbSrc;if(window.framedPosition.passbackSrc){\\n",I+="  callPbSrc=function(){\\n",I+="    window.framedPosition.loadEvent(\'JS:PASSBACK_CALL\');\\n",I+="    framedPosition.tagPassback(\'Dynamic (redirect)\', framedPosition.passbackSrc);\\n",I+="    window.sas_ajax = true;\\n",I+="    var s = document.createElement(\'script\'); s.src = window.framedPosition.passbackSrc; s.appendChild(document.createTextNode(window.framedPosition.inlineScript)); document.write(s.outerHTML); \\n",I+="  };\\n",I+="}\\n",e.passback.type){case"javascript":I+=e.passback.contents?"var platformScript = "+JSON.stringify(e.passback.contents).replace(/script/g,\'scr"+"ipt\')+";\\n":"var platformScript;\\n";break;case"redirect":I+=e.passback.contents?"var platformScript = "+JSON.stringify("document.write(\'<script src=\\""+e.passback.contents+"\\"></script>\');").replace(/script/g,\'scr"+"ipt\')+";\\n":"var platformScript;\\n";break;default:I+="var platformScript;\\n"}switch(I+="var passbackScript, inlineScript = window.framedPosition.inlineScript, hasInlineScript = (inlineScript||\'\').replace(/\\\\s/g, \'\').length;\\n",I+="if(inlineScript){inlineScript=\'framedPosition.tagPassback(\\"Dynamic (script)\\",framedPosition.inlineScript);\'+inlineScript;}\\n",I+="if(platformScript){platformScript=\'framedPosition.tagPassback(\\"Platform\\", platformScript);\'+platformScript;}\\n",x||"dynamic,platform"){case"platform":I+="passbackScript = platformScript;\\n";break;case"platform,dynamic":I+="passbackScript = platformScript || (callPbSrc? callPbSrc(): inlineScript);\\n";break;case"dynamic,platform":I+="passbackScript = callPbSrc? callPbSrc(): (hasInlineScript? inlineScript: platformScript);\\n"}I+="if(window.framedPosition.extraArgs && window.framedPosition.extraArgs.correct_passbacks) {\\n",I+="if(passbackScript) {\\n",I+="  window.framedPosition.loadEvent(\'JS:PASSBACK_CALL\');\\n",I+="  window.rollbackTDW = function() { var last=top.document._pmwrite.pop(); if(last) { top.document.write = last; } else { delete top.document.write; } window.rollbackTDW=function(){}; }\\n",I+="  var caughtE; top.document._pmwrite=top.document._pmwrite||[];try { if(top.document.hasOwnProperty(\'write\')) { top.document._pmwrite.push(top.document.write); }else{ top.document._pmwrite.push(null); } top.document.write=function() { top.document.pmCaughtDW = (top.document.pmCaughtDW || 0) + 1; return document.write.apply(document, arguments); }; } catch(e) {} \\n",I+="  setTimeout(function() { window.rollbackTDW(); }, 0);\\n",I+="  try { new Function(passbackScript)(); } catch(e) { caughtE = e; }\\n",I+="  document.write(\'<\'+\'script> window.rollbackTDW(); </\' + \'script>\')\\n",I+="  if(caughtE) { throw caughtE; }\\n",I+="}\\n",I+="}else{\\n",I+="  new Function(passbackScript)();\\n",I+="}\\n";var S;S="for(var k in parent){ if((!parent.hasOwnProperty || parent.hasOwnProperty(k)) && k.match(/^(sas|Smart|weborama_url_backup)/) && !k.match(/^(sas_ajax)$/)){ window[k] = parent[k]; } }\\n";try{(top.window.name||"").match(/pmdebugpassback/)&&(S+="debugger;\\n")}catch(k){}w.javascript=S+I;break;default:w=void 0}if(w)for(var P=function(e,t,i){var o=a.injectFriendlyContent(e,t,i);o.iframe&&o.iframe.style&&(o.iframe.style.marginLeft="auto",o.iframe.style.marginRight="auto"),o.on("winlose",function(){W("Passback has been winlost"),e.injectionIndex=(e.injectionIndex||0)+1,a.loadEvent("JS:PASSBACK_WINLOST",void 0,void 0,{detail:e.positionId});var r=o.iframe.ownerDocument.getElementById(o.iframe.id);r&&r.parentNode.removeChild(r),P(e,t,i)}),o.on("error",function(){J("Passback error",arguments),a.loadEvent("JS:PASSBACK_ERROR",void 0,void 0,{detail:e.positionId});try{var t=o.iframe.contentDocument.createComment("Passback Failed To Load (Error)");o.iframe.contentDocument.body.appendChild(t),t=o.iframe.ownerDocument.createComment("Pixi Iframe: Passback Failed To Load (Error)"),o.iframe.parentNode.insertBefore(t,o.iframe),t=o.iframe.ownerDocument.createComment("Pixi Iframe Container: Passback Failed To Load (Error)"),o.iframe.parentNode.parentNode.insertBefore(t,o.iframe.parentNode),a.addPassbackDebugInfos("Passback Error: "+e.positionId,{red:!0})}catch(i){}});var r=setTimeout(function(){\nJ("Passback timeout"),i.emit("passback-timeout"),a.loadEvent("JS:PASSBACK_TIMEOUT",void 0,void 0,{detail:e.positionId});try{var t=o.iframe.contentDocument.createComment("Passback Failed To Load (Timeout)");o.iframe.contentDocument.body.appendChild(t),t=o.iframe.ownerDocument.createComment("Pixi Iframe: Passback Failed To Load (Timeout)"),o.iframe.parentNode.insertBefore(t,o.iframe),t=o.iframe.ownerDocument.createComment("Pixi Iframe Container: Passback Failed To Load (Timeout)"),o.iframe.parentNode.parentNode.insertBefore(t,o.iframe.parentNode),a.positionsRegisteredForPassbacks&&a.positionsRegisteredForPassbacks[e.positionId]?a.addPassbackDebugInfos("Passback Timeout: "+e.positionId,{red:!0}):a.addPassbackDebugInfos("No Passback Found: "+e.positionId)}catch(r){}},1e4);o.on("resize",function(t){t&&t.width>1&&t.height>1&&(a.loadEvent("JS:PASSBACK_OK",void 0,void 0,{detail:e.positionId}),clearTimeout(r))})},_=0;_<e.positions.length;_++){var A=e.positions[_],E=A.positionId.replace(/\\.[1-9][0-9]+/,".XXX"),O=0;if(a.scheduledRendezVous){var N=r-a.firstPositionRegisteredAt,L=3*(a.globalOptions.rendezvous_duration||T),M=Math.round(10*N/L);O=M,E+=":0"}var D=C.piximedia.request_pos_sp[a.siteId][a.placementId],R=[];for(var F in D)D.hasOwnProperty(F)&&R.push(F);A.implicit||(E+=":explicit"),E+=":pos=",a.scheduledRendezVous&&a.performedRendezVous&&(E+=":rv"),a.loadEvent("JS:PASSBACK",void 0,void 0,{detail:E,duration:O}),P(A,w,e)}}}catch(k){z("Could not activate ad: "+k)}e.timetracker&&e.timetracker.global&&a.master&&a.loadLibrary("sweetlib.js",function(){e.timetrackerGlobal||(e.timetrackerGlobal=C.piximedia.SweetLib.setTimer("GLOBAL",function(t,i){e.loadEvent("TIMETRACKER::"+t,{duration:i})}),e.timetrackerGlobal.start())});var q;try{var j=C.localStorage?C.localStorage.getItem("pmCustomFieldsCSS"):"";if(j){var B=JSON.parse(j);B&&B.css&&(q=B.css)}}catch(k){}!q&&e&&e.args&&(q=e.args.css),q&&a.master&&a.loadLibrary("sweetlib.js",function(){var e=a.getTopmostDocument();if(i(q))for(var t=0;t<q.length;t++)C.piximedia.SweetLib.createCSSs(q[t],e);else C.piximedia.SweetLib.createCSSs(q,e)})})}),(e.args||{}).debugcollect&&this.debugcollect()},B.prototype.unloadPosition=function(e){W("Unloading position "+e.positionId,e);for(var t=0;t<(e.iframes||[]).length;t++){var i=e.iframes[t];W("Unloading iframe"),i.unload()}var a=e.decoratedBy;a&&(a.positions=n(a.positions,"positionId",e.positionId)),this.deletePosition(e.positionId)},B.prototype.deletePosition=function(e){var t=this;delete this.positions[e],setTimeout(function(){t.emitLocal("position:remove",e)},0)},B.prototype.unloadAd=function(e,t){W("Unloading ad "+e.adId,e),t=t||{};var i=this;if(e.positions)for(var a=0;a<e.positions.length;a++){for(var o=e.positions[a],r=0;r<(o.iframes||[]).length;r++){var n=o.iframes[r];W("Unloading iframe"),n.unload({hide:t.hide})}o.iframes=[],o.unloadDecoratedAd(),this.deletePosition(o.positiionId),setTimeout(function(){i.tryAndActivateAds()},500)}e.iframe&&(e.iframe.unload({hide:t.hide}),e.iframe=void 0),e.purgeEventEmitter(),e.active=!1},B.prototype.hostPosition=function(e,t){var i=this;t.hosted=!0,W("Prepare to host position "+t.positionId,t),this.waitDomMutable(function(){W("DOM is mutable for hosted position",t);var a,o;o=function(e,t){var i=G.getID(e);if(i)try{a.fireEventToID(i,t,function(){},function(){})}catch(o){z("Caught exc, maybe destroyed rpc channel",o)}},i.globalEmitter.on("event",o),W("Injecting hosted position "+t.positionId,t,e.positions),e.injectPosition(t,{iframeOptions:{doNotResize:!0}},function(r,n){W("Loading marker for hosted position",t),i.loadMarkerForPosition(t,function(r,s){if(!r){var l=i.getTopmostDocument();r=l.createElement("div");var d="pixiMarkerHosted"+Math.round(1e16*Math.random());r.id=d,l.body.appendChild(r)}if(W("Found marker for position "+t.positionId,r),a){W("Destroying dangling RPC channel");try{a.destroy()}catch(c){}}for(var p,m=r.childNodes,h=new g(i,t),f=0;f<m.length;f++)if(m[f].className.indexOf("pmContainer")>=0){p=m[f];for(var v=p.getElementsByTagName("iframe"),b=0;b<v.length;b++){var y=v[b];i.winlostIframeIds[y.id]=!0}p.parentNode.removeChild(p);break}p=r.ownerDocument.createElement("div"),p.className="pmHostedContainer pmContainer "+i.containerClassName,u(p),p.style.fontSize=0,r.appendChild(p);var w=p.getElementsByTagName("iframe");if(w.length)for(var x=0;x<w.length;x++){var I=w[x];i.winlostIframeIds[I.id]=!0,p.removeChild(I)}var S,k,P;k=p.ownerDocument,P=k.defaultView||k.parentWindow,P._piximedia=P._piximedia||{},function(e){return P._piximedia.easyXDM||(n.piximedia.injectEasyXDM(P,k,i.getTopmostWindow().location),P._piximedia.easyXDM=P.easyXDM.noConflict("_piximedia")),e()}(function(){S=P._piximedia.easyXDM,W("Creating RPC channel"),a=new S.Rpc({container:p,hash:!0,props:{style:{width:i.msie?1:0,height:i.msie?1:0},allowfullscreen:"allowfullscreen",scrolling:"no",width:i.msie?1:0,height:i.msie?1:0},remote:E,onReady:function(){W("master is ready")}},{local:{getConfig:function(){for(var a=[],o=[],r=0;r<i.allAvailableAds.length;r++)if(e.uniqid===i.allAvailableAds[r].uniqid){var n=i.allAvailableAds[r];n.injectedOnce=e.main_js_always_in_head||e.injectedOnce,a=[n];break}e.injectedOnce=!0;var s={},l={};for(var d in i.positions)if(i.positions.hasOwnProperty(d)){var c=i.positions[d];c.clickUrl&&(s[d]=c.clickUrl),c.advertiserClickUrl&&(l[d]=c.advertiserClickUrl)}var p={positionId:t.positionId,pixiPositionId:t.pixiPositionId||t.decoratedBy.getPixiPositionIdForPositionId(t.positionId),decoratedAt:t.decoratedAt,clickUrl:t.clickUrl,implicit:t.implicit,args:t.args,injectionIndex:t.injectionIndex,pageContainerWidth:t.pageContainerWidth,advertiserClickUrl:t.advertiserClickUrl,advertiserClickUrls:t.advertiserClickUrls,allAdvertiserClickUrls:l,allClickUrls:s};W("Config position: ",p),o.push(p);var m={siteId:i.siteId,placementId:i.placementId,globalOptions:i.globalOptions,allAvailableAds:a,positions:o,documentHasFocus:i.documentHasFocus};return m},fireEventToID:function(e,t,a,r){try{return i.globalEmitter.fireEventToID(e,t,{exceptTo:o}),a()}catch(n){return r()}}},remote:{fireEventToID:{}}});var r=function(){var e=p.getElementsByTagName("iframe");if(!e.length)return setTimeout(r,10);var t=e[0];W("Found RPC iframe",t),h.setIframe(t),s&&i.watchForRemoval(s,function(){W("Secondary marker has been removed"),h.emit("remove")})};W("Looking for RPC iframe"),r()})})})})},B.prototype.hostRoom=function(e,t,i){if(!this.master)return z("PAM.prototype.hostRoom() might only be called on the master PAM");t=t||{},W("Hosting room "+e),H("Hosting room "+e);var a="room."+e,o={siteId:this.siteId,placementId:this.placementId,positionId:a,ajax:!0,implicit:!0,virtual:{getContainer:i}};for(var r in t)t.hasOwnProperty(r)&&(o[r]=t[r]);this.hello(o)},B.prototype.getTopmostFiFForElement=function(e){if(!this.isInDOM(e))return void 0;var t=e.ownerDocument,i=t.defaultView||t.parentWindow,a=this.getTopmostWindow();if(!i)return void 0;if(!i.inFIF&&!i.inDapIF&&!i.inDapMgrIf)return void 0;for(var o,r="pmBeacon"+this.rand(),n=i.name,s=a.document.getElementsByTagName("iframe"),l=0;l<s.length;l++){var d=s[l];if(d.contentWindow&&d.contentWindow===r){o=d;break}}if(!o){i.name=r;for(var c=0;c<s.length;c++){var p=s[c];try{if(p.contentWindow&&p.contentWindow.name===r){o=p;break}}catch(m){}}if(!o)e:for(var u=0;u<s.length;u++){var h=s[u];try{if(h.contentWindow&&(h.contentWindow.inFIF||h.contentWindow.inDapIF||h.contentWindow.inDapMgrIf))for(var f=h.contentWindow.document,v=f.getElementsByTagName("iframe"),g=0;g<v.lenght;g++){var b=v[g];try{if(b.contentWindow&&b.contentWindow.name===r){o=h;break e}}catch(m){}}}catch(m){}}i.name=n}return o},B.prototype.checkTopDomain=function(){var e,t=this;try{e=top.pmOriginalDomain}catch(i){return}if(e){var a=function(){var i;try{i=top.document.domain}catch(o){return z("Top document changed from “"+e+"” to unknown value!"),void t.loadEvent("PANIC",void 0,void 0,{fail_reason:"top_domain_changed",c1:e,c2:"EXCEPTION"})}i!==e?(z("Top document changed from “"+e+"” to “"+i+"”!"),t.loadEvent("PANIC",void 0,void 0,{fail_reason:"top_domain_changed",c1:e,c2:i})):setTimeout(a,1e4)};setTimeout(a,1e4)}},B.prototype.debug=function(){return arguments.length?W.apply(this,arguments):(L=!0,void(C.console&&C.console.log&&C.console.log(U.get().join("\\n"))))},B.prototype.clearCSS=function(e){u(e)},B.prototype.createOpaqueAnimation=function ie(e,t,i){var a=this;return ie.prefix||(ie.prefix="animation-"+a.rand()+"-",ie.seq=0),i||(i=ie.prefix+ie.seq++),a.master?a.loadLibrary("sweetlib.js",function(){var o=a.getTopmostDocument(),r=C.piximedia.SweetLib.querySelector(e,o);a.animations[i]=C.piximedia.SweetLib.animate(r,t)}):a.emit("create-opaque-animation",e,t,i),i},B.prototype.createAnimation=function(e,t){var i=this,a=i.createOpaqueAnimation(e,t);return{play:function(e){i.playOpaqueAnimation(a,e)},reverse:function(e){i.reverseOpaqueAnimation(a,e)},clear:function(){i.clearOpaqueAnimation(a)}}},B.prototype.playOpaqueAnimation=function(e,t,i){var a=this;i||(i="fire-"+a.rand());var o="play-opaque-animation:callback:"+i;if(a.master){var r=a.animations[e];if(!r)return z("Could not find animation "+e);r.play(function(){a.emit(o)})}else a.on(o,function n(){a.removeListener(o,n),t(e)}),a.emit("play-opaque-animation",e,void 0,i)},B.prototype.reverseOpaqueAnimation=function(e,t,i){var a=this;i||(i="fire-"+a.rand());var o="reverse-opaque-animation:callback:"+i;if(a.master){var r=a.animations[e];if(!r)return z("Could not find animation "+e);r.reverse(function(){a.emit(o)})}else a.on(o,function n(){a.removeListener(o,n),t(e)}),a.emit("reverse-opaque-animation",e,void 0,i)},B.prototype.clearOpaqueAnimation=function(e){var t=this;if(t.master){var i=t.animations[e];if(!i)return z("Could not find animation "+e);i.clear()}else t.emit("clear-opaque-animation",e)},B.prototype.listBroadcastPm=function(e,t){var i=C.XMLHttpRequest?new C.XMLHttpRequest:void 0;if(e.match(/\\/$/)||(e+="/"),"withCredentials"in i)i.open("GET","//"+N+"/list-of-broadcast.pm/"+e+"json",!0),i.onreadystatechange=function(){return 4===i.readyState?t(200!==i.status?{error:"failed: "+i.responseText}:JSON.parse(i.responseText)):void 0},i.send(null);else{var a="listbroadcastpm"+this.rand(),o=C.document.getElementsByTagName("head")[0],r=C.document.createElement("script");r.async=!0,r.src="//"+N+"/list-of-broadcast.pm/"+e+"jsonp=piximedia._."+encodeURIComponent(a),o.appendChild(r),C.piximedia._[a]=t}},B.prototype.startNavigationTracking=function(e){var t=this;return t.master?void t.loadLibrary("sweetlib.js",function(){var t=C.piximedia.SweetLib;t.startNavigationTracking(e)}):t.emit("start-navigation-tracking",e)},B.prototype.bindVisibilityTracker=function(e,t,i,a){var o=this;return a||(a="fire-"+o.rand()),o.master?void o.loadLibrary("sweetlib.js",function(){var r=C.piximedia.SweetLib,n={object:r.querySelector(e)};for(var s in t)if(t.hasOwnProperty(s))switch(s){case"callback":break;default:n[s]=t[s]}r.bindVisibilityTracker(n,function(e){return i?i(e):void o.emit(a,e)})}):(o.on(a,i),o.emit("bind-visibility-tracker",e,t,void 0,a))},B.upscaleAssetQuery=function(e){if("[]"===e||""===e)return!0;if("object"==typeof e.match)return e;"string"==typeof e&&"{"===e.substr(0,1)&&(e=JSON.parse(e));var t=function(e){return i(e)?e:[e,e,e,e,e]},a=function(e){for(var a in e)if(e.hasOwnProperty(a)){var o=e[a],r=[];if("object"==typeof o&&!i(o)){var n;n=void 0;for(var s in o)o.hasOwnProperty(s)&&("_default"===s?n=t(o[s]):(r.push(s),r=r.concat(t(o[s]))));n&&(r=r.concat(n)),e[a]=r}}return e},o=function(e){switch(e.length){case 5:break;case 4:e=[e[0],e[1],null,e[2],e[3]];break;case 3:e=[null,e[0],e[1],e[2],null];break;case 2:e=[null,e[0],null,e[1],null];break;case 1:e=[null,null,e[0],null,null];break;default:e=e}for(var t=0;t<e.length;t++)null!==e[t]&&e[t].toString().match(/^[0-9.]+$/)&&(e[t]=null===e[t]?null:parseFloat(e[t],10));for(var i=0;i<e.length;i+=5)i+5<e.length&&i++,null===e[i+0]&&(null!==e[i+1]?e[i+0]=e[i+1]:e[i+0]=e[i+2]),null===e[i+4]&&(null!==e[i+3]?e[i+4]=e[i+3]:e[i+4]=e[i+2]);return e},r=function(e){if("true"===e)return!0;if("false"===e)return!1;var t=parseFloat(e,10);return t.toString()===e?t:e};if("string"==typeof e.require){var n=B.upscaleAssetQuery(e.require);if(e.use){var s=B.upscaleAssetQuery(e.require).match.grabAllAssets;n.match.grabSomeAssets=[];for(var l in s)s.hasOwnProperty(l)&&(n.match.grabSomeAssets=n.match.grabSomeAssets.concat(s[l].grabSomeAssets))}return n}if("string"==typeof e){for(var d=e.replace(/,\\s+/g,",").split(/\\s+/),c={grabAllAssets:[]},p=0;p<d.length;p++){var m=d[p],u=m.split(","),h={grabSomeAssets:[]};c.grabAllAssets.push(h);for(var f=0;f<u.length;f++){var v=u[f],g={and:[]};h.grabSomeAssets.push(g);var b=v.split("."),y=b.shift();y&&g.and.push([{property:"type"},"==",y]);for(var w in b)if(b.hasOwnProperty(w)){var x=b[w],I=x.match(/^[0-9]+x[0-9]+$/);if(I)g.and.push([{property:"surface"},"==",x]);else if(I=x.match(/^([a-z_]+)\\*(.*)$/))g.and.push([{property:I[1]},"*",o(I[2].split("*"))]);else if(I=x.match(/^([a-z_]+)(=|<=|<|>=|>|<>|!=)(.*)$/)){var S=I[1],k=I[2],P=I[3];"provides"===S?g.and.push({property:S+"_"+P}):g.and.push([{property:S},k,r(P)])}else g.and.push({property:x})}}}e={match:c}}else if("object"==typeof e){var C=Object.keys(e)[0];if(void 0===C)throw new Error("Invalid query (1)");var _=e[C];if(void 0===_)throw new Error("Invalid query (2)");if(_.desc||_.requires){var A={grabAllAssets:[],grabMatchingAssets:[]};for(var T in e)if(e.hasOwnProperty(T)){var E=e[T];r(E.mandatory)?A.grabAllAssets.push({grabName:T,value:B.upscaleAssetQuery(a(E.requires))}):A.grabMatchingAssets.push({grabName:T,value:B.upscaleAssetQuery(a(E.requires))})}e={match:A}}else{var O={and:[]},N={grabAllAssets:[O]},L=function(e,t){var a=function(e){return e};switch(e){case"weight":a=function(e){return null===e?e:1024*e},e="file_size";break;case"weight_used":a=function(e){return null===e?e:1024*e},e="bytes_used";break;case"weight_used_uncompressed":a=function(e){return null===e?e:1024*e},e="bytes_used_uncompressed";break;case"weight_used_no_video":a=function(e){return null===e?e:1024*e},e="bytes_used_no_video";break;case"iframable":e="iframeable"}if(i(t)){for(var n=[],s=0;s<t.length;s++)n[s]="string"==typeof t[s]?t[s]:a(t[s]);return[{property:e},"*",o(n)]}if("string"!=typeof t)return[{property:e},"==",r(t)];var l=t.substr(t.length-1,1),d=t.substr(0,t.length-1);switch(l){case"+":case"-":case"!":switch(t=a(r(d)),l){case"+":return[{property:e},">=",t];case"-":return[{property:e},"<=",t];case"!":return[{property:e},"!==",t]}break;default:return[{property:e},"==",a(r(t))]}};e=a(e);for(var M in e)if(e.hasOwnProperty(M)){var D=e[M];if("mandatory"===M)continue;"provides"===M?O.and.push(L("provides_"+D,!0)):"size"===M?O.and.push(L("size_"+D,!0)):""!==D&&O.and.push(L(M,D))}e={match:N}}}return e},B.assetsMatchQuery=function(e,t,o){o=o||{};var r,n,s,l,d,c,p,m=o.trailMissing||[],u={},h=o.assetsUsedOnce||{},f=o.assetsUsedByName||{},v={},g=[],b={},y=[],w=function(e){if(d=c=p=void 0,e(),r.metadataObject&&r.metadataObject.secondary_surfaces)for(var t=0;t<r.metadataObject.secondary_surfaces.length;t++){var i=r.metadataObject.secondary_surfaces[t],a=i.match(/^([0-9]+)x([0-9]+)$/);a&&(c=parseInt(a[1],10),p=parseInt(a[2],10),d=c/p,e(),d=c=p=void 0)}},x=function(e){r=e,r.name===r._splitname?(n=r._classes,s=r._asset_type):(n=r.name.split(".").splice(1),s=r.name.split(".")[0],r._classes=n,r._asset_type=s,r._splitname=r.name),r.metadataObject?l=r.metadataObject||{}:(l=r.metadata||{},"string"==typeof l&&(l=JSON.parse(l)||{}),r.metadataObject=l)},I=function(e){if(e.length<=5)return e;for(var t=0;t<e.length;t+=6){if(t+5===e.length)return e.slice(t);if(e[t]===r._asset_type||"video"===e[t]&&"redirect"===r._asset_type&&void 0===d&&r.metadataObject&&r.metadataObject.vast_adapter)return e.slice(t+1,t+1+5)}return[null,null,null,null,null]},S=function(e){var t=e.match(/^size_(.*)/);if(t){for(var i=t[1].split(/,\\s*/),o=0;o<i.length;o++){var n=i[o].split(/x/),m=parseInt(n[0],10),u=parseInt(n[1],10);if(void 0!==c&&void 0!==p){if(c===m&&p===u)return!0}else if(r.metadataObject.width===m&&r.metadataObject.height===u||r.metadataObject.secondary_surfaces&&a(r.metadataObject.secondary_surfaces,m+"x"+u)>=0)return!0}return!1}if("ratio"===e&&void 0!==d)return d;if("width"===e&&void 0!==c)return c;if("height"===e&&void 0!==p)return p;switch(e){case"asset_id":case"id":return r.asset_id;case"type":return s;case"bytes":case"file_size":return"redirect"===r._asset_type?1042:r.file_size;case"bytes_used":return"redirect"===r._asset_type?1042:(r.metadataObject?r.metadataObject.bytes30:void 0)||r.file_size;case"bytes_used_no_video":return"redirect"===r._asset_type?1042:((r.metadataObject?r.metadataObject.bytes30:void 0)||r.file_size)-(r.metadataObject?r.metadataObject.bytesvideo:0);case"bytes_used_uncompressed":return"redirect"===r._asset_type?1042:(r.metadataObject?r.metadataObject.bytes30uncompressed:void 0)||r.file_size;case"ratio":return r.metadataObject&&r.metadataObject.width&&r.metadataObject.height?r.metadataObject.width/r.metadataObject.height:void 0;case"provides_contents":return r._classes.indexOf("provides_contents")>=0||"video"===r._asset_type||"vast"===r._asset_type||"url"===r._asset_type&&r._classes.indexOf("redirect")>=0||"image"===r._asset_type||"html5"===r._asset_type||"redirect"===r._asset_type;case"provides_url":return r._classes.indexOf("provides_url")>=0||"url"===r._asset_type&&r._classes.indexOf("advertiser")>=0||"vast"===r._asset_type||"redirect"===r._asset_type&&(!!r.metadataObject.vast_adapter||!!r.metadataObject.inline);case"provides_animation":return r._classes.indexOf("provides_animation")>=0||"image"===r._asset_type||"html5"===r._asset_type||"redirect"===r._asset_type&&(!r.metadataObject.vast_adapter||"movie"!==r.metadataObject.vast_type);case"provides_movie":return r._classes.indexOf("provides_movie")>=0||"video"===r._asset_type||"vast"===r._asset_type||"redirect"===r._asset_type&&"contents"!==r.metadataObject.vast_type;case"provides_title":return r._classes.indexOf("provides_title")>=0||"url"===r._asset_type&&!!r.metadataObject.title||"redirect"===r._asset_type&&!!r.metadataObject.vast_adapter;case"provides_description":return r._classes.indexOf("provides_description")>=0||"url"===r._asset_type&&!!r.metadataObject.description||"redirect"===r._asset_type&&!!r.metadataObject.vast_adapter;case"provides_logo":return r._classes.indexOf("provides_logo")>=0||"url"===r._asset_type&&!!r.metadataObject.image||"redirect"===r._asset_type&&!!r.metadataObject.vast_adapter;case"site":return r._classes.indexOf("provides_site")>=0||"url"===r._asset_type;default:if(!r)return void 0;var h=l.tags;return h&&a(h,e)>=0?!0:l[e]}},k=function(e){var t,i=!1,a=function(e){if(e)if(e.property){if(i)return void(t=void 0);i=!0,t=e.property}else if("object"==typeof e)for(var o in e)e.hasOwnProperty(o)&&a(e[o])};return a(e),t},P=function(e){var t=e.id||e.asset_id,i=y.length&&y[y.length-1]?y[y.length-1]:void 0;i&&(f[i]=f[i]||[],-1===f[i].indexOf(t)&&f[i].push(t)),h[t]=!0;for(var a=0;a<y.length;a++)i=y[a],b[i]=b[i]||[],v[i+":"+t]||(v[i+":"+t]=!0,b[i].push(e));v[t]||(v[t]=!0,g.push(e))},C=function(e){e=e.grabName&&e.value?e.value:e,e.match&&(e=e.match);var t=JSON.stringify(e);u[t]||(u[t]=!0,m.push(JSON.parse(t)))},_=function(e){if(!e)return e;e.value&&(e=e.value),"object"==typeof e&&e.match&&(e=e.match);var a,n,s,l,d,c,p,m,u;if((!r&&!e.grabSomeAssets||e.grabMatchingAssets||e.grabAllAssets)&&(e={grabAllAssets:[e]}),e.grabSomeAssets||e.grabMatchingAssets||e.grabAllAssets){for(var h=e.grabSomeAssets||e.grabMatchingAssets||e.grabAllAssets,f=[],v=!1,g=h.length?!0:!1,b=0;b<h.length;b++){for(var A=h[b],T=!1,E=0;E<t.length;E++)x(t[E]),w(function(){var e;if(A.and){e=!0;e:do for(p=0;p<A.and.length;p++)if(m=A.and[p],m&&void 0!==m.length&&i(m)){u=void 0;var t=!1;if(n=m[0],a=n&&n.property?S(n.property):_(n),1===m.length)u=a;else if(d=m[1],c=m[2],"*"===d)c=I(c),s=c[0],l=c[4],null===s&&null===l&&(t=!0),u=void 0===a?s||l?!1:!0:s&&s>a?!1:l&&a>l?!1:!0;else{switch(typeof m[2]){case"string":case"number":case"boolean":c=m[2];break;default:c=_(m[2])}switch(d){case"<":u=c>a;break;case">":u=a>c;break;case"<=":u=c>=a;break;case">=":u=a>=c;break;case"=":case"==":case"===":"*"===c&&(t=!0),u=a===c||"*"===c;break;case"<>":case"!==":case"!=":u=a!==c}}if(u){if(o.completeTrail&&!t){if(o.partialTrail)for(var h=k(A.and[p]),f=0;f<o.partialTrail.length;){var v=o.partialTrail[f];v.asset_id===r.id&&v.property===h?o.partialTrail.splice(f,1):f++}o.completeTrail.push({asset_id:r.id,property:k(A.and[p])})}}else{if(e=!1,!o.partialTrail)break e;o.partialTrail.push({asset_id:r.id,property:k(A.and[p])})}}else if(!_(A.and[p])){e=!1;break e}while(!1)}else{var g=A.grabName;g&&y.push(g),e=_(A),g&&y.pop()}e&&(T=!0,P(r))});T?v=!0:(f.push(A),g=!1)}var O;if(O=e.grabAllAssets&&!o.forceOr?g:v,!O)for(var N=0;N<f.length;N++){var L=f[N];C(L)}return v}if(void 0===e.length||!i(e)){if(e.property)return S(e.property);if(e.and){for(p=0;p<e.and.length;p++)if(m=e.and[p],m&&void 0!==m.length&&i(m)){if(u=void 0,n=m[0],a=n&&n.property?S(n.property):_(n),1===m.length)u=a;else if(d=m[1],c=m[2],"*"===d)c=I(c),s=c[0],l=c[4],u=s&&s>a?!1:l&&a>l?!1:!0;else{switch(typeof m[2]){case"string":case"number":case"boolean":c=m[2];break;default:c=_(m[2])}switch(d){case"<":u=c>a;break;case">":u=a>c;break;case"<=":u=c>=a;break;case">=":u=a>=c;break;case"=":case"==":case"===":u=a===c;break;case"<>":case"!==":case"!=":u=a!==c}}if(!u)return!1}else if(!_(e.and[p]))return!1;return!0}if(e.or){for(var M=0;M<e.and.length;M++)if(_(e.or[M]))return!0;return!1}return"object"==typeof e&&e.match?_(e.match):e}if(n=e[0],a=n&&n.property?S(n.property):_(e[0]),1===e.length)return a;if(d=e[1],c=e[2],"*"===d)return c=I(c),s=c[0],l=c[4],s&&s>a?!1:l&&a>l?!1:!0;switch(typeof e[2]){case"string":case"number":case"boolean":c=e[2];break;default:c=_(e[2])}switch(d){case"<":return c>a;case">":return a>c;case"<=":return c>=a;case">=":return a>=c;case"=":case"==":case"===":return a===c;case"<>":case"!==":case"!=":return a!==c}};if(e=B.upscaleAssetQuery(e),"boolean"==typeof e)return e;if(!e.match||!e.match.grabAllAssets)throw new Error("Don\'t know how to parse this expression");for(var A=!0,T=!1,E=0;E<e.match.grabAllAssets.length;E++){var O=e.match.grabAllAssets[E],N=O.grabName;y.push(N),_(O)?T=!0:A=!1,y.pop()}if(e.match.grabMatchingAssets)for(var L=0;L<e.match.grabMatchingAssets.length;L++){var M=e.match.grabMatchingAssets[L],D=M.grabName;y.push(D),_(M),y.pop()}var R;return A?R=g:(T&&(o.partial=!0),R=[]),R},B.convertTrailMissing=function(e){var t=function(e){for(var t="*",a=[],o=function(e){if(e.property)-1===a.indexOf(e.property)&&a.push(e.property);else{if(!i(e))throw new Error("Unexepcted trail entry (4)");var o=e[0],r=e[1],n=e[2];if(o&&o.property){if("type"===o.property){if("=="!==r&&"==="!==r)throw new Error("Unexpected trail entry (3)");return void(t=n)}o=o.property}var s;switch(r){case"*":s=o+"*"+n.join("*");break;case"=":case"==":case"===":s=o+"="+n;break;case"!=":case"<>":case"!==":s=o+"!="+n;break;default:s=o+r+n}-1===a.indexOf(s)&&a.push(s)}};e.grabAllAssets&&e.grabAllAssets&&1===e.grabAllAssets.length;)e=e.grabAllAssets[0];if(e.and)for(var r=0;r<e.and.length;r++)o(e.and[r]);return t+(a.length?"."+a.join("."):"")};if(e.grabSomeAssets){for(var a=[],o=0;o<e.grabSomeAssets.length;o++)a.push(t(e.grabSomeAssets[o]));return a.join(",")}return t(e)},B.prototype.getPrerequisiteVirtualPosition=function(e){try{if(!this.globalOptions||!this.globalOptions.virtualPositions)return;for(var t in this.globalOptions.virtualPositions)if(this.globalOptions.virtualPositions.hasOwnProperty(t)){var i=this.globalOptions.virtualPositions[t];if(i.prerequisite){var a={};if(a[t]={positionId:t},this.queryPosition(e,{positions:a}).length)return i.prerequisite}}}catch(o){return}},B.prototype.debugTime=function(){H.apply(this,arguments)},B.prototype.getPositionById=function(e){return this.positions[e]||null},B.prototype.setupPassbackDebugInfos=function(){var e=this.getTopmostDocument();if(!this.passbackDebugInfosRoot){var t=e.createElement("div"),i=e.createElement("div"),a=e.createElement("div"),o=e.createElement("div");t.style.position="fixed",t.style.top=0,t.style.left=0,t.style.background="white",t.style.border="5px solid #888",t.style.zIndex=9999999999,t.style.fontFamily="sans-serif",i.innerText="Forcing Piximedia Passbacks",i.style.padding="5px",i.style.background="#888",i.style.color="white",i.style.textAlign="center",a.style.padding="5px",a.className="pmPassbacks",o.style.padding="5px",e.body.appendChild(t),t.appendChild(i),t.appendChild(a),t.appendChild(o),this.passbackDebugInfosRoot=t}},B.prototype.addPassbackDebugInfos=function(e,t){t=t||{};var i=this.passbackDebugInfosRoot;if(i){var a=i.getElementsByClassName("pmPassbacks")[0],o=i.ownerDocument.createElement("div");o.innerText=e,o.style.margin="2px 0",t.red&&(o.style.fontWeight="bold",o.style.color="#dd0033"),t.green&&(o.style.fontWeight="bold",o.style.color="#00bb88"),t.data&&(o.style.cursor="help",o.title=t.data),a.appendChild(o)}},B.prototype.sendFillerTopChange=function(){var e,t=this.getTopmostDocument().getElementById("pmFiller");t&&(e=C.piximedia.SweetLib.gbcr(t).top),e!==this.lastFillerTop&&(this.lastFillerTop=e,this.emit("filler-top-change",e))},B.prototype.markFooterInjected=function(){var e=this.getTopmostWindow();e.piximedia._pamHasInjectedSomeFooter=!0},B.prototype.registerPrebidS=function(e,t,a,o){var r=this;o=o||{};var n=new $(this,{prebidS:!0,formatTraits:o.sizes&&1===o.sizes.length?I(o.sizes):[],adId:e.adId,creativeId:e.creativeId,require:{positions:[t]},fif:{javascript:"window.framedAd.prebidSInject(window,document)"}}),s=void 0!==this.globalOptions.prebid_s_m?this.globalOptions.prebid_s_m:q,l=o.currency||a.currency||"USD",d=1*a.cpm/this.globalOptions.currencies[l],c=d/1e3,p=c*(1-s),m=c*s,u=e.cpm_auto?F:e.minimum_cpm;if(!u||u/1e3>p)W(e.minimum_cpm?"Discarding bid because it was too low":"Discarding bid because we do not know the minimum CPM");else{var h=null;n.bid=p,n.prebidSbid={cpm:a.cpm,currency:l},n.prebidSbidder={},Object.keys(a).forEach(function(e){var t=a[e];"function"==typeof t||"object"==typeof t&&!i(t)||(n.prebidSbidder[e]=t)});for(var f=!1,v=0;v<this.availableAds.length;v++){var g=this.availableAds[v];if(g.bid&&(f=!0),!(g.bid_priority&&g.bid_priority<(n.bid_priority||5))&&(g.passback||c>g.bid||!g.bid&&f)){h=v;break}}null!==h?this.availableAds.splice(h,0,n):this.availableAds.push(n),n.prebidSInject=function(){(C.piximedia.topWindowName||"").match(/pmshowprebidbid/)&&C.console.log("Requesting ad from Prebid bidder; CPM="+a.cpm+" "+l+" ("+d+" EUR)"),n.loadEvent("IMPRESSION",{pbsp:Math.round(1e4*p),pbsm:Math.round(1e4*m)}),a.burl&&r.loadPixel(a.burl),n.inject(t,{},function(e,t){if(delete t.framedPam,a.adUrl){var i=o.sizes&&o.sizes[0]?o.sizes[0]:[300,250],r=i[0],n=i[1],s=e.createElement("iframe");s.className="pmPrebidIframe",s.style.display="block",s.style.background="white",s.style.height=n+"px",s.style.width=r+"px",s.marginWidth=0,s.marginHeight=0,s.frameBorder=0,s.scrolling="no",s.allowFullscreen=!0,s.width=r,s.height=n,s.src=a.adUrl,e.body.appendChild(s)}else e.write(a.ad)})}}},B.prototype.parseConditionalTrackings=function(e,t){t=t||{};var i=window.piximedia.SweetLib,a={clickUrl:[],pixelUrl:[]};if(!B.SUPPORTS_CONDITIONAL_PIXELS)return a;for(var o=0;o<e.length;o++){var r=e[o]||{};if(r.data){for(var n=r.conditions||[],s=!0,l=0;l<n.length;l++){var d=n[l];if(d.hasOwnProperty("browser")){var c=d.browser;if(c!==i.browser.name){s=!1;break}}if(d.hasOwnProperty("device")){var p=d.device;if(p!==this.globalOptions.device){s=!1;break}}if(d.hasOwnProperty("position")){var m=d.position;if(m!==(t.pixiPositionId||"").split(".")[0]){s=!1;break}}}s&&(r.data.clickUrl&&(a.clickUrl=a.clickUrl.concat(r.data.clickUrl)),r.data.pixelUrl&&(a.pixelUrl=a.pixelUrl.concat(r.data.pixelUrl)))}}return a},B.prototype.enableImplicitInpage=function(){var e=this;W("Inserting implicit inpage position");var t,i=!1,a=function(){if(clearTimeout(t),!i){i=!0;var a=e.getTopmostDocument(),o=e.getTopmostWindow();W("[Implicit inpage] Creating theaxt map");var r=e.theaxtMap=new window.piximedia.TheaxtMap(a,o);W("[Implicit inpage] Creating placeholder");var n=r.createPlaceholder();if(n){W("[Implicit inpage] Got placeholder",n);var s="pixiMarker"+Math.round(1e16*Math.random()),l=a.createElement("div");l.id=s,l.className="pmInpageImplicitMaker",l.style.display="none",n.appendChild(l),e.hello({ajax:!0,document:a,window:o,id:s,positionId:"inpage"})}}};e.waitDomLoaded(a),t=setTimeout(a,5e3),e.on("position:remove",function(t){if(t.match(/^inpage/)){var i=new Date;e.lastInpageRemove&&i-e.lastInpageRemove<5e3?W("Last inpage remove too fresh, not attempting to re-create it"):(W("Inpage has been removed, scheduling another call"),e.lastInpageRemove=i,setTimeout(function(){e.enableImplicitInpage()},100))}})},B.prototype.registerOpenrtb=function(e,t){this.debug("Registering openrtb ads: "+t.length);var i=this;t.forEach(function(t){i.registerPrebidS(t,e,t,t)})},B.prototype.syncAdsNeedsRendezVous=function(){if(!this.scheduledRendezVous){for(var e=!1,t=0;t<this.availableAds.length;t++){var i=this.availableAds[t];i.require&&i.require.positions&&i.require.positions[0]&&i.require.positions[0].match(" ")&&(e=!0)}this.wouldAnyAdBenefitFromRendezVous=e,e||(this.scheduledRendezVous=!0,this.performedRendezVous=!0)}},B.prototype.createVehicleShuttleAd=function(e,t,i){if(t.createdVehicle)return i();t.createdVehicle=!0;var a=this,o=this.getTopmostWindow(),r=S(),n=t.vastLoader;if(n.error)return e.require={positions:["disabled-found-vast-vehicle-with-errors--"+n.error.replace(/\\s/g,"-")]},e.use={positions:[]},i("Loader has errors: "+n.error);o.piximedia._[r]={pam:this,asset:t,vastLoader:n};var s=n.companions,l=n.companionsPositions;if(!s||!l)return e.require={positions:["disabled-found-vast-vehicle-with-no-companions"]},e.use={positions:[]},i("No companions found in loader");if(!l||!l.length)return e.require={positions:["disabled-found-vast-vehicle-with-no-vehicle"]},e.use={positions:[]},i("no_vehicle");var d,c=new $(a,{adId:e.adId,creativeId:e.creativeId,campaignId:e.campaignId,bid_priority:e.bid_priority,shuttleAd:!0,require:e.require||{positions:[]},use:e.use||{positions:[]},fif:{javascript:"window.framedAd.vehicleInject(window,document)"}}),p=void 0!==a.globalOptions.prebid_s_m?a.globalOptions.prebid_s_m:q,m="EUR";if(t.metadata.buyer_cpm){var u=1*t.metadata.buyer_cpm/a.globalOptions.currencies[m];d=u/1e3}else d=e.bid;var h=d*(1-p),f=d*p,v=e.cpm_auto?F:e.minimum_cpm;if((!v||v/1e3>h)&&W(e.minimum_cpm?"Discarding bid because it was too low":"Discarding bid because we do not know the minimum CPM"),c.bid=h,c.vehicleSPay={cpm:1e3*d,currency:m},void 0===d||void 0===h||isNaN(h))return e.require={positions:["disabled-found-vast-vehicle-unknown-publisher-revenue"]},e.use={positions:[]},i("Could not find publisher revenue");for(var g=null,b=!1,y=0;y<a.availableAds.length;y++){var w=a.availableAds[y];if(w.bid&&(b=!0),!(w.bid_priority&&w.bid_priority<(c.bid_priority||5))&&(w.passback||d>w.bid&&!w.bid&&b)){g=y;break}}return null!==g?a.availableAds.splice(g,0,c):a.availableAds.push(c),c.vehicleInject=function(){c.loadEvent("IMPRESSION",{pbsp:Math.round(1e4*h),pbsm:Math.round(1e4*f)}),s.forEach(function(e){var t=e.positionId,i=e.pmSrc,o=\'<script src="\'+i.replace(/\\[\\[PM:VEHS\\]\\]/,a.siteId).replace(/\\[\\[PM:VEHP\\]\\]/,a.placementId).replace(/\\[\\[PM:VEHL\\]\\]/,a.globalOptions.l_id||"").replace(/\\[\\[PM:SHID\\]\\]/,r||"")+\'"></script>\';c.inject(t,{},function(e,t){e.write(o.replace(/\\[\\[PM:CC\\]\\]/,((t.framedPosition||{}).clickUrl||"").replace(/\\$/g,"$$$$")))})})},e.require={positions:["disabled-found-vast-vehicle"]},e.use={positions:[]},i()},B.prototype.loadExternalAsset=function(e,t){var i=e.asset_id,a=e.name,o=a.split(".")[0],r=this;r._loadExternalAssetsLoader=r._loadExternalAssetsLoader||{};var n=!1;if(r.externalAssets[i]&&!r.externalAssets[i].loading)return!e.toAsset&&r.externalAssets[i].toAsset&&r.externalAssets[i].toAsset(e),t();if(r._loadExternalAssetsLoader[i]||(n=!0,r._loadExternalAssetsLoader[i]=new G,\nr._loadExternalAssetsLoader[i].firstAsset=e,r.externalAssets[i]={loading:!0}),r._loadExternalAssetsLoader[i].on("asset-loaded",function(){return r._loadExternalAssetsLoader[i].firstAsset.toAsset(e),t.apply(this,arguments)}),n){e.loading=!0;var s=function(){e.loading=!1,e.loaded=!0,r.externalAssets[i]=e,r._loadExternalAssetsLoader[i].emitLocal("asset-loaded")};switch(e.callImpressionPixels=function(){z("I do not know how to call impression pixels for this asset")},e.toAsset=function(e){e!==this&&(e.toAsset=this.toAsset,e.metadata=this.metadata,this.vastLoader&&(e.vastLoader=this.vastLoader),this.empty&&(e.empty=this.empty),this.openrtbData&&(e.openrtbData=this.openrtbData,this.openrtbData.toAsset(e)),e.callImpressionPixels=this.callImpressionPixels)},o){case"redirect":!function(t){if(e.metadata.prebid)e.callImpressionPixels=function(){},r.loadExternalPrebidAsset(e,t);else if(e.metadata.vast_adapter)e.callImpressionPixels=function(){},r.loadExternalVASTAsset(e,t);else{if(!e.metadata.openrtb)return e.callImpressionPixels=function(){},t();e.callImpressionPixels=function(){},r.loadExternalOpenRTBAsset(e,t)}}(function(){return s()});break;case"vast":return r.loadExternalVASTAsset(e,function(){return s()});default:return z("External asset type “"+o+"” unknown for asset #"+i),s()}}},B.prototype.loadExternalPrebidAsset=function(e,t){k(this,e,function(i){if(i.length){var a=i[0].bid;a.adUrl?e.metadata.uri=a.adUrl:a.ad&&(e.metadata.html=a.ad),a.cpm&&(e.metadata.buyer_currency=a.currency||"USD",e.metadata.buyer_cpm=a.cpm)}else e.empty=!0;return t()})},B.prototype.loadExternalVASTAssetNVD=function(e,t){if(e.loaded)return t();if(e.loading&&e.vastLoader)return e.vastLoader.on("user:loaded",t);var i,a=e.metadata&&e.metadata.endpoint_uri?e.metadata.endpoint_uri:e.uri;return C.piximedia.vastLoadersByURI=C.piximedia.vastLoadersByURI||{},C.piximedia.vastLoadersByURI[a]?(i=e.vastLoader=C.piximedia.vastLoadersByURI[a],void(i.userLoaded?t():e.vastLoader.on("user:loaded",t))):(i=e.vastLoader=C.piximedia.vastLoadersByURI[a]=new Z(a),i.on("loaded",function(){e.metadata.vast=i.inlineVast,e.metadata.vastPiximediaPayloads=i.piximediaPayloads,e.metadata.vastCompanionsPositions=i.companionsPositions,e.metadata.vastWrapperStack=i.wrapperStack,i.userLoaded=!0,i.emitLocal("user:loaded")}),i.on("error",function(t){e.error=t,i.userLoaded=!0,i.emitLocal("user:loaded")}),i.on("user:loaded",t),void i.load())},B.prototype.loadExternalVASTAssetVehicle=function(e,t){if(e.loaded)return t();if(e.loading&&e.vastLoader)return e.vastLoader.on("user:loaded",t);var i=e.metadata&&e.metadata.endpoint_uri?e.metadata.endpoint_uri:e.uri,a=e.vastLoader=new Z(i);a.on("user:loaded",t),a.on("error",function(){return a.emitLocal("user:loaded"),t()}),a.on("loaded",function(){return a.emitLocal("user:loaded"),t()}),a.load()},B.prototype.loadExternalVASTAsset=function(e,t){var i=this;W("Loading external VAST asset",e),setTimeout(function(){if(e.callImpressionPixels=function(t){if(!e.calledImpressionPixels){e.calledImpressionPixels=!0;try{var a=e.metadata.vast.Ad_value.InLine_value.Impression;t.loadEvent("JS:IMPRESSION:VAST_LOADED",{c3:"asset:"+(e.asset_id||e.id)});for(var o=0;o<a.length;o++){var r=a[o].value;i.loadPixel(r)}if(e.metadata.vastWrapperStack)for(var n=0;n<e.metadata.vastWrapperStack.length;n++){var s=e.metadata.vastWrapperStack[n];if(s.impression)for(var l=0;l<s.impression.length;l++)i.loadPixel(s.impression[l])}}catch(d){}}},"piximedia_nvd"===e.metadata.vast_adapter||"piximedia_vehicle"===e.metadata.vast_adapter)!function(t){"piximedia_nvd"===e.metadata.vast_adapter?i.loadExternalVASTAssetNVD(e,t):"piximedia_vehicle"===e.metadata.vast_adapter&&i.loadExternalVASTAssetVehicle(e,t)}(function(){e.vastLoader.noVastAds&&(e.empty=!0);var i,a;if(e.vastLoader.wrapperStack)for(var o=0;o<e.vastLoader.wrapperStack.length;o++){var r=e.vastLoader.wrapperStack[o];if(r.extensions)for(var n=0;n<r.extensions.length;n++){var s=r.extensions[n];if("StickyPricing"===s.type&&s.Price_value){var l=parseFloat(s.Price_value.value,10),d=s.Price_value.currency;l&&(i=l,a=d)}}}return i&&(e.metadata.buyer_cpm=i,a&&(e.metadata.buyer_currency=a)),t.apply(this,arguments)});else{var a=e.metadata&&e.metadata.endpoint_uri?e.metadata.endpoint_uri:e.uri;h(a,function(i){return i&&200===i.status?("object"!=typeof e.metadata&&(e.metadata={}),200!==i.status?(V("Could not load VAST tag: "+i.responseText),t()):(e.metadata.vast=m(i.responseXML),t())):void 0})}},0)},B.prototype.loadExternalOpenRTBAsset=function(e,t){var i=this;W("Loading external OpenRTB asset",e),setTimeout(function(){e.callImpressionPixels=function(){e.calledImpressionPixels||(e.calledImpressionPixels=!0)},e.openrtbData={toAsset:function(t){t.metadata.html=e.metadata.html}};var a=new window.XMLHttpRequest;a.withCredentials=!0,a.onerror=function(){return i.loadEvent("PANIC",{},{},{fail_reason:"could_not_load_openrtb"}),t("could_not_load")},a.onreadystatechange=function(){if(4===a.readyState){var i,o=a.responseText;if(!o)return e.empty=!0,t();try{i=JSON.parse(o)}catch(r){return t("could not get openrtb data: "+r)}return i.bid?(e.metadata.buyer_cpm=i.bid.cpm,e.metadata.buyer_currency=i.bid.currency,e.metadata.html=i.bid.ad,t()):(e.empty=!0,t)}};var o=[];for(var n in i.globalOptions.partialStage2Args)i.globalOptions.partialStage2Args.hasOwnProperty(n)&&o.push(encodeURIComponent(n)+"="+encodeURIComponent(i.globalOptions.partialStage2Args[n]));var s=i.getTopmostWindow(),l=i.getTopmostDocument(),d=l.origin;d||(d=l.location.protocol+"//"+l.location.host);var c="//"+i.globalOptions.publicStage2Address+"/head/"+i.siteId+"/"+i.placementId+(i.slotId?"$"+i.slotId:"")+"/openrtb"+(o.length?"/"+o.join("/"):"")+(d?"/origin="+encodeURIComponent(d):"")+"?pamid="+encodeURIComponent(i.globalOptions.pamid)+"&tlh="+r(s)+"&asset_id="+e.asset_id;a.open("GET",c),a.send()},0)},B.prototype.loadExternalAssets=function(e){var t=0,i=this,a=function(){return--t?void 0:e()};i.externalAssets=i.externalAssets||{};for(var o=[],r=0;r<i.availableAds.length;r++){var n=i.availableAds[r];n._pmPamLoadedExternalAssets||(n._pmPamLoadedExternalAssets=!0,o.push(n))}if(t=o.length,!t)return e();for(var s=0;s<o.length;s++){var l=o[s];l.loadExternalAssets(a)}},B.prototype.loadPartialStage2=function(e,t){var i=this;if(e=e.split(".")[0],!this.globalOptions.position_filters||this.globalOptions.position_filters.indexOf(e)>=0)return t();this.pmPositionFilterLoaders=this.pmPositionFilterLoaders||{};var a=this.pmPositionFilterLoaders[e];if(a)return a.on("loaded",t);a=this.pmPositionFilterLoaders[e]=new G,a.on("loaded",t),i.numberOfPartialStage2sInAir=(i.numberOfPartialStage2sInAir||0)+1;var o=new window.XMLHttpRequest;o.withCredentials=!0,o.onerror=function(){return i.loadEvent("PANIC",{},{},{fail_reason:"could_not_load_partial_stage2"}),i.numberOfPartialStage2sInAir--,a.emit("loaded")},o.onreadystatechange=function(){if(4===o.readyState){var t=function(){return i.globalOptions.position_filters.push(e),i.numberOfPartialStage2sInAir--,a.emit("loaded")};if(o.responseText){var r,n=o.responseText;try{r=JSON.parse(n)}catch(s){i.loadEvent("PANIC",{},{},{fail_reason:"could_not_parse_partial_stage2"}),t()}i.insertPartialStage2(r,t)}else t()}};var n=[];for(var s in i.globalOptions.partialStage2Args)i.globalOptions.partialStage2Args.hasOwnProperty(s)&&n.push(encodeURIComponent(s)+"="+encodeURIComponent(i.globalOptions.partialStage2Args[s]));var l=this.getTopmostWindow(),d=this.getTopmostDocument(),c=d.origin;c||(c=d.location.protocol+"//"+d.location.host);var p="//"+this.globalOptions.publicStage2Address+"/head/"+this.siteId+"/"+this.placementId+(this.slotId?"$"+this.slotId:"")+"/stage2"+(n.length?"/"+n.join("/"):"")+(c?"/origin="+encodeURIComponent(c):"")+"/partial-stage2?exclude_positions="+encodeURIComponent(this.globalOptions.position_filters.join(","))+"&pamid="+encodeURIComponent(i.globalOptions.pamid)+"&position_filter="+encodeURIComponent(e)+"&tlh="+r(l);o.open("GET",p),o.send()},B.prototype.debugcollect=function(){var e=new window.XMLHttpRequest;e.withCredentials=!0,e.open("POST",(this.globalOptions.protocol||"http")+"://"+O+"/debugcollect"),e.send(JSON.stringify(P(this)))},B.prototype.insertPartialStage2=function(e,t){for(var i=this,a=0;a<e.length;a++){var o=new $(i,e[a]),r=null;i.partialSync.adCappingMet&&(o.require={positions:["disabled-ad-capping"]},o.disabledBecauseAdCapping=!0,o.disabledBecauseAdCappingLog="active-ads-capping");for(var n=0;n<i.partialSync.tvCodes.length;n++)o.passback||o.active||o.tv_code!==i.partialSync.tvCodes[n]||o.campaignId===i.partialSync.tvCodesCampaigns[o.tv_code]||(o.require={positions:["disabled-tv-code"]},o.disabledBecauseAdCapping=!0,o.disabledBecauseAdCappingLog="tv-code");for(var s=!1,l=0;l<this.availableAds.length;l++){var d=this.availableAds[l];if(!(d.bid_priority&&d.bid_priority<(o.bid_priority||5))&&(d.bid&&(s=!0),d.passback||d.bid&&o.bid>d.bid||s&&!d.bid)){r=l;break}}null!==r?this.availableAds.splice(r,0,o):this.availableAds.push(o)}this.prepareAds(t)},B.prototype.loadSegmentSyncHTML=function(e){var t=this.getPmLoaderDoc(),i=t.createElement("div");i.style.display="none",i.innerHTML=e,t.body.appendChild(i)},B.RENDEZVOUS_DURATION=T,B.SUPPORTS_CONDITIONAL_PIXELS=!1,B.SUPPORTS_TRACKING_AD=!0,B.SUPPORTS_TRACKING_CREATIVE=!0,B.browserDetect=K,B.Position=b,B.Iframe=g,B.VASTLoader=Z,B.AdProxy=f,B.CGAdProxy=v,B.isArray=i,(!C.piximedia.PAM||C.piximedia.PAM.VERSION<j)&&(C.piximedia.browserDetect=K),B.setupAllPAMS()}}(),function(){"use strict";function e(e){var t=e.args.hasOwnProperty("prebid_dead_timeout")?parseInt(e.args.prebid_dead_timeout,10):i;e.prebid_dead=!0,setTimeout(function(){e.prebid_dead=!1},1e3*t)}var t=window,i=60;if(!t.piximedia._.PAM_PREBID_LOADED){t.piximedia._.PAM_PREBID_LOADED=!0;var a=t.piximedia&&t.piximedia.PAM;if(!a)return t.console.error("No PAM?");var o=a.debug,r=a.error,n=a.Ad;a.prototype._markImplicitFooterDead=function(e){var t=e.args.hasOwnProperty("prebid_dead_timeout")?parseInt(e.args.prebid_dead_timeout,10):i,a=this.getTopmostWindow();a.piximedia._pamHasImplicitFooterPrebid=(a.piximedia._pamHasImplicitFooterPrebid||0)+1,setTimeout(function(){a.piximedia._pamHasImplicitFooterPrebid--},1e3*t)},a.prototype.prebid=function(){o("[Piximedia] going to expose prebid bids");var i=this.getTopmostWindow(),a=this,s="pmdebugprebid"===i.name?function(e){t.console.log("[Piximedia Prebid "+a.siteId+"/"+a.placementId+"] "+e)}:function(){},l=(i.pmPrebid||{})[this.siteId+"/"+this.placementId+"/"+this.mode];l||(r("Could not find prebids"),l=[]);var d,c=function(e,t){return function(i){i.creative_id=e+(t?"_"+t:"")}},p=[];d=this.hasBeenFullySetup?this.globalOptions.enableFooter&&this.positions.footer&&!this.positions.footer.decoratedBy&&this.getTopmostWindow()===top:this.globalOptions.enableFooter&&this.getTopmostWindow()===top;for(var m=!i.piximedia._pamHasInjectedSomeFooter&&!i.piximedia._pamHasImplicitFooterPrebid&&d,u=null,h=0;h<this.availableAds.length;h++)if(this.availableAds[h].passback){u=h;break}for(var f=0;f<this.availableAds.length;f++){var v=this.availableAds[f];if(!v.passback&&!v.active&&!v.prebid_dead){e(v);var g=((v.use||{}).positions||[])[0]||"",b=((v.require||{}).positions||[])[0]||"",y=!1,w=b;if(b.match(/^\\s*footer\\s*/)&&g&&!v._fixedPrebidRequireFooter){var x={};for(var I in v._originalAd)v._originalAd.hasOwnProperty(I)&&(x[I]=JSON.parse(JSON.stringify(v._originalAd[I])));var S=new n(this,x);S.prebid_dead=!0,u?(this.availableAds.splice(u,0,S),u++):this.availableAds.push(S),v._fixedPrebidRequireFooter=!0,v.require&&v.require.positions&&v.require.positions.length&&(v.require.positions[0]+=" "+g.replace(/,/g," ").replace(/\\s+/g," ").split(" "),v.use={positions:[]},w=b=v.require.positions[0])}if(m&&w.match(/\\bfooter\\b/)&&(y=!0,w=w.replace(/\\bfooter\\b/g,"")),w=w.replace(/\\s+/g," ").replace(/^ /,"").replace(/ $/,""),!w&&g&&(w=g,m&&(w.match(/\\bfooter\\b/)&&(y=!0),w=w.replace(/\\bfooter\\b/g,"")),w=w.replace(/\\s+/g," ").replace(/^ /,"").replace(/ $/,"")),w){var k=[],P=w.match(/\\*\\.([0-9]+x[0-9]+)/);if(P)k.push(P[1]);else if(v.formatTraits&&v.formatTraits.length)for(var C=0;C<v.formatTraits.length;C++){var _=v.formatTraits[C];"string"==typeof _&&_.match&&_.match(/^[0-9]+x[0-9]+$/)&&k.push(_)}for(var A=w.split(" "),T=[],E=0;E<A.length;E++){var O=A[E];-1===T.indexOf(O)&&T.push(O)}1===T.length&&p.push({firstPos:T[0].replace(/^\\*\\./,"mpu."),ad:v,formatTraitsSizes:k,wipedSomeFooter:y})}}}for(var N=0;N<l.length;N++){var L=l[N];if(!L.called){L.called=!0,L.loaded_at=new Date;for(var M=[],D={},R={},F=0;F<p.length;F++){var q=p[F],j=q.firstPos.split(","),B=q.ad.adId,z=q.ad.uniqid,V=q.ad.creativeId;if(!D[B])e:for(var U=0;U<j.length;U++){var W=j[U];if(!R[W])for(var H=0;H<L.sizes.length;H++){var J=L.sizes[H],$=!1;if(s("Considering adId="+B+", creativeId="+V),q.formatTraitsSizes&&q.formatTraitsSizes.length?1===q.formatTraitsSizes.length&&q.formatTraitsSizes[0]===J?(s("*** matched size because of format trait: "+q.formatTraitsSizes[0]),$=!0):s("--- not matching because of format trait: "+q.formatTraitsSizes[0]):L.prebid_sizes[J]===W?(s("*** matched size because of first required position: "+W),$=J,D[B]=!0,R[W]=!0):s("--- not matching available sizes"),$){var G={size:J,positionId:W,currency:"EUR",adId:B,uniqAdId:z};if(L.currency){if(!this.globalOptions.currencies[L.currency]){r("No rate known for "+L.currency);continue}G.cpm=1e3*q.ad.bid*this.globalOptions.currencies[L.currency],G.currency=L.currency}else G.cpm=1e3*q.ad.bid,G.currency="EUR";this.globalOptions.l_id&&(G.dealId=this.globalOptions.l_id),G.helper=c(B,V),M.push(G),q.wipedSomeFooter&&this._markImplicitFooterDead(q.ad);break e}}}}try{L.callback(this,M)}catch(X){r("Could not load prebid callback: "+X)}}}}}}(),function(){"use strict";function e(){var e;try{return e=top.document,e.piximediaiframetest=!0,top}catch(t){}try{return e=s.parent.parent.parent.document,e.piximediaiframetest=!0,s.parent.parent.parent.window}catch(t){}try{return e=s.parent.parent.document,e.piximediaiframetest=!0,s.parent.parent.window}catch(t){}try{return e=s.parent.document,e.piximediaiframetest=!0,s.parent.window}catch(t){}return window}function t(){if(n)return n;var t=e(),i=t.document,a=0,o=0;return void 0!==t.self.pageYOffset?(o=t.pageYOffset,a=t.pageXOffset):i.documentElement&&void 0!==i.documentElement.scrollTop&&i.documentElement.scrollTop?(o=i.documentElement.scrollTop,a=i.documentElement.scrollLeft):i.body&&i.body.scrollTop&&(o=i.body.scrollTop,a=i.body.scrollLeft),!o&&t.piximedia&&t.piximedia.preview&&t.document.body&&t.document.body.firstElementChild&&(o=-1*t.document.body.firstElementChild.getBoundingClientRect().top),n=[a,o]}function i(e){var a=t(),o=e.getBoundingClientRect();if(o.x+o.width+a[0]<=0||o.y+o.height+a[1]<=0)return!1;var r=e.ownerDocument,n=r.defaultView||r.parentWindow,s=n.getComputedStyle(e),l=s.getPropertyValue("display"),d=s.getPropertyValue("visibility");return"none"===l||"hidden"===d?!1:e.parentNode&&e.parentNode instanceof Element?i(e.parentNode):!0}function a(e){return(e||"").toString().split(/(\\s|[\'",?;.:\\/=+()_-])+/).filter(function(e){return e.match(/^[a-zA-Z][a-zA-Z0-9]{1,}/)})}function o(e){s.piximedia.PageClass.instance=this,this.options=e,this.loadReferrer(),this.load()}function r(e){for(var t=2166136261,i=0,a=e.length;a>i;i++)for(var o=e.charCodeAt(i);o>0;){var r=255&o;t^=r,t=16777619*t&4294967295,o>>=8}return(0>t?4294967295+t+1:t).toString(16)}var n,s=window,l="ad.piximedia.com",d=20,c={sont:!0,est:!0,ou:!0,ont:!0,"à":!0,au:!0,aux:!0,en:!0,"où":!0,soi:!0,aller:!0,et:!0,par:!0,son:!0,sa:!0,ses:!0,autre:!0,"être":!0,pas:!0,sur:!0,avec:!0,faire:!0,plus:!0,te:!0,tu:!0,toi:!0,avoir:!0,il:!0,ils:!0,pour:!0,ton:!0,ta:!0,tes:!0,bien:!0,je:!0,me:!0,moi:!0,pouvoir:!0,tout:!0,tous:!0,ce:!0,cet:!0,cette:!0,ces:!0,jour:!0,prendre:!0,un:!0,une:!0,uns:!0,unes:!0,comme:!0,le:!0,la:!0,les:!0,que:!0,venir:!0,de:!0,du:!0,des:!0,leur:!0,leurs:!0,qui:!0,voir:!0,dans:!0,lui:!0,se:!0,votre:!0,vos:!0,dire:!0,mais:!0,sans:!0,vouloir:!0,donner:!0,mon:!0,ma:!0,mes:!0,savoir:!0,vous:!0,elle:!0,elles:!0,ne:!0,si:!0,y:!0,the:!0,be:!0,to:!0,of:!0,and:!0,a:!0,"in":!0,that:!0,have:!0,I:!0,it:!0,"for":!0,not:!0,on:!0,"with":!0,he:!0,as:!0,you:!0,"do":!0,at:!0,"this":!0,but:!0,his:!0,by:!0,from:!0,they:!0,we:!0,say:!0,her:!0,she:!0,or:!0,an:!0,will:!0,my:!0,one:!0,all:!0,would:!0,there:!0,their:!0,what:!0,so:!0,up:!0,out:!0,"if":!0,about:!0,who:!0,get:!0,which:!0,go:!0,when:!0,make:!0,can:!0,like:!0,time:!0,no:!0,just:!0,him:!0,know:!0,take:!0,people:!0,into:!0,year:!0,your:!0,good:!0,some:!0,could:!0,them:!0,see:!0,other:!0,than:!0,then:!0,now:!0,look:!0,only:!0,come:!0,its:!0,over:!0,think:!0,also:!0,back:!0,after:!0,use:!0,two:!0,how:!0,our:!0,work:!0,first:!0,well:!0,way:!0,even:!0,"new":!0,want:!0,because:!0,any:!0,these:!0,give:!0,day:!0,most:!0,us:!0},p={SCRIPT:!0,NOSCRIPT:!0,STYLE:!0};o.prototype.loadReferrer=function(){var t=e();t!==top&&(this.referrer="unknown-cross");var i=document.createElement("a");if(i.href=t.document.referrer,i.hostname.match(/google\\.[a-z]+$/))this.referrer="search:google";else if(i.hostname.match(/bing\\.[a-z]+$/))this.referrer="search:bing";else if(i.hostname.match(/qwant\\.[a-z]+$/))this.referrer="search:qwant";else if(i.hostname.match(/duckduckgo\\.[a-z]+$/))this.referrer="search:duckduckgo";else if(i.hostname.match(/facebook\\.[a-z]+$/))this.referrer="social:facebook";else if(i.hostname.match(/twitter\\.[a-z]+$/))this.referrer="social:twitter";else if(i.hostname.match(/instagram\\.[a-z]+$/))this.referrer="social:instagram";else{var a=t.document.createElement("a");a.href="#",this.referrer=a.hostname!==i.hostname?"referral":"direct"}},o.prototype.load=function(){var t=this,i=e(),a=!1,o=function(){a||(a=!0,t.collect(),t.send())};setTimeout(o,5e3);var r=setInterval(function(){i.document&&"complete"===i.document.readyState&&(clearInterval(r),setTimeout(function(){o()},1e3))},1e3)},o.prototype.collect=function(){for(var t=e(),o=t.document,n={},s=0,l=function(e,t){e.forEach(function(e){e=e.toLowerCase(),e.normalize&&(e=e.normalize("NFD").replace(/[\\u0300-\\u036f]/g,"")),e&&!c[e]&&e.match(/^[a-z\\u00E0-\\u00FC]+$/i)&&(n[e]=(n[e]||0)+Math.log(t||12))})},d=function(){var e=a(o.title);l(e,2*s),l(a((o.querySelector("meta[property=\'og:title\']")||{}).content))},m=o.createTreeWalker(o.body,NodeFilter.SHOW_TEXT);m.nextNode();){var u=m.currentNode;if(u.parentNode&&i(u.parentNode)&&(!u.parentNode||!p[u.parentNode.tagName])){var h=parseFloat(t.getComputedStyle(u.parentElement).getPropertyValue("font-size"),10);h>s&&(s=h);var f=a(u.textContent);f.length<5||l(f,h)}}d();var v=Object.keys(n);v.sort(function(e,t){return n[e]>n[t]?-1:n[t]>n[e]?1:0}),this.wordsCount=n,this.words=v,this.wordsFNV=v.map(r)},o.prototype.send=function(){var t=e(),i=t.document,a=i.getElementsByTagName("head")[0];if(a){var o=i.createElement("iframe");o.style.visibility="hidden",o.style.width="1px",o.style.height="1px",o.src="//"+l+"/pageclass?site_id="+encodeURIComponent(this.options.site_id)+"&placement_id="+encodeURIComponent(this.options.placement_id)+"&r="+encodeURIComponent(this.referrer)+"&w="+this.wordsFNV.slice(0,d).join(","),a.appendChild(o)}},o.prototype.present=function(){var t=this,i=e(),a=i.document,o=a.createElement("iframe");o.src="javascript:document.close()",o.style.width="300px",o.style.height="500px",o.style.position="absolute",o.style.position="fixed",o.style.top=0,o.style.left=0,o.style.zIndex=549755813887,a.body.appendChild(o),setTimeout(function(){var e=o.contentDocument,i=e.createElement("div");i.textContent="Referrer: "+t.referrer,e.body.appendChild(i),e.body.style.background="white";var a=t.wordsCount[t.words[0]];t.words.forEach(function(i,o){var r=e.createElement("span");r.style.fontSize=Math.max(5,16*Math.log(t.wordsCount[i]/a*32))+"px",r.style.display="block",d>o&&(r.style.color="#ee22aa"),r.innerText=i,e.body.appendChild(r)})},1e3)},s.piximedia.PageClass||(s.piximedia.PageClass=o)}(),function(){var e=60,t=10,i=200,a=300,o=function(e){for(var t=e;;){if(1===t.nodeType||"BODY"===t.tagName)break;t=t.parentNode}for(var i=t.getBoundingClientRect();;){if("BODY"===t.tagName)return t;var a=t.parentNode,o=a.getBoundingClientRect();if(o.right-o.left>3*(i.right-i.left)||o.bottom-o.top>3*(i.bottom-i.top))return t;t=t.parentNode}},r=function(e,t,i,a){this.domNodes=[e],this.originalNodes=[this],this.originalDomNode=e,this.northScore=i,this.left=t.left,this.right=t.right,this.top=t.top,this.originalTop=this.top,this.bottom=t.bottom,this.width=t.right-t.left,this.height=t.bottom-t.top,this.originalHeight=this.height,this.surface=this.width*this.height,this.length=a,this.score=i*this.length*Math.log(this.surface),this.closestDomNode=o(e)};r.prototype.distanceOf=function(e){if(this.closestDomNode.parentNode!==e.closestDomNode.parentNode)return 1/0;var t=this.left<e.left?this:e,i=this.left<e.left?e:this,a=t.right>=i.left?0:i.left-t.right,o=this.bottom<e.top?this:e,r=this.bottom<e.top?e:this,n=o.bottom>=r.top?0:r.top-o.bottom;return Math.max(a,n)},r.prototype.collapseWith=function(e){this.domNodes=this.domNodes.concat(e.domNodes),this.left=Math.min(this.left,e.left),this.right=Math.max(this.right,e.right),this.top=Math.min(this.top,e.top),this.bottom=Math.max(this.bottom,e.bottom),this.width=this.right-this.left,this.height=this.bottom-this.top,this.surface=this.width*this.height,this.length+=e.length,this.score+=e.score,e.originalNodes.forEach(function(e){-1===this.originalNodes.indexOf(e)&&this.originalNodes.push(e)}.bind(this))};var n=function(e,t){this.document=e,this.window=t,this.maximumSurface=0,this.nodes=[],this.mergedNodes=[],this.run()},s=function(e,t){for(var i=e.getComputedStyle,a=t;a&&"BODY"!==a.tagName;a=a.parentNode)if(1===a.nodeType){var o;if(i?o=i(a).getPropertyValue("overflow"):a.currentStyle&&(o=a.currentStyle.overflow),"scroll"===o)return{contentHeight:a.scrollHeight,scrollTop:a.scrollTop}}return{contentHeight:t.ownerDocument.body.scrollHeight,scrollTop:0}};n.prototype.run=function(){var e=this.document,a=this.window;a.piximedia.PAM.debug("[Implicit inpage] Running map");for(var o,n=e.createTreeWalker(e.body,NodeFilter.SHOW_TEXT),l=e.createRange(),d=a.scrollY;o=n.nextNode();)if(!(o.textContent.length<t)){l.selectNode(o);var c=l.getBoundingClientRect(),p=c.right-c.left,m=c.bottom-c.top;if(l.detach(),p*m){var u=o.textContent.length,h=s(a,o),f=h.contentHeight,v=h.scrollTop,g=1-Math.min(1,Math.sqrt((c.top+d+v)/f)),b=new r(o,{top:c.top+d+v,bottom:c.bottom+d+v,left:c.left,right:c.right},g,u);b.surface>0&&b.top>i&&this.nodes.push(b)}}a.piximedia.PAM.debug("[Implicit inpage] Found "+this.nodes.length+" nodes"),this.filterNodes(),a.piximedia.PAM.debug("[Implicit inpage] Filtered to "+this.nodes.length+" nodes"),this.mergeNodes(),a.piximedia.PAM.debug("[Implicit inpage] Merged to "+this.mergedNodes.length+" nodes")};var l=function(e){for(var t=e;"BODY"!==e.tagName;e=e.parentNode)if("BLOCKQUOTE"===e.tagName)return e;return t},d=function(e){for(var t,i,a=3,o=500,r=e,n=e;"BODY"!==e.tagName;e=e.parentNode)if(1===e.nodeType){t||(t=e.getBoundingClientRect().height,i=Math.max(200,t)*a);var s=e.getBoundingClientRect(),l=s.height,d=s.width;if(l>i)return n;o>d&&(i=Math.max(200,l)*a),n=e}return r},c=function(e,t){this.window=e,this.node=t,this.initial=this.get()};c.prototype.get=function(){for(var e=this.window.getComputedStyle,t=[],i=this.node;i&&"BODY"!==i.tagName;i=i.parentNode)if(1===i.nodeType){var a;if(e?a=e(i).getPropertyValue("height"):i.currentStyle&&(a=i.currentStyle.height),"auto"===a)t.push({node:i,auto:!0});else{a=parseInt(a,10);var o=a?i.scrollHeight-a:0;t.push({node:i,missingPixels:o})}}return t},c.prototype.isOverflowing=function(){var e=this.get();if(this.initial.length!==e.length)return!0;for(var t=0;t<e.length;t++)if(this.initial[t].auto&&e[t].auto);else if(e[t].missingPixels>this.initial[t].missingPixels&&Math.abs(e[t].missingPixels-this.initial[t].missingPixels)>1)return!0;return!1},n.prototype.createPlaceholder=function(){if(this._placeholder)return this._placeholder;this.syncMaximumSurface();for(var e=this.document,t=this.window,i=function(i,a){t.piximedia.PAM.debug("[Implicit inpage] Trying node"+(a?" (allows body)":""),i),t.piximedia.PAM.debug("[Implicit inpage] Score="+i.score);var o,r=i.top+.5*i.height,n=1/0;if(i.originalNodes.forEach(function(e){var t=e.originalTop+e.originalHeight/2,i=Math.abs(t-r);n>i&&(n=i,o=e)}),t.piximedia.PAM.debug("[Implicit inpage] Closest node",o),o){var s=e.createElement("div");s.className="pmTheaxtPlaceholder",this._placeholder=s;var p=!0,m=o.originalDomNode;for(t.piximedia.PAM.debug("[Implicit inpage] First insert node",m),m=d(l(m)),t.piximedia.PAM.debug("[Implicit inpage] Escaped",m);;){if("BODY"===m.tagName&&!a)return;m.parentNode.insertBefore(s,p?m.nextElementSibling:void 0),s.style.height="1.5px";var u=new c(t,m);s.style.height="600px";var h=u.isOverflowing();if(s.style.height="auto",t.piximedia.PAM.debug("[Implicit inpage] Trying to insert as child of node, is overflowing = "+h,m.parentNode),!h)break;p?p=!1:m=m.parentNode}return!0}}.bind(this),a=0;1>=a;a++)for(var o=0;o<this.mergedNodes.length;o++){var r=this.mergedNodes[o];if(i(r,1===a))break}return this._placeholder};var p=function(e,t){for(var i=this.window.getComputedStyle;t&&"BODY"!==t.tagName;t=t.parentNode)if(1===t.nodeType){var a,o,r;if(i?(a=i(t).getPropertyValue("position"),o=i(t).getPropertyValue("display"),r=i(t).getPropertyValue("opacity")):t.currentStyle&&(a=t.currentStyle.position,o=t.currentStyle.display,r=t.currentStyle.opacity),"fixed"===a||"hidden"===o||"0"===r)return!1}return!0};n.prototype.filterNodes=function(){var e,t,i=[],a=[];for(e=0;e<this.nodes.length;e++)t=this.nodes[e],a.push(t.length);var o=a[Math.round(a.length/2)];for(e=0;e<this.nodes.length;e++)t=this.nodes[e],t.length<o||p(this.window,t.domNodes[0])&&i.push(t);this.nodes=i},n.prototype.mergeNodes=function(){var t;this.mergedNodes=this.nodes;do{t=!1;for(var i=[],a=0;a<this.mergedNodes.length;a++){for(var o=!1,r=0;r<i.length;r++)this.mergedNodes[a].distanceOf(i[r])<e&&(i[r].collapseWith(this.mergedNodes[a]),o=t=!0);o||i.push(this.mergedNodes[a])}this.mergedNodes=i}while(t)},n.prototype.syncMaximumSurface=function(){this.maximumSurface=0,this.maximumScore=0,this.mergedNodes.forEach(function(e){e.surface>this.maximumSurface&&(this.maximumSurface=e.surface),e.score>this.maximumScore&&(this.maximumScore=e.score)}.bind(this)),this.maximumNode=void 0,this.maximumNodeScore=void 0,this.mergedNodes.forEach(function(e){!this.maximumNode&&Math.abs(e.surface-this.maximumSurface)<.01&&(this.maximumNode=e),!this.maximumNodeScore&&Math.abs(e.length-this.maximumScore)<.01&&(this.maximumNodeScore=e)}.bind(this)),this.mergedNodes.sort(function(e,t){var i=e.width<a,o=t.width<a;return i&&!o?1:o&&!i?-1:e.score>t.score?-1:e.score<t.score?1:0})},n.prototype.syncVisualizationStyle=function(){var e=this.document,t=e.getElementById("pmTheaxtStyle");t||(t=e.createElement("style"),t.id="pmTheaxtStyle",e.body.appendChild(t)),t.innerText=".pmTheaxtVis {z-index: 2147483632;border: 1px solid red;position: fixed;margin: none; margin: none;}.pmTheaxtVisNode {border: 1px solid red;}.pmTheaxtVisMergedNode {border: 1px solid blue;background: blue;}.pmTheaxtVisMaximum {border: 1px solid green;z-index: 2147483633;background: green;}"},n.prototype.visualizePlaceholder=function(){this.syncVisualizationStyle()},n.prototype.visualize=function(){if(!this.visualizing){this.visualizing=!0;var e,t=this.window;t.addEventListener("scroll",function(){e&&clearTimeout(e),e=setTimeout(function(){e=void 0,this.syncVisualization()}.bind(this),100)}.bind(this)),this.syncVisualization(),t.scroll(0,this.maximumNode.top-100)}},n.prototype.syncVisualization=function(){this.syncVisualizationStyle();for(var e=this.document,t=this.window,i=e.getElementsByClassName("pmTheaxtVis"),a=i.length-1;a>=0;a--)i[a].parentNode.removeChild(i[a]);var o=function(i){return function(a){var o=e.createElement("div");e.body.appendChild(o),o.className="pmTheaxtVis "+i,a===this.maximumNode&&(o.className+=" pmTheaxtVisMaximum"),o.setAttribute("pm-surface",a.surface),o.style.top=a.top-t.scrollY+"px",o.style.left=a.left+"px",o.style.width=a.width+"px",o.style.height=a.height+"px",o.style.opacity=.2+.6*a.surface/this.maximumSurface}.bind(this)}.bind(this);this.nodes.forEach(o("pmTheaxtVisNode")),this.mergedNodes.forEach(o("pmTheaxtVisMergedNode"))},window.piximedia.TheaxtMap=n,window.piximedia.TheaxtNode=r}(),function(){"use strict";function e(){var e;try{return e=top.document,e.piximediaiframetest=!0,top}catch(t){}try{return e=s.parent.parent.parent.document,e.piximediaiframetest=!0,s.parent.parent.parent.window}catch(t){}try{return e=s.parent.parent.document,e.piximediaiframetest=!0,s.parent.parent.window}catch(t){}try{return e=s.parent.document,e.piximediaiframetest=!0,s.parent.window}catch(t){}return window}function t(){if(n)return n;var t=e(),i=t.document,a=0,o=0;return void 0!==t.self.pageYOffset?(o=t.pageYOffset,a=t.pageXOffset):i.documentElement&&void 0!==i.documentElement.scrollTop&&i.documentElement.scrollTop?(o=i.documentElement.scrollTop,a=i.documentElement.scrollLeft):i.body&&i.body.scrollTop&&(o=i.body.scrollTop,a=i.body.scrollLeft),!o&&t.piximedia&&t.piximedia.preview&&t.document.body&&t.document.body.firstElementChild&&(o=-1*t.document.body.firstElementChild.getBoundingClientRect().top),n=[a,o]}function i(e){var a=t(),o=e.getBoundingClientRect();if(o.x+o.width+a[0]<=0||o.y+o.height+a[1]<=0)return!1;var r=e.ownerDocument,n=r.defaultView||r.parentWindow,s=n.getComputedStyle(e),l=s.getPropertyValue("display"),d=s.getPropertyValue("visibility");return"none"===l||"hidden"===d?!1:e.parentNode&&e.parentNode instanceof Element?i(e.parentNode):!0}function a(e){return(e||"").toString().split(/(\\s|[\'",?;.:\\/=+()_-])+/).filter(function(e){return e.match(/^[a-zA-Z][a-zA-Z0-9]{1,}/)})}function o(e){s.piximedia.PageClass.instance=this,this.options=e,this.loadReferrer(),this.load()}function r(e){for(var t=2166136261,i=0,a=e.length;a>i;i++)for(var o=e.charCodeAt(i);o>0;){var r=255&o;t^=r,t=16777619*t&4294967295,o>>=8}return(0>t?4294967295+t+1:t).toString(16)}var n,s=window,l="ad.piximedia.com",d=20,c={sont:!0,est:!0,ou:!0,ont:!0,"à":!0,au:!0,aux:!0,en:!0,"où":!0,soi:!0,aller:!0,et:!0,par:!0,son:!0,sa:!0,ses:!0,autre:!0,"être":!0,pas:!0,sur:!0,avec:!0,faire:!0,plus:!0,te:!0,tu:!0,toi:!0,avoir:!0,il:!0,ils:!0,pour:!0,ton:!0,ta:!0,tes:!0,bien:!0,je:!0,me:!0,moi:!0,pouvoir:!0,tout:!0,tous:!0,ce:!0,cet:!0,cette:!0,ces:!0,jour:!0,prendre:!0,un:!0,une:!0,uns:!0,unes:!0,comme:!0,le:!0,la:!0,les:!0,que:!0,venir:!0,de:!0,du:!0,des:!0,leur:!0,leurs:!0,qui:!0,voir:!0,dans:!0,lui:!0,se:!0,votre:!0,vos:!0,dire:!0,mais:!0,sans:!0,vouloir:!0,donner:!0,mon:!0,ma:!0,mes:!0,savoir:!0,vous:!0,elle:!0,elles:!0,ne:!0,si:!0,y:!0,the:!0,be:!0,to:!0,of:!0,and:!0,a:!0,"in":!0,that:!0,have:!0,I:!0,it:!0,"for":!0,not:!0,on:!0,"with":!0,he:!0,as:!0,you:!0,"do":!0,at:!0,"this":!0,but:!0,his:!0,by:!0,from:!0,they:!0,we:!0,say:!0,her:!0,she:!0,or:!0,an:!0,will:!0,my:!0,one:!0,all:!0,would:!0,there:!0,their:!0,what:!0,so:!0,up:!0,out:!0,"if":!0,about:!0,who:!0,get:!0,which:!0,go:!0,when:!0,make:!0,can:!0,like:!0,time:!0,no:!0,just:!0,him:!0,know:!0,take:!0,people:!0,into:!0,year:!0,your:!0,good:!0,some:!0,could:!0,them:!0,see:!0,other:!0,than:!0,then:!0,now:!0,look:!0,only:!0,come:!0,its:!0,over:!0,think:!0,also:!0,back:!0,after:!0,use:!0,two:!0,how:!0,our:!0,work:!0,first:!0,well:!0,way:!0,even:!0,"new":!0,want:!0,because:!0,any:!0,these:!0,give:!0,day:!0,most:!0,us:!0},p={SCRIPT:!0,NOSCRIPT:!0,STYLE:!0};o.prototype.loadReferrer=function(){var t=e();t!==top&&(this.referrer="unknown-cross");var i=document.createElement("a");if(i.href=t.document.referrer,i.hostname.match(/google\\.[a-z]+$/))this.referrer="search:google";else if(i.hostname.match(/bing\\.[a-z]+$/))this.referrer="search:bing";else if(i.hostname.match(/qwant\\.[a-z]+$/))this.referrer="search:qwant";else if(i.hostname.match(/duckduckgo\\.[a-z]+$/))this.referrer="search:duckduckgo";else if(i.hostname.match(/facebook\\.[a-z]+$/))this.referrer="social:facebook";else if(i.hostname.match(/twitter\\.[a-z]+$/))this.referrer="social:twitter";else if(i.hostname.match(/instagram\\.[a-z]+$/))this.referrer="social:instagram";else{\nvar a=t.document.createElement("a");a.href="#",this.referrer=a.hostname!==i.hostname?"referral":"direct"}},o.prototype.load=function(){var t=this,i=e(),a=!1,o=function(){a||(a=!0,t.collect(),t.send())};setTimeout(o,5e3);var r=setInterval(function(){i.document&&"complete"===i.document.readyState&&(clearInterval(r),setTimeout(function(){o()},1e3))},1e3)},o.prototype.collect=function(){for(var t=e(),o=t.document,n={},s=0,l=function(e,t){e.forEach(function(e){e=e.toLowerCase(),e.normalize&&(e=e.normalize("NFD").replace(/[\\u0300-\\u036f]/g,"")),e&&!c[e]&&e.match(/^[a-z\\u00E0-\\u00FC]+$/i)&&(n[e]=(n[e]||0)+Math.log(t||12))})},d=function(){var e=a(o.title);l(e,2*s),l(a((o.querySelector("meta[property=\'og:title\']")||{}).content))},m=o.createTreeWalker(o.body,NodeFilter.SHOW_TEXT);m.nextNode();){var u=m.currentNode;if(u.parentNode&&i(u.parentNode)&&(!u.parentNode||!p[u.parentNode.tagName])){var h=parseFloat(t.getComputedStyle(u.parentElement).getPropertyValue("font-size"),10);h>s&&(s=h);var f=a(u.textContent);f.length<5||l(f,h)}}d();var v=Object.keys(n);v.sort(function(e,t){return n[e]>n[t]?-1:n[t]>n[e]?1:0}),this.wordsCount=n,this.words=v,this.wordsFNV=v.map(r)},o.prototype.send=function(){var t=e(),i=t.document,a=i.getElementsByTagName("head")[0];if(a){var o=i.createElement("iframe");o.style.visibility="hidden",o.style.width="1px",o.style.height="1px",o.src="//"+l+"/pageclass?site_id="+encodeURIComponent(this.options.site_id)+"&placement_id="+encodeURIComponent(this.options.placement_id)+"&r="+encodeURIComponent(this.referrer)+"&w="+this.wordsFNV.slice(0,d).join(","),a.appendChild(o)}},o.prototype.present=function(){var t=this,i=e(),a=i.document,o=a.createElement("iframe");o.src="javascript:document.close()",o.style.width="300px",o.style.height="500px",o.style.position="absolute",o.style.position="fixed",o.style.top=0,o.style.left=0,o.style.zIndex=549755813887,a.body.appendChild(o),setTimeout(function(){var e=o.contentDocument,i=e.createElement("div");i.textContent="Referrer: "+t.referrer,e.body.appendChild(i),e.body.style.background="white";var a=t.wordsCount[t.words[0]];t.words.forEach(function(i,o){var r=e.createElement("span");r.style.fontSize=Math.max(5,16*Math.log(t.wordsCount[i]/a*32))+"px",r.style.display="block",d>o&&(r.style.color="#ee22aa"),r.innerText=i,e.body.appendChild(r)})},1e3)},s.piximedia.PageClass||(s.piximedia.PageClass=o)}(),"object"!=typeof JSON&&(JSON={}),function(){"use strict";function f(e){return 10>e?"0"+e:e}function quote(e){return escapable.lastIndex=0,escapable.test(e)?\'"\'+e.replace(escapable,function(e){var t=meta[e];return"string"==typeof t?t:"\\\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+\'"\':\'"\'+e+\'"\'}function str(e,t){var i,a,o,r,n,s=gap,l=t[e];switch(l&&"object"==typeof l&&"function"==typeof l.toJSON&&(l=l.toJSON(e)),"function"==typeof rep&&(l=rep.call(t,e,l)),typeof l){case"string":return quote(l);case"number":return isFinite(l)?String(l):"null";case"boolean":case"null":return String(l);case"object":if(!l)return"null";if(gap+=indent,n=[],"[object Array]"===Object.prototype.toString.apply(l)){for(r=l.length,i=0;r>i;i+=1)n[i]=str(i,l)||"null";return o=0===n.length?"[]":gap?"[\\n"+gap+n.join(",\\n"+gap)+"\\n"+s+"]":"["+n.join(",")+"]",gap=s,o}if(rep&&"object"==typeof rep)for(r=rep.length,i=0;r>i;i+=1)"string"==typeof rep[i]&&(a=rep[i],o=str(a,l),o&&n.push(quote(a)+(gap?": ":":")+o));else for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(o=str(a,l),o&&n.push(quote(a)+(gap?": ":":")+o));return o=0===n.length?"{}":gap?"{\\n"+gap+n.join(",\\n"+gap)+"\\n"+s+"}":"{"+n.join(",")+"}",gap=s,o}}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});var cx,escapable,gap,indent,meta,rep;"function"!=typeof JSON.stringify&&(escapable=/[\\\\\\"\\x00-\\x1f\\x7f-\\x9f\\u00ad\\u0600-\\u0604\\u070f\\u17b4\\u17b5\\u200c-\\u200f\\u2028-\\u202f\\u2060-\\u206f\\ufeff\\ufff0-\\uffff]/g,meta={"\\b":"\\\\b","	":"\\\\t","\\n":"\\\\n","\\f":"\\\\f","\\r":"\\\\r",\'"\':\'\\\\"\',"\\\\":"\\\\\\\\"},JSON.stringify=function(e,t,i){var a;if(gap="",indent="","number"==typeof i)for(a=0;i>a;a+=1)indent+=" ";else"string"==typeof i&&(indent=i);if(rep=t,t&&"function"!=typeof t&&("object"!=typeof t||"number"!=typeof t.length))throw new Error("JSON.stringify");return str("",{"":e})}),"function"!=typeof JSON.parse&&(cx=/[\\u0000\\u00ad\\u0600-\\u0604\\u070f\\u17b4\\u17b5\\u200c-\\u200f\\u2028-\\u202f\\u2060-\\u206f\\ufeff\\ufff0-\\uffff]/g,JSON.parse=function(text,reviver){function walk(e,t){var i,a,o=e[t];if(o&&"object"==typeof o)for(i in o)Object.prototype.hasOwnProperty.call(o,i)&&(a=walk(o,i),void 0!==a?o[i]=a:delete o[i]);return reviver.call(e,t,o)}var j;if(text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(e){return"\\\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})),/^[\\],:{}\\s]*$/.test(text.replace(/\\\\(?:["\\\\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\\\\n\\r]*"|true|false|null|-?\\d+(?:\\.\\d*)?(?:[eE][+\\-]?\\d+)?/g,"]").replace(/(?:^|:|,)(?:\\s*\\[)+/g,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}(),!function(){"use strict";function e(){var e=this;i.on("event",function(t,i,a){e.validateEvent(t,i,a)})}var t=window,i=t.piximedia.PAM;e.prototype.validateEvent=function(e,a,o){a=a||{};var r=a.adIdAlliance,n=a.creativeIdAlliance,s=o.c1,l=o.c2,d=o.c3,c=o.c4,p=o.c5;i.DEBUG&&t.console.debug&&t.console.debug("Event: "+e+", adId="+r+", creativeId="+n+", c1="+s+", c2="+l+", c3="+d+", c4="+c+", c5="+p)},t.piximedia.Validatr=e,e.instance||(e.instance=new e),t.piximedia.libraryLoader&&t.piximedia.libraryLoader["validatr.js"]&&(t.piximedia.libraryLoader["validatr.js"].complete=!0)}(),function(){var e=window,t="validatr.js";if(e.piximedia){e.piximedia.libraryLoader=e.piximedia.libraryLoader||{};var i=e.piximedia.libraryLoader[t];if(i&&(i.complete=!0,i.onloads))for(var a=0;a<i.onloads.length;a++)i.onloads[a]()}}(),window.piximedia.libraryLoader=window.piximedia.libraryLoader||{},window.piximedia.libraryLoader["validatr.js"]=window.piximedia.libraryLoader["validatr.js"]||{},window.piximedia.libraryLoader["validatr.js"].loaded=!0,!function(){"use strict";var e=window;e.piximedia=e.piximedia||{},e.piximedia._=e.piximedia._||{};var t,i="2014031402",a=2500,o=2147483647,r=2147483646,n=2147483645,s=2147483644,l=30,d=10;try{t=window.top&&window.top.name&&"debug"===window.top.name?!0:!1}catch(c){t="debug"===window.name?!0:!1}var p=t,m={start:function(){m.locale="fr_FR",m.setWindowAndDocument(),m.bindFocusEvent(),m.lastMouseCoordinate=[0,0],m.addEvent(m.d,"mouseout",function(e){m.lastMouseCoordinate=[e.clientX,e.clientY]}),m.browser=m.getBrowser(),m.device=m.getDevice(),m.browserRemoveTimeout=null,e.piximedia.preview&&e.piximedia.preview.emulation&&(m.browser=e.piximedia.preview.emulation.browser||m.browser,m.device=e.piximedia.preview.emulation.device||m.device),"msie"!==m.browser.name&&"trident"!==m.browser.name&&"desktop"===m.device.name&&m.hasFlash()&&!function(){function e(e){e.parentNode&&"piximedia-sweetlib-flashcheckobject-wrapper"===e.parentNode.id?m.remove(e.parentNode):m.remove(e)}m.flashCheckCallback=function(){if("safari"===m.browser.name)var t=0,i=setInterval(function(){t++,m.overrideFlashValue="undefined"!=typeof m.flashCheckObject.PercentLoaded,(m.overrideFlashValue||10===t)&&(clearInterval(i),e(m.get("piximedia-sweetlib-flashcheckobject")))},0);else m.overrideFlashValue="undefined"!=typeof m.flashCheckObject.PercentLoaded,e(m.get("piximedia-sweetlib-flashcheckobject"))};var t=function(){m.flashCheckObject=m.d.createElement("object"),m.flashCheckObject.type="application/x-shockwave-flash",m.flashCheckObject.id="piximedia-sweetlib-flashcheckobject",m.d.body.appendChild(m.flashCheckObject),m.flashCheckCallback()};m.d.body?t():(m.overrideFlashValue=!1,m.domload(t))}(),m.d.pixiCSSLoaded=!1;var t=["piximedia.style.20161402.css"],i=function(){m.w.piximedia.pam?m.w.piximedia.pam.loadCSSs(t,function(){m.d.pixiCSSLoaded=!0}):setTimeout(i,200)};if(i(),m.d.body&&m.d.body.setAttribute&&"desktop"!==m.d.name){var a;m.onResize(m.w,function(){var e;e=m.getViewportSize()[0]>m.getViewportSize()[1]?"horizontal":"vertical",e!==a&&(m.d.body.setAttribute("pm-device-orientation",e),a=e)})}m.loadedAt=Date.now()},logstack:[],pageActive:!1,stylesheets:{},resizeCallbacks:{},resizeObjects:[],pcBonusWidthWhenGluedText:20,blockContentTagNames:["DIV","P","SPAN","TABLE","SECTION","NAV","FORM","CENTER","HEADER","MAIN"],registeredMouseEventsObjects:{},allowedFlashVideoFormat:["mp4","f4v","flv"],allowedHTML5VideoFormat:["mp4","ogv","ogg","webm","dailymotion"],html5VideoRules:function(e){var t=m.browser,i=m.device;if("msie"===t.name)return!1;if("dailymotion"===e)return!0;if("mobile"===i.name&&"android"===i.os&&i.version>4&&i.version<5)return"mp4"===e?!0:!1;if("ios"===i.os&&"mp4"!==e)return!1;if("vp9"===e){if("firefox"===t.name)return t.version>=28?!0:!1;if("chrome"===t.name)return t.version>=29?!0:!1;if("trident"===t.name||"msie"===t.name)return!1}else if("vp8"===e){if("firefox"===t.name)return t.version>=26?!0:!1;if("chrome"===t.name)return t.version>=20?!0:!1;if("trident"===t.name||"msie"===t.name)return!1}else if("mp4"===e){if("msie"===t.name&&t.version>=9||"trident"===t.name)return!0;if("mobile"===i.name||"tablet"===i.name)return!0;if("safari"===t.name&&"windows"!==i.os||"chrome"===t.name||"edge"===t.name)return!0}return void 0},prefixedEvent:{chrome:{transitionend:"webkitTransitionEnd"},safari:{transitionend:"webkitTransitionEnd"},firefox:{transitionend:"transitionend"},msie:{transitionend:"transitionend"},"default":{transitionend:"transitionend"}},prefixedProperty:{chrome:{},safari:{transform:"-webkit-transform"},firefox:{},msie:{transform:"-ms-transform"}},translations:{fr_FR:{"réduire":"r&eacute;duire","découvrir":"d&eacute;couvrir","Cliquez ici pour passer la vidéo":"Cliquez ici pour passer la vid&eacute;o","Sponsorisé":"Sponsoris&eacute;"},en_EN:{rejouer:"replay","réduire":"minimize","découvrir":"discover","cliquez ici":"click here",fermer:"close",ouvrir:"open","Cliquez ici pour passer la vidéo":"Click here to skip video","basculer pour zoomer":"basculer pour zoomer","basculer vers le site":"basculer vers le site","En savoir plus":"Read more","Sponsorisé":"Sponsored","Sponsorisé par":"Sponsored By"},es_ES:{rejouer:"repetición","réduire":"reducir","découvrir":"descubrir","cliquez ici":"clic aquí",fermer:"cerrar",ouvrir:"abrir","En savoir plus":"Saber màs","Cliquez ici pour passer la vidéo":"Clic aqui para saltar el video"}},setWindowAndDocument:function(){m.w=function(){var e;try{return e=parent.parent.parent.document,e.piximediaiframetest=!0,parent.parent.parent.window}catch(t){}try{return e=parent.parent.document,e.piximediaiframetest=!0,parent.parent.window}catch(t){}try{return e=parent.document,e.piximediaiframetest=!0,parent.window}catch(t){}return window}(),m.d=m.w.document},getNavigator:function(){return window.navigator&&window.navigator.userAgent?window.navigator:{userAgent:"",appName:""}},print:function(){m.console("log",arguments,!1,!0)},printwarn:function(){m.console("warn",arguments,!1,!0)},log:function(){m.console("log",arguments)},warn:function(){m.console("warn",arguments)},console:function(e,t,i,a){var o=i?"Saved message : ":"["+m.getDeltaTime()+"] "+e+" : ",r=!1,n=!1;"object"==typeof t[0]||a?r=!0:o+=m.sprintf(t,!0),a&&(n=m.copy(t),n.unshift(o)),p&&window.console&&window.console[e]&&(r&&!a?window.console[e](t[0]):a?window.console[e].apply(window.console,n):window.console[e](o)),m.logstack.push&&!i&&m.logstack.push({message:r?t[0]:o,method:e,new_way:n})},hardlog:function(e,t,i){window.console&&window.console[e]&&(i?window.console[e].apply(window.console,t):window.console[e](t))},debug:function(){p=!0,m.each(m.logstack,function(){m.hardlog(this.method,this.new_way?this.new_way:this.message,this.new_way?!0:!1)})},hasClass:function(e,t){return e&&e.className?new RegExp("(\\\\s|^)"+t+"(\\\\s|$)").test(e.className):!1},removeClass:function(e,t,i){return e?void(m.hasClass(e,t)?(e.className=e.className.replace(new RegExp("(\\\\s|^)"+t+"(\\\\s|$)")," ").replace(/^\\s+|\\s+$/g,""),m.addEvent(e,m.getPrefixedEvent("transitionend"),function a(){m.removeEvent(e,m.getPrefixedEvent("transitionend"),a),m.call(i)})):m.call(i)):!1},addClass:function(e,t,i){return e?void(m.hasClass(e,t)?m.call(i):(e.className+=(e.className?" ":"")+t,m.addEvent(e,m.getPrefixedEvent("transitionend"),function a(){m.removeEvent(e,m.getPrefixedEvent("transitionend"),a),m.call(i)}))):!1},isSecured:function(){return"https:"===m.w.location.protocol?!0:!1},getDeltaTime:function(){for(var e=m.now(),t=m.ref,i=(e-t).toString();i.length<5;)i="0"+i;return i+"ms"},now:function(){return m.ref||(m.ref=(new Date).getTime()),(new Date).getTime()},formatTime:function(e,t){return t||(t=m.loadedAt),1e3>e-t?e-t+"ms":parseInt((e-t)/100,10)/10+"s"},chrono:function(){m.w.console&&m.w.console.log&&(m.w.console.log("Since SL Ready",m.formatTime(Date.now()),", Since Last Tick",m.formatTime(Date.now(),m.lastChronoRef)),m.lastChronoRef=Date.now())},random:function(){return Math.floor(1e13*Math.random())},getTime:function(){return m.now()},isArray:function(e){var t=m.getTrueType(e);switch(t){case"array":case"arguments":case"htmlcollection":case"htmlallcollection":case"nodelist":return!0;case"boolean":case"string":case"number":return!1;default:return e&&e[0]&&"number"==typeof e.length?!0:!1}},getTrueType:function(e){return Object.prototype.toString.call(e).match(/\\[object (.*?)\\]/)[1].toLowerCase()},copy:function(e,t){var i;return Array.prototype.slice&&(m.isArray(e)||t)?Array.prototype.slice.call(e):(m.isArray(e)||t?(i=[],m.each(e,function(t){i[t]=e[t]})):(i={},m.extend(i,e)),i)},shuffle:function(e){for(var t,i,a=e.length;a;t=Math.floor(Math.random()*a),i=e[--a],e[a]=e[t],e[t]=i);return e},sprintf:function(e,t){var i=m.copy(e,!0),a=i.shift();if("string"==typeof a){for(;a.match(/%[sSd]/);){var o=i.shift(),r=a.match(/%[sSd]/)?a.match(/%[sSd]/)[0]:"",n="%S"===r,s="%d"===r;o=void 0===o?"":""===o?t?"(Empty String)":"":t?o.toString():o,n?o=o.toUpperCase():s&&(o=parseFloat(o,10)),a=a.replace(/%[sSd]/,o)}return a}return a},camelize:function(e){return e.replace(/(?:^|[-_])(\\w)/g,function(e,t){return t?t.toUpperCase():""})},dasherize:function(e){return e.trim().replace(/([A-Z])/g,"-$1").replace(/[-_\\s]+/g,"-").toLowerCase()},htmlentities:function(e){return e.toString().replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},shorten:function(e,t){return e.length>t?e.substr(0,t).replace(/\\s\\S+$/,"")+"...":e},addZero:function(e){var t=parseFloat(e,10);return 10>t?"0"+e:e},cleanTime:function(e){if(isNaN(parseInt(e,10)))return"00:00";if(parseInt(e,10)/60<=1)return"00:"+m.addZero(parseInt(e,10));var t=parseInt(e/60,10),i=parseInt(e-60*t,10);return m.sprintf(["%s:%s",t,m.addZero(i)])},twiterize:function(e){return e},each:function(e,t){function i(i){try{var a=t.call(e[i],i,e[i]);if(void 0!==a)return a}catch(o){m.warn("Error looping through %s at key %d",m.getFnName(t),i),m.warn(o)}}var a,o;if(!e)return e;if(m.isArray(e)){for(a=0;a<e.length;a++)if(o=i(a),void 0!==o)return o}else for(var r in e)if(e.hasOwnProperty(r)&&(o=i(r),void 0!==o))return o},exist:function(e,t){return!m.isArray(t)||m.isArray(e)?!1:m.each(t,function(i){return t[i].toLowerCase&&t[i].toLowerCase()===e.toLowerCase()?this:void 0})},getFnName:function(e){if(e.name&&""!==e.name)return e.name;var t="Anonymous function";return e.toString&&e.toString.match&&e.toString.match(/function(.*)?\\(/)?e.toString.match(/function(.*)?\\(/)[1]:t},extend:function(e,t,i,a){var o=["framedAd","framedPam","pam","position","iframe"];m.each(t,function(r){try{var n=e[r],s=t[r],l=i&&i>20||"object"===m.getTrueType(s)&&Object.keys(s).length>150||-1!==o.indexOf(r);if(void 0===typeof s)return;if("object"!==m.getTrueType(s)||l)"undefined"==typeof n?e[r]=s:a&&m.isArray(n)&&m.isArray(s)&&m.each(s,function(e,t){-1===n.indexOf(t)&&n.push(t)}),"number"==typeof s&&parseFloat(n,10).toString()===n&&(n=parseFloat(n,10));else{if(n&&"object"!==m.getTrueType(n))return;n||(e[r]=m.isArray(s)?[]:{}),"undefined"==typeof i?i=0:i++,m.extend(e[r],s,i,a)}}catch(d){m.warn(d)}})},isIframed:function(e){var t=e||window;return t.parent&&t.parent.location?t.parent.location!==t.location:!1},isCrossDomained:function(e){try{var t=e||m.w;return t.parent.document.piximediaCrossDomainTest=!0,window&&window.parent&&window.hasOwnProperty&&!window.parent.hasOwnProperty}catch(i){return!0}},getDocument:function(e){return e.ownerDocument},getWindow:function(e,t){var i=t?m.getDocument(t):e;return"defaultView"in i?i.defaultView:i.parentWindow},getOwnerFif:function(e){try{for(var t=m.getWindow(m.d,e),i=0;50>i&&t.parent!==m.w;i++)t=t.parent;for(var a,o=m.d.querySelectorAll("iframe"),r=0;r<o.length;r++)if(o[r]&&o[r].contentWindow===t){a=o[r];break}if(a)return a}catch(n){return void 0}},addEvent:function(e,t,i){if(e)if(e.addEventListener)e.addEventListener(t,i,!1);else if(e.attachEvent)e.attachEvent("on"+t,i);else if(e["on"+t]){if("function"==typeof e["on"+t]){var a=e["on"+t];e["on"+t]=function(){i.apply(e,arguments),a.apply(e,arguments)}}}else e["on"+t]=i},addEventOnce:function(e,t,i){m.addEvent(e,t,function a(){return m.removeEvent(e,t,a),i.apply(this,arguments)})},removeEvent:function(e,t,i){e.removeEventListener?e.removeEventListener(t,i):e.detachEvent?e.detachEvent("on"+t,i):e["on"+t]===i&&(e["on"+t]=null)},preventDefault:function(e){var t=e||window.event;t.preventDefault&&t.preventDefault(),t.stopPropagation&&t.stopPropagation(),t.returnValue=!1},fireEvent:function(e,t){var i=t||m.d;if(m.print("Fire event",e),i.addEventListener){var a=i.createEvent("UIEvents");a.initEvent(e,!1,!1),i.dispatchEvent(a)}else i.documentElement[e]++},bindEvent:function(e,t,i){var a=i||m.d;a.addEventListener?a.addEventListener(e,function(){t()},!1):(a.documentElement[e]||(a.documentElement[e]=0),a.documentElement.attachEvent("onpropertychange",function(i){i.propertyName===e&&t()}))},onResize:function(e,t){e&&(e.pmResizeId||(e.pmResizeId="pmResizeId-"+m.random()),m.resizeCallbacks[e.pmResizeId]||(m.resizeCallbacks[e.pmResizeId]=[]),m.resizeCallbacks[e.pmResizeId].push(t),m.exist(e.pmResizeId,m.resizeObjects)||m.resizeObjects.push(e),m.intervalStarted||(m.intervalStarted=!0,m.checkResize()))},checkResize:function(){var e,t,i,a=100,o=a;i=function(){var r,n;m.each(m.resizeObjects,function(){if(n=this.pmResizeId,this.getBoundingClientRect)r=m.gbcr(this),(Math.abs(r.width-(this.pmResizePreviousWidth||0))>.5||Math.abs(r.height-(this.pmResizePreviousHeight||0))>.5||o===a)&&m.resizeCallbacks[n].length>0&&(this.pmResizePreviousWidth=r.width,this.pmResizePreviousHeight=r.height,m.each(m.resizeCallbacks[n],function(){m.call(this,[r.width])}));else{r=m.getViewportSize();var i=r[0],s=r[1];(e!==i||t!==s||o===a)&&m.resizeCallbacks[n].length>0&&(e=i,t=s,m.each(m.resizeCallbacks[n],function(){m.call(this,[e])}))}}),o===a?o=0:o++,window.requestAnimationFrame&&"safari"!==m.browser.name&&"firefox"!==m.browser.name&&window.requestAnimationFrame(i)},"safari"===m.browser.name||"firefox"===m.browser.name?setInterval(function(){i()},"firefox"===m.browser.name?10:1):window.requestAnimationFrame?i():(m.addEvent(m.w,"resize",function(){i()}),setInterval(function(){i()},20))},centerMeVertically:function(e,t,i){var a,o=m.getPropertyValue(e,"position");m.applyStyle(e,{position:"static"===o?"absolute":o}),a=function(){var i=0;if("fixed"===o)i=(m.getViewportSize()[1]-m.gbcr(e).height)/2;else if(t){for(var a=(m.getViewportSize()[1]-m.gbcr(e).height)/2,r=e.parentNode,n=0;r!==m.getDocument(r).body;)n+=m.gbcr(r).top-m.gbcr(r.parentNode).top,r=r.parentNode;i=a+m.getPageScroll()[1]-n}else i=(m.gbcr(e.parentNode).height-m.gbcr(e).height)/2;m.applyStyle(e,{top:i+"px"})},m.onResize(e,a),m.onResize(e.parentNode,a),m.onResize(m.w,a),i&&m.addEvent(m.w,"scroll",a)},hardCentering:function(e,t){t=t||m.gbcr(e).width;var i="pm-center-"+m.now(),a="left : 50% !important; margin-left : "+t/-2+"px !important;";"static"===m.getPropertyValue(e,"position")&&(a+=" position : relative !important"),m.createCSS("."+i,a,m.getDocument(e)),m.addClass(e,i)},getPrefixedEvent:function(e){return m.prefixedEvent[m.browser.name]&&m.prefixedEvent[m.browser.name][e]?m.prefixedEvent[m.browser.name][e]:e},getPrefixedProperty:function(e){return m.prefixedProperty[m.browser.name]&&m.prefixedProperty[m.browser.name][e]?m.prefixedProperty[m.browser.name][e]:e},getArgs:function(e,t,i){return e&&e.args&&"undefined"!=typeof e.args[i]?e.args[i]:t&&t.args&&"undefined"!=typeof t.args[i]?t.args[i]:void 0},track:function(e,t,i,a){var o,r=!1,n=!1,s=t.match(/^timetracker/i)?"duration":"PANIC"===t?"error":"detail",l="undefined"!=typeof i?i:"default";e.trackedEvents||(e.trackedEvents={}),e.trackedEvents[t]||(e.trackedEvents[t]={},r=!0),e.trackedEvents[t][l]||(e.trackedEvents[t][l]=!0,n=!0),m.log("Loging event : %s, %s : %s | Custom ? %s | First on ad ? %s, First on unit ? %s",t,t.match(/^timetracker/i)?"duration":"PANIC"===t?"error":"unit",l,a?a:"(no custom)",r,n),o=m.sprintf(["ad_id=%d;creative_id=%d;c1=%s;c2=%s;c3=%s;c4=%s;c5=%s;first_on_ad=%s;first_on_unit=%s;%s=%s",e.adIdAlliance,e.creativeIdAlliance,e.custom1?e.custom1:"",e.custom2?e.custom2:"",e.custom3?e.custom3:"",e.custom4?e.custom4:"",a||"",r?"1":"0",n?"1":"0",s,i]);var d,c={c1:e.custom1?e.custom1:"",c2:e.custom2?e.custom2:"",c3:e.custom3?e.custom3:"",c5:"duration"===s||"error"===s?"":a||"",firstOnAd:r?"1":"0",firstOnUnit:n?"1":"0",duration:"duration"===s?a:"",failReason:"error"===s?a:""};if(t.match(/LECTURE/)&&e.quartilePixels&&e.quartilePixels[t]&&(d=e.quartilePixels[t]),e.framedAd||e.framedPosition){var p=m.getArgs(e.framedAd,e.framedPosition,"eventPixels");p&&p[t]&&(d=m.isArray(d)?d.concat(p[t]):p[t])}if(d){var u=m.getArgs(e.framedAd||{},{},"random_number")||Date.now();m.each(d,function(e,t){d[e]=t.replace(/#random_number#/gi,u)})}if(e.framedPosition&&e.framedPosition.loadEvent)d&&e.framedPosition.loadEventOnce?e.framedPosition.loadEventOnce(t,c,d):e.framedPosition.loadEvent(t,c);else if(e.framedAd&&e.framedAd.iframe&&e.framedAd.iframe.position&&e.framedAd.iframe.position.loadEvent)e.framedAd.iframe.position.loadEvent(t,c);else if(e.framedAd&&e.framedAd.loadEvent)c.detail=i,e.framedAd.loadEvent(t,c);else if(window.piximedia.core&&window.piximedia.core.loadEvent&&999!==e.adIdAlliance){if(!e.adIdAlliance||!e.creativeIdAlliance)return m.log("Not sending it, because adIdAlliance wan\'t provided nor creativeIdAlliance"),void m.log("Query string should like that : %s",o);window.piximedia.core.loadEvent(t,{mode:"P",site_id:e.c1,placement_id:e.c2,params:o,click:""})}else m.PixelPrinter("http://ad.piximedia.com/event/?P|"+e.c1+"|"+e.c2+"|event="+t+";"+o+"|"+m.random()+"|")},gbcr:function(e){if(!e)return{};var t,i=0;return e.getBoundingClientRect?(t=e.getBoundingClientRect(),"msie"===m.browser.name&&m.browser.version<=7&&(i=2),{left:t.left-i,right:t.right-i,top:t.top-i,bottom:t.bottom-i,width:t.width?t.width:t.right-t.left,height:t.height?t.height:t.bottom-t.top}):{left:0,top:0,right:0,bottom:0,width:0,height:0,error:!0}},gbcrfp:function(e){var t=m.gbcr(e),i=m.getPageScroll(),a=i[0],o=i[1];return t.left+=a,t.right+=a,t.top+=o,t.bottom+=o,t},getPositionTop:function(e){var t=[],i=[],a=m.getPageScroll()[1];return t=m.isArray(e)?e:[e],m.each(t,function(){if("#pmFiller"===this.toString()){if(m.d.querySelector("#pmFiller")){var e=m.gbcr(m.d.querySelector("#pmFiller"));i.push(e.top+e.height+a)}}else m.w.piximedia.pam.positions[this.toString()]&&m.each(m.w.piximedia.pam.positions[this.toString()].iframes,function(){var e=m.gbcr(this.iframe);i.push(e.top+e.height+a)})}),0===i.length?0:Math.max.apply(null,i)},getBodyHeight:function(e){var t=e||m.d,i=parseInt(m.gbcr(t.body).height,10),a=i-m.getViewportSize(m.getWindow(t))[1];if(a>-1||1>a){var o=t.body.childNodes;i=0;for(var r=0;r<o.length;r++){var n=m.gbcr(o[r]),s=1===o[r].nodeType?m.getPropertyValue(o[r],"position"):"",l="relative"===s||"static"===s?n.height:0;i+=l}}return i},getTextWidth:function(e,t){if("object"==typeof e){if(!t){var i=[m.getPropertyValue(e,"font-weight"),m.getPropertyValue(e,"font-size"),m.getPropertyValue(e,"font-family").split(/\\s|,/).shift()];t=i.join(" ")}e=e.innerHTML}var a=m.d.createElement("canvas"),o=a.getContext("2d");o.font=t;var r=o.measureText(e);return Math.floor(r.width)+1},getLastLineWidth:function(e){for(var t=e.innerHTML,i=m.gbcr(e).height,a=[];m.gbcr(e).height===i;){var o=e.innerHTML.split(" ");a.push(o.pop()),e.innerHTML=o.join(" ")}e.innerHTML=a.reverse().join(" ");var r=m.getTextWidth(e);return e.innerHTML=t,r},getMatrixTransform:function(e){return m.getPropertyValue(e,"-webkit-transform")&&m.getPropertyValue(e,"-webkit-transform").match(/matrix/)?m.getPropertyValue(e,"-webkit-transform"):m.getPropertyValue(e,"transform")&&m.getPropertyValue(e,"transform").match(/matrix/)?m.getPropertyValue(e,"transform"):""},getScaleRatio:function(e){var t=m.getMatrixTransform(e),i=1;return t.match(/matrix/)&&(i=parseFloat(t.match(/matrix.*?\\)/)[0].split(",")[3],10)),i},registerMouseEventObject:function(e,t,i){e.customPmId||(e.customPmId="pmMouseEventId-"+m.random()),m.registeredMouseEventsObjects[e.customPmId]||(m.registeredMouseEventsObjects[e.customPmId]={enter:{callbacks:[]},leave:{callbacks:[]},object:e}),m.registeredMouseEventsObjects[e.customPmId][i].callbacks.push(t)},mouseenter:function(e,t){m.registerMouseEventObject(e,t,"enter"),m.addEvent(e,"mouseover",function(){e.isMouseOvered||(e.isMouseOvered=!0,m.each(m.registeredMouseEventsObjects[e.customPmId].enter.callbacks,function(t){m.call(m.registeredMouseEventsObjects[e.customPmId].enter.callbacks[t])}))}),m.mouseleave(e,function(){},!0)},mouseleave:function(e,t,i){function a(){try{e.isMouseOvered=!1}catch(t){return}m.each(m.registeredMouseEventsObjects[e.customPmId].leave.callbacks,function(t){m.call(m.registeredMouseEventsObjects[e.customPmId].leave.callbacks[t])})}i||m.registerMouseEventObject(e,t,"leave"),m.addEvent(e,"mouseout",function(t){var i,o=m.gbcr(e),r=t.clientX<=o.left||t.clientX>=o.right,n=t.clientY<=o.top||t.clientY>=o.bottom;try{i=e.isMouseOvered}catch(s){}(r||n)&&i&&a()}),m.bindEvent("focus-change",function(){var t;try{t=e.isMouseOvered}catch(i){}!m.pageActive&&t&&a()})},isMouseInside:function(e){function t(e,t,i){var a="top"===e||"bottom"===e?"y":"x",o="y"===a?["left","right"]:["top","bottom"],r="y"===a?i.height:i.width;return t[e]<10&&t[e]>-1*r&&t[o[0]]<0&&t[o[1]]<0?!0:!1}var i=m.gbcr(e),a=m.lastMouseCoordinate,o={top:parseInt(i.top-a[1],10),right:parseInt(a[0]-i.right,10),bottom:parseInt(a[1]-i.bottom,10),left:parseInt(i.left-a[0],10)};return t("top",o,i)||t("right",o,i)||t("bottom",o,i)||t("left",o,i)},getMousePosition:function(e,t,i){return e.clientX-m.gbcr(t)[i]},bindRollTracker:function(e,t,i){t.pmRollTracked||(t.pmRollTracked=!0,m.mouseenter(t,function(){clearTimeout(t.pmRollTrackerTimeout),clearTimeout(t.pmRollTrackerTimeoutInstant),t.pmRollTrackerTimeoutInstant=setTimeout(function(){t.cantTrackInstantHover||(m.track(e,"HOVER:0MS",i),setTimeout(function(){t.cantTrackInstantHover=!1},2e3)),t.cantTrackInstantHover=!0},0),t.pmRollTrackerTimeout=setTimeout(function(){m.track(e,"HOVER:2500MS",i)},a)}),m.mouseleave(t,function(){clearTimeout(t.pmRollTrackerTimeout)}))},call:function(e,t){if(e)try{e.apply(this,t||[])}catch(i){m.warn("Callback error"),m.warn(i)}},contentload:function(e){var t=m.d,i=400,a=function(){return t.body&&(m.getWindow(t).outerHeight>=i||t.body.scrollHeight>=i||m.gbcr(t.body).height>=i)?e():void setTimeout(a,10)};a()},domload:function(e,t){function i(){r||(r=!0,o())}var a=t||m.d,o=function(){a.pmdomready||(a.pmdomready=!0),m.call(e)},r=!1,n=function(){"complete"!==a.readyState||r||(a.detachEvent("onreadystatechange",n),r=!0,o())};if("complete"===a.readyState||a.pmdomready)return r=!0,o(),!0;if(a.addEventListener?a.addEventListener("DOMContentLoaded",function(){r||(r=!0,o())},!1):a.all&&!window.opera&&a.attachEvent&&a.attachEvent("onreadystatechange",n),/Safari/i.test(m.getNavigator().userAgent))var s=setInterval(function(){/loaded|complete/.test(a.readyState)&&!r&&(r=!0,o(),clearInterval(s))},50);return m.addEvent(m.getWindow(a),"load",i,!1),!1},getBrowser:function(){var e=m.getNavigator(),t=e.userAgent;if(t.search("Edge")>=0)try{return{name:"edge",version:parseInt(t.match(/Edge\\/([0-9]+)/)[1],10)}}catch(i){}else if(t.search("Chrome")>=0)try{return{name:"chrome",version:parseInt(t.match(/Chrome\\/([0-9]+)/)[1],10)}}catch(i){}else if(t.search("Safari")>=0)try{return{name:"safari",version:parseInt(t.match(/Version\\/([.0-9]+)/)[1],10)}}catch(i){}else if(t.search("Firefox")>=0)try{return{name:"firefox",version:parseInt(t.match(/Firefox\\/([0-9]+)/)[1],10)}}catch(i){}else if("Microsoft Internet Explorer"===e.appName)try{var a=!1,o=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})");return null!==o.exec(t)&&(a=parseFloat(RegExp.$1)),10===a?{name:"trident",version:6}:{name:"msie",version:a}}catch(i){}else if(e.userAgent.match(/Trident/))try{return{name:"trident",version:e.userAgent.match(/Trident\\/([0-9])\\./)[1]}}catch(i){}if(t.search("CriOS")>0)try{return{name:"chrome",version:parseInt(t.match(/CriOS\\/([0-9]+)/)[1],10)}}catch(i){}if(t.search("FxiOS")>0)try{return{name:"firefox",version:parseInt(t.match(/FxiOS\\/([0-9]+)/)[1],10)}}catch(i){}return{name:"other",version:1}},getDevice:function(){var e,t,i,a=m.getNavigator(),o=a.userAgent,r=o.match(/iPad|iPod|iPhone/)?"ios":o.match(/Android/)?"android":o.match(/Windows/)?"windows":o.match(/Macintosh/)?"mac":"";return i=o.match(/GoogleTV|SmartTV|Internet TV|NetCast|NETTV|AppleTV|boxee|Kylo|Roku|DLNADOC|CE\\-HTML/i)?"desktop":o.match(/Xbox|PLAYSTATION 3|Wii/i)?"desktop":o.match(/iP(a|ro)d/i)||o.match(/tablet/i)&&!o.match(/RX-34/i)||o.match(/FOLIO/i)?"tablet":o.match(/Linux/i)&&o.match(/Android/i)&&!o.match(/Fennec|mobi|HTC Magic|HTCX06HT|Nexus One|SC-02B|fone 945/i)?"tablet":o.match(/Kindle/i)||o.match(/Mac OS/i)&&o.match(/Silk/i)?"tablet":o.match(/GT-P10|SC-01C|SHW-M180S|SGH-T849|SCH-I800|SHW-M180L|SPH-P100|SGH-I987|zt180|HTC( Flyer|_Flyer)|Sprint ATP51|ViewPad7|pandigital(sprnova|nova)|Ideos S7|Dell Streak 7|Advent Vega|A101IT|A70BHT|MID7015|Next2|nook/i)||o.match(/MB511/i)&&o.match(/RUTEM/i)?"tablet":o.match(/BOLT|Fennec|Iris|Maemo|Minimo|Mobi|mowser|NetFront|Novarra|Prism|RX-34|Skyfire|Tear|XV6875|XV6975|Google Wireless Transcoder/i)?"mobile":o.match(/Opera/i)&&o.match(/Windows NT 5/i)&&o.match(/HTC|Xda|Mini|Vario|SAMSUNG\\-GT\\-i8000|SAMSUNG\\-SGH\\-i9/i)?"mobile":o.match(/Windows (NT|XP|ME|9)/)&&!o.match(/Phone/i)&&!o.match(/Bot|Spider|ia_archiver|NewsGator/i)||o.match(/Win( ?9|NT)/i)?"desktop":o.match(/Macintosh|PowerPC/i)&&!o.match(/Silk/i)?"desktop":o.match(/Linux/i)&&o.match(/X11/i)&&!o.match(/Charlotte/i)?"desktop":o.match(/CrOS/)?"desktop":o.match(/Solaris|SunOS|BSD/i)?"desktop":o.match(/curl|Bot|B-O-T|Crawler|Spider|Spyder|Yahoo|ia_archiver|Covario-IDS|findlinks|DataparkSearch|larbin|Mediapartners-Google|NG-Search|Snappy|Teoma|Jeeves|Charlotte|NewsGator|TinEye|Cerberian|SearchSight|Zao|Scrubby|Qseero|PycURL|Pompos|oegp|SBIder|yoogliFetchAgent|yacy|webcollage|VYU2|voyager|updated|truwoGPS|StackRambler|Sqworm|silk|semanticdiscovery|ScoutJet|Nymesis|NetResearchServer|MVAClient|mogimogi|Mnogosearch|Arachmo|Accoona|holmes|htdig|ichiro|webis|LinkWalker|lwp-trivial|facebookexternalhit/i)&&!o.match(/phone|Playstation/i)?"bot":"desktop",e=o.match(/(OS|Android|Windows Phone OS) ([0-9._]+)/),t=e?parseFloat(e[2].replace(/[_.]/,"@").replace(/[._]/g,"").replace("@","."),10):o.match(/Windows NT 6.1/)?7:o.match(/Windows NT 6.2/)?8:o.match(/Windows NT 6.1/)?9:void 0,"tablet"===i&&"windows"===r&&(i="desktop"),{name:i,version:t,os:r}},hasFlash:function(){if("undefined"!=typeof m.overrideFlashValue)return m.overrideFlashValue;var e=!1,t=m.getNavigator();try{t.mimeTypes["application/x-shockwave-flash"].enabledPlugin&&(e=!0);\n}catch(i){}var a;if(!e)try{a=new window.ActiveXObject("ShockwaveFlash.ShockwaveFlash.7"),e=!!a}catch(i){}if(!e)try{a=new window.ActiveXObject("ShockwaveFlash.ShockwaveFlash.6"),e=!!a}catch(i){}if(!e)try{a=new window.ActiveXObject("ShockwaveFlash.ShockwaveFlash"),e=!!a}catch(i){}return"safari"===m.browser.name&&(e=!1),e},canPlayVideo:function(e){return m.canPlayHTML5Video(e)||m.canPlayFlashVideo(e)},canPlayHTML5Video:function(e){var t=[];if("string"==typeof e){if(!m.exist(m.getExtention(e),m.allowedHTML5VideoFormat))return void 0;m.canPlayThisVideo(e)&&t.push(m.canPlayThisVideo(e))}else"object"==typeof e&&m.each(e,function(){m.exist(m.getExtention(this),m.allowedHTML5VideoFormat)&&m.canPlayThisVideo(this)&&t.push(m.canPlayThisVideo(this))});if(t.length>0){for(var i=0;i<t.length;i++)if("vp9"===m.getCodec(t[i]))return t[i];return t[0]}return void 0},canPlayFlashVideo:function(e){return m.hasFlash()?"string"==typeof e?m.exist(m.getExtention(e),m.allowedFlashVideoFormat)?e:void 0:"object"==typeof e?m.each(e,function(){return m.exist(m.getExtention(this),m.allowedFlashVideoFormat)?this:void 0}):void 0:void 0},canPlayThisVideo:function(e){var t,i="video/"+m.getExtention(e),a=document.createElement("video"),o=m.getCodec(e);return t=m.html5VideoRules(m.getCodec(e)),void 0===t&&(t=a.canPlayType&&"probably"===a.canPlayType(i+(o.match(/^vp/)?";codecs="+o:""))?!0:!1),t?e:void 0},getCodec:function(e){return"webm"===m.getExtention(e)?e.match(/\\.vp9\\.webm/i)?"vp9":"vp8":m.getExtention(e)},getExtention:function(e){if(!e)return"";if(e.match(/dai\\.ly/)||e.match(/\\:\\/\\/www.dailymotion.com/))return"dailymotion";var t=e.replace(/\\?.*?$/gi,"").match(/\\.([a-zA-Z0-9]{2,5})$/);return t&&t[1]?t[1].toLowerCase():""},getFileName:function(e){if(!e)return"";var t=e.replace(/\\?.*?$/gi,"").split("/").pop();return t.replace("."+t.getExtention,"")},getFileType:function(e){var t=e;"object"==typeof e&&(t=e[0]);var i=(t||"").toString().match(/^data:([^\\/]+)/);if(i)return i[1];switch(m.getExtention(t)){case"swf":return"swf";case"png":case"gif":case"jpg":case"jpeg":return"image";case"flv":case"f4v":case"mp4":case"ogg":case"ogv":case"webm":case"video":case"dailymotion":return"video";case"php":case"html":return"html";default:return"html"}},getVideoCodec:function(e){if(!e)return"";var t=e.replace(/\\?.*?$/gi,"").match(/.{1,}\\.([a-zA-Z0-9]{2,5})\\.[a-zA-Z0-9]{2,5}$/);return t&&t[1]?t[1].toLowerCase():""},applyStyle:function(e,t){m.each(t,function(t){try{m.setPropertyValue(e,t,this.toString())}catch(i){}})},addBorders:function(e,t){var i={color:"#000",size:1,side:["top","right","bottom","left"],zIndex:2147483647};"static"===m.getPropertyValue(e,"position")&&(e.style.position="relative",e.style.top="0px",e.style.left="0px"),m.extend(t,i),m.log("Adding border to %s %s",e,t);var a=m.getDocument(e),o=function(i){var o=a.createElement("div");o.className="pm-border",m.applyStyle(o,{width:"top"===i||"bottom"===i?"100%":t.size+"px",height:"top"===i||"bottom"===i?t.size+"px":"100%",background:t.color,position:"absolute",zIndex:t.zIndex,top:"bottom"===i?"auto":0,bottom:"bottom"===i?0:"auto",left:"right"===i?"auto":0,right:"right"===i?0:"auto"}),e.appendChild(o)};m.each(t.side,function(){o(this.toString())})},createCSS:function(e,t,i){if("string"!=typeof t){var a=[];for(var o in t)t.hasOwnProperty(o)&&a.push(o+": "+t[o]);t=a.join("; ")}try{var r=i||m.d;if(!r.styleSheets||0===r.getElementsByTagName("head").length)return;r.pmCreateCSSId||(r.pmCreateCSSId=m.random()),"undefined"==typeof m.stylesheets[r.pmCreateCSSId]&&(m.stylesheets[r.pmCreateCSSId]=!1);var n,s,l,d=m.stylesheets[r.pmCreateCSSId];if(d||(l=r.createElement("style"),l.type="text/css",r.getElementsByTagName("head")[0].appendChild(l),m.stylesheets[r.pmCreateCSSId]=l.sheet||r.styleSheets[r.styleSheets.length-1],d=m.stylesheets[r.pmCreateCSSId]),s=d.media,n=typeof s,"string"===n){for(var c=0;c<d.rules.length;c++)if(d.rules[c].selectorText.toLowerCase()===e.toLowerCase())return void(d.rules[c].style.cssText+=t);d.addRule(e,t)}else if("object"===n){for(var p=0;p<d.cssRules.length;p++)try{if(d.cssRules[p]&&d.cssRules[p].selectorText&&d.cssRules[p].selectorText.toLowerCase()===e.toLowerCase())return void(d.cssRules[p].style.cssText+=t)}catch(u){}d.insertRule(e+"{"+t+"}",0)}}catch(u){m.warn(u)}},deleteCssRule:function(e,t,i){try{var a=i||m.d;if(!a.styleSheets||0===a.getElementsByTagName("head").length)return;m.each(a.styleSheets,function(){var i=this;try{m.each(this.cssRules,function(a){var o;o=t?(this.selectorText&&this.selectorText.match?this.selectorText:"").match(new RegExp(e,"i")):this.selectorText===e,o&&i.deleteRule&&i.deleteRule(a)})}catch(a){}})}catch(o){m.warn(o)}},createCSSs:function(e,t){for(var i in e)e.hasOwnProperty(i)&&m.createCSS(i,e[i],t)},enforceFifHeight:function(){if(!m.fifHeightEnforced){m.fifHeightEnforced=!0;var e=function(){var e=m.d.querySelectorAll(".pmFiF");m.each(e,function(){this.style&&this.style.height&&m.getPropertyValue(this,"height")&&this.style.height!==m.getPropertyValue(this,"height")&&m.createCSS("#"+this.id,"height : "+this.style.height+" !important;")})};setInterval(e,100),e()}},loadScript:function(e){var t=e.document||m.d,i=t.createElement("script");i.src=e.uri,t.body.appendChild(i);var a=function(){e.validate?e.validate()&&!i.validated?(i.validated=!0,e.callback()):setTimeout(a,50):e.callback()};i.addEventListener?i.addEventListener("load",a,!1):i.onreadystatechange=function(){"loaded"===this.readyState&&a()}},getPropertyValue:function(e,t){if(e){switch(t){case"scrollTop":case"scroll-top":return"BODY"===e.nodeName?m.getPageScroll()[1]:(e.documentElement||e).scrollTop||e.scrollTop}return m.w.getComputedStyle&&m.w.getComputedStyle(e)&&m.w.getComputedStyle(e).getPropertyValue?m.w.getComputedStyle(e).getPropertyValue(m.dasherize(t)):e.currentStyle?e.currentStyle[t]:void 0}},setPropertyValue:function(e,t,i){switch(t){case"scrollTop":return"BODY"===e.nodeName&&e.ownerDocument.documentElement&&"number"==typeof e.ownerDocument.documentElement.scrollTop&&(e.ownerDocument.documentElement.scrollTop=parseInt(i,10)),e.scrollTop=parseInt(i,10)}return e.style[t]=i},returnAbsolute:function(e,t){return e?e.match(/^(http|\\/\\/)/i)?e:t+e:t||""},get:function(e,t){var i=t||m.d;return i.getElementById(e)?i.getElementById(e):document.getElementById(e)},remove:function(e){e.parentNode&&e.parentNode.removeChild&&e.parentNode.removeChild(e)},getPrevElement:function(e){for(var t=0,i=e.previousSibling;1!==i.nodeType&&20>t;)i=i.previousSibling,t++;return 1===i.nodeType?i:null},getNextElement:function(e){for(var t=0,i=e.nextSibling;1!==i.nodeType&&20>t;)i=i.nextSibling,t++;return 1===i.nodeType?i:null},handleAsset:function(t,i,a,o,r){a||(a=""),o||(o="");var n,s=null,l=t.files||t.file;if(l&&""!==l||t.forceEmptyAsset||(t.backup&&""!==t.backup?(l=t.backup,s=!1):m.warn("No file provided to handleAsset for %s",a)),n=m.getFileType(l),s=null!==s&&""!==s?m.getExtention(t.backup):!1,m.log("Load assets for "+a+", type : "+n),t.overrideFileType&&(n=t.overrideFileType),"video"===n||"dailymotion"===n){if(e.piximedia.Video&&t.handleVideo){var d=m.copy(t);return d.position=r.position,new e.piximedia.Video(i,{files:l,width:t.enforceSize?t.width:100,height:t.enforceSize?t.height:100,unit:t.enforceSize?"px":"%",poster:t.backup,packshot:t.packshot||!1,options:d})}return"video"}return m.isArray(t.file)&&(t.file=t.file[0]),"swf"===n?m.hasFlash()?m.embedSWF({file:m.returnAbsolute(l,o),wrapper:i,id:a,width:t.width,height:t.height,version:t.flashversion,flashvars:t.flashvars,params:t.params,attributes:t.attributes}):t.backup?(m.log("Flash is off, switching to backup"),m.loadImage(m.returnAbsolute(t.backup,o),i,a,t.width,t.height)):(m.log("Flash is off and no backup provided"),!1):"image"===n?m.loadImage(m.returnAbsolute(t.file,o),i,a,t.width,t.height):"html"===n?(t.zoom=parseFloat(t.zoom,10)||1,t.width="number"==typeof t.width?t.width/t.zoom:t.width,t.height="number"==typeof t.height?t.height/t.zoom:t.height,m.loadIframe(m.returnAbsolute(t.file,o),i,a,t,r)):!1},loadImage:function(e,t,i,a,o){if(e&&""!==e){var r=m.getDocument(t).createElement("img");return m.applyStyle(r,{width:a+(m.getUnit(a,!0)?"":"px"),height:o+(m.getUnit(o,!0)?"":"px"),display:"block",border:"0"}),r.id="pm-image-"+i,r.src=e,t.appendChild(r),r}},loadIframe:function(t,i,a,o,r){var n=o.width,s=o.height,l=o.zoom,d=o.scaleIframe,c=o.waitExpandToDecorate,p=o.options;p=p||{},o.threshold&&o.enableHTML5CreativeVideoControl&&(p.threshold=o.threshold),m.w.piximedia.preview&&r&&r.creativeIdAlliance&&r.creativeIdAlliance>302661&&!r.dontEnforceSSL&&(t=t.replace(/^(http\\:|)\\/\\//,"https://"));var u,h,f="pm_iframe_"+m.random();if(t&&""!==t){var v,g=!1,b=!1,y={getOptions:{method:function(){return p}},getClickActions:{method:function(){return r?r.clickUrl:[]}},getExposureTime:{method:function(){return r&&"cpc"===r.saleMode?r.minExposureTime:0}},getAdArguments:{method:function(e){return r&&r.framedAd&&r.framedAd.args&&"undefined"!=typeof r.framedAd.args[e]?r.framedAd.args[e]:null}},getTopWindowValue:{method:function(e){return"undefined"!=typeof m.w[e]?m.w[e]:null}},track:{method:function(e,t){return r?(m.track(r,e,a,t),{event:[e,t],success:!0}):(m.warn("pmData not here"),{event:[e,t],success:!1})}},show:{method:function(){m.getWindow(i.ownerDocument).perform?m.getWindow(i.ownerDocument).perform("show"):m.getWindow(i.ownerDocument).setStage&&m.getWindow(i.ownerDocument).setStage(!1,"show")}},hide:{method:function(){m.getWindow(i.ownerDocument).perform?m.getWindow(i.ownerDocument).perform("collapse"):m.getWindow(i.ownerDocument).setStage&&m.getWindow(i.ownerDocument).setStage(!1,"hide")}},close:{method:function(){m.getWindow(i.ownerDocument).perform?m.getWindow(i.ownerDocument).perform("close"):m.getWindow(i.ownerDocument).setStage&&m.getWindow(i.ownerDocument).setStage(!1,"close")}},replayTakeover:{method:function(){r.framedAd&&r.framedAd.pam.emit("replay-takeover",{id_ad:r.adIdAlliance})}},"footer-action":{method:function(e,t,i){if(g||"expand"===e&&o.catchPiximediaClick)switch(e){case"expand":o.catchPiximediaClick?m.currentBrowserIframe&&(m.currentBrowserIframe.src=i,m.fireEvent("prehome-redirection")):g&&g.expand(r.clickUrl&&r.clickUrl[t].url?r.clickUrl[t].url:t,g.isExpanded?!0:!1);break;case"collapse":g.collapse();break;case"show":g.show();break;case"hide":g.hide()}}},registerScrollCallback:{method:function(){var e,t;try{t=i.ownerDocument.defaultView.framedIframe.iframe}catch(a){}t||(t=i);var o=function(){var i={scroll:m.getPageScroll(),gbcr:m.gbcr(t),gbcrfp:m.gbcrfp(t),viewportSize:m.getViewportSize()},a=JSON.stringify(i);e!==a&&(e=a,u.contentWindow.postMessage({event:"scroll",args:[i]},"*"))};m.addEvent(m.w,"scroll",o),m.addEvent(m.d,"mousemove",o),setInterval(o,10)}},registerTouchCallback:{method:function(){m.addEvent(m.w,"touchstart",function(e){u.contentWindow.postMessage({event:"touchstart",args:[{x:e.targetTouches[0].clientX,y:e.targetTouches[0].clientY}]},"*")}),m.addEvent(m.w,"touchmove",function(e){u.contentWindow.postMessage({event:"touchmove",args:[{x:e.targetTouches[0].clientX,y:e.targetTouches[0].clientY}]},"*")}),m.addEvent(m.w,"touchend",function(e){u.contentWindow.postMessage({event:"touchend",args:[{x:e.targetTouches[0].clientX,y:e.targetTouches[0].clientY}]},"*")})}},registerMouseMoveCallback:{method:function(){var e,t;try{t=i.ownerDocument.defaultView.framedIframe.iframe}catch(a){}t||(t=i);var o,r,n=function(i){i&&void 0!==i.clientX&&(o=i.clientX),i&&void 0!==i.clientY&&(r=i.clientY);var a={scroll:m.getPageScroll(),gbcr:m.gbcr(t),gbcrfp:m.gbcrfp(t),viewportSize:m.getViewportSize(),mouse:{x:o,y:r}},n=JSON.stringify(a);e!==n&&(e=n,u.contentWindow.postMessage({event:"mousemove",args:[a]},"*"))};m.addEvent(m.w,"scroll",n),m.addEvent(m.d,"mousemove",n),setInterval(n,10)}},searchText:{method:function(e){var t=m.searchText(e);u.contentWindow.postMessage({event:"searchTextMatchCount",args:[t]},"*")}},getCreativeContent:{method:function(){return[o.creativeContent]}},updateCreativeSize:{method:function(e,t){o.ignoreRedirectSize&&(e=o.width,t=o.height),u.style.width=e+"px",u.style.height=t+"px",o.resize&&o.resize(e,t)}},registerVisibilityTracking:{method:function(e){m.bindVisibilityTracker({object:u,threshold:e,dontAssumeStatus:!0},function(e){u.contentWindow.postMessage({event:"visibilityChange",args:[e]},"*")})}},getCurrentPosition:{method:function(){r&&r.framedAd&&r.framedAd.args&&r.framedAd.args.geo&&r.framedAd.args.geo.latitude&&r.framedAd.args.geo.longitude&&u.contentWindow.postMessage({event:"setCurrentPosition",args:[r.framedAd.args.geo.latitude,r.framedAd.args.geo.longitude]},"*")}}};if(r)var w=0,x=setInterval(function(){e.piximedia.pmData5418_1&&e.piximedia.pmData5418_1.adIdAlliance===r.adIdAlliance&&"click"!==e.piximedia.pmData5418_1.openmode&&(g=e.piximedia.pmData5418_1,b&&v()),(g||200===w)&&clearInterval(x),w++},50);if(u=m.getDocument(i).createElement("iframe"),u.style.width=n+(m.getUnit(n,!0)?"":"px"),u.style.height=s+(m.getUnit(s,!0)?"":"px"),u.style.border="0",u.scrolling="no",u.setAttribute("allowfullscreen",!0),u.name=f,t.match(/%%click_tracker%%/)&&(t=t.replace(/%%click_tracker%%/,encodeURIComponent(r.clickUrl[1].tracking))),c||o.lazyLoad?u.src="":u.src=t,u.setAttribute("data-src",t),i.appendChild(u),o.lazyLoad){var I=!0;m.bindVisibilityTracker({object:u,threshold:o.lazyLoad},function(e){e&&I&&(u.src=t,I=!1)})}if(1!==l&&(u.style.zoom=l),v=function(){u.contentWindow.postMessage({method:"allowFooterExpand"},"*")},h=function(e){if(!e.data.id||e.data.id===f)if(e.data.method&&y[e.data.method]){var t=y[e.data.method].method.apply(this,e.data.args);e.source&&e.source.postMessage({method:e.data.callback,args:t},e.origin),"getClickActions"===e.data.method&&(g||o.catchPiximediaClick)&&e.source&&e.source.postMessage({method:"allowFooterExpand"},e.origin),b=!0}else e.data.event&&r.framedAd&&r.framedAd.pam.emit(e.data.event,{id_ad:r.adIdAlliance})},m.addEvent(m.getWindow(i.ownerDocument),"message",h),u.destroy=function(){m.removeEvent(m.getWindow(i.ownerDocument),"message",h)},r&&r.iframe&&r.iframe.on&&(r.iframe.on("mouseover",function(){u.contentWindow.postMessage({event:"MouseEnter"},"*")}),r.iframe.on("mouseout",function(){u.contentWindow.postMessage({event:"MouseLeave"},"*")})),d){u.style.position="relative";var S=function(){var e=m.gbcr(i);u.style.webkitTransform="scale("+e.width/n+")",u.style.transform="scale("+e.width/n+")",u.style.left=(e.width-n)/2+"px",u.style.top=(e.height-s)/2+"px"};S(),o.adaptive||m.onResize(i,function(){S()})}return u.postMessage=function(e,t){var i={};i[e]=t,u.contentWindow.postMessage(i,"*")},o.isRedirectCreative&&u.setAttribute("sandbox","allow-forms allow-pointer-lock allow-popups allow-scripts allow-same-origin"),u}},queryText:function(e,t,i){if(e){if("string"==typeof e)return e;var a=t.queryAssets(e);if(a&&a[0]&&a[0].uri){var o=a[0].metadata;if("url"===a[0]._asset_type)return o="string"==typeof o?m.w.JSON.parse(o):o||{},o[i?i:"title"];var r=a[0].uri;return r.match&&r.match(/^data\\:/)?(r=r.split(","),r.shift(),r.join(",")):r}return window.console&&window.JSON&&window.JSON.stringify&&window.console.warn("Query that failed to match : ",window.JSON.stringify(e)),""}return""},insertText:function(e,t,i){var a=m.getDocument(i),o=a.createElement("div");o.appendChild(a.createTextNode(e)),m.applyStyle(o,t),i.appendChild(o)},embedSWF:function(t){function i(){var e="";return m.each(t.params,function(t){e+="<param name=\'"+t+"\' value=\'"+this+"\'>"}),e}function a(){var e=" ";return m.each(t.attributes,function(t){e+=" "+t+"=\'"+this+"\'"}),e}function o(){var i="";return m.each(t.flashvars,function(a){var o=t.flashvars[a];"function"!=typeof o&&"object"!=typeof o&&(o="undefined"!=typeof o?o.toString():"undefined","string"==typeof o?(o.match(/^\\/\\//)&&(o=(e.piximedia.pam?e.piximedia.pam.globalOptions.protocol+":":m.w.location.protocol)+o),i+=o.match(/&/)?a+"="+encodeURIComponent(o)+"&":a+"="+o+"&"):i+=a+"="+o+"&")}),i=i.replace(/\\&$/i,"")}if(!m.hasFlash())return void m.warn("Flash is not available");if(!t.file||!t.wrapper)return void m.warn("embedSWF improper arguments");var r={file:"",wrapper:{},id:"unit",width:"300",height:"250",version:"9.0.0",flashvars:m.flashdata.getDefaultFlashvars(),params:m.flashdata.getDefaultParams(),attributes:m.flashdata.getDefaultAttributes(),addWrapper:!1},n="",s=m.getDocument(t.wrapper).createElement("div");m.extend(t,r),n=\'<!--[if !IE]> --><object id="pmfooter-flash-\'+t.id+\'" type="application/x-shockwave-flash"  data="\'+t.file+\'" width="\'+t.width+\'" height="\'+t.height+\'"\'+a()+\'><!-- <![endif]--><!--[if IE]><object id="pmfooter-flash-\'+t.id+\'" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" codebase="//download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,0,0"  width="\'+t.width+\'" height="\'+t.height+\'"><param name="movie" value="\'+t.file+\'"/><!--><!--dgx--> <param name="allowscriptaccess" value="always" />\'+i()+\'<param name="flashvars" value="\'+o()+\'" /></object>\',t.addWrapper?(t.wrapper.appendChild(s),s.innerHTML=n):t.wrapper.innerHTML+=n;var l=m.getDocument(t.wrapper).getElementById("pmfooter-flash-"+t.id);return l&&!l.style.width&&(l.style.width=t.width+(m.hasUnit(t.width)?"":"px")),l&&!l.style.height&&(l.style.height=t.height+(m.hasUnit(t.height)?"":"px")),m.getDocument(t.wrapper).getElementById("pmfooter-flash-"+t.id)},flashdata:{getDefaultFlashvars:function(){return{}},getDefaultParams:function(){return{loop:!0,menu:!1,quality:"high",salign:"tr",allowfullscreen:"true",wmode:"opaque",scale:"noscale"}},getDefaultAttributes:function(){return{salign:"bottom",wmode:"opaque",style:"position : relative; visibility : visible;"}}},isMobileSite:function(e){var t=e||m.d,i=m.getViewportSize(m.getWindow(t)),a=i[0]>i[1]?1:0;return screen.width&&parseInt(i[a]-screen.width,10)<10?!0:!1},canUseCSS3:function(){var e=function(){var e=document.createElement("div"),t="Khtml Ms O Moz Webkit".split(" "),i=t.length;return function(a){if(a in e.style)return!0;for(a=a.replace(/^[a-z]/,function(e){return e.toUpperCase()});i--;)if(t[i]+a in e.style)return!0;return!1}}();return e("transition")?!0:!1},handleExternalScripts:function(e,t,i){try{var a={},o=function(e){return e.toString().replace(/\\[timestamp\\]/gi,m.random()).replace(/\\[random\\]/gi,m.random()).replace(/\\[random_number\\]/gi,m.random()).replace(/\\#random_number\\#/gi,m.random())};e.args||(e.args={}),t.args||(t.args={}),m.extend(a,t.args.externalScriptsForPositions||{},void 0,!0),m.extend(a,e.args.externalScriptsForPositions||{},void 0,!0),m.each(a,function(r){(r===e.positionId||"*"===r||e.positionId.match(new RegExp("^"+r+"\\\\.")))&&m.each(a[r],function(e){if(t.args.externalScriptShouldBeDocumentWrited)i.write("<div class=\'external-script-wrappper\'><script src=\'"+o(a[r][e])+"\'></script></div>");else{var n=i.createElement("script");n.src=o(a[r][e]),i.getElementsByTagName("head")[0].appendChild(n)}})})}catch(r){}},fixTracking:function(t,i){if("string"==typeof t.clickUrl[0])return void(t.pixelUrl&&t.pixelUrl.length&&t.shouldSendPixels&&m.each(t.pixelUrl,function(e){m.PixelPrinter(t.pixelUrl[e])}));if(m.each(t.clickUrl,function(){if(this.query&&this.query.id){var i=t.framedAd.queryAssets(".asset_id="+this.query.id);i&&i[0]&&i[0].uri&&(this.url=i[0].uri,this.options=i[0].options?"string"==typeof i[0].options?e.JSON.parse(i[0].options):i[0].options:{},this.metadata=i[0].metadata?"string"==typeof i[0].metadata?e.JSON.parse(i[0].metadata):i[0].metadata:{title:"",description:""})}}),t.tracking&&t.tracking.clickUrl)for(var a=0;a<t.tracking.clickUrl.length;a++)t.clickUrl[a]||(t.clickUrl[a]={url:""}),t.clickUrl[a].url=t.tracking.clickUrl[a];if(t.tracking&&t.tracking.pixelUrl)for(var o=0;o<t.tracking.pixelUrl.length;o++)t.pixelUrl[o]=t.tracking.pixelUrl[o];i.advertiserClickUrls&&"object"==typeof i.advertiserClickUrls&&null!==i.advertiserClickUrls&&m.each(i.advertiserClickUrls,function(e){t.clickUrl[e]||(t.clickUrl[e]={url:"",tracking:""}),t.clickUrl[e].url=i.advertiserClickUrls[e]}),i.advertiserClickUrl&&(t.clickUrl[0].url=i.advertiserClickUrl);var r=i.trackingPositionConditional,n=t&&t.framedAd&&t.framedAd.pam.SUPPORTS_CONDITIONAL_PIXELS;if(!r&&t&&t.framedAd&&(r=t.framedAd.args["tracking.ad:conditional"]),r){var s;m.each(r,function(){var e=!0;m.each(this.conditions,function(){var t=Object.keys(this)[0];switch(Object.keys(this)[0]){case"browser":m.browser.name!==this[t]&&(e=!1);break;case"device":m.device.name!==this[t]&&(e=!1);break;case"position":i.positionId!==this[t]&&(e=!1)}}),e&&(s=this)}),s&&(t.shouldSendPixels=!0,m.each(s.data.clickUrl,function(e){t.clickUrl[e]=t.clickUrl[e]||{},t.clickUrl[e].url=s.data.clickUrl[e]}),n||m.each(s.data.pixelUrl,function(e){t.pixelUrl||(t.pixelUrl=[]),m.PixelPrinter(s.data.pixelUrl[e]),t.pixelUrl.push(s.data.pixelUrl[e])}))}m.each(t.clickUrl,function(){this.tracking=i.getTrackedUrl("CLICK",""),i.clickUrl&&(i.args&&i.args.should_encode_advertiser_cc?this.url=i.clickUrl+encodeURIComponent(this.url):this.url=i.clickUrl+this.url,this.positionClickUrl=i.clickUrl)}),t.clickUrl[0].url||(t.clickUrl[0].url=""),"string"==typeof t.clickUrl[0].url&&t.clickUrl.unshift(""),t.trackingFixed=!0},PixelPrinter:function(e,t){if(e){var i=e.replace(/\\[timestamp\\]/gi,m.random()).replace(/\\[random\\]/gi,m.random()).replace(/\\[random_number\\]/gi,m.random());if(m.log("Printing pixel : "+i),"msie"===m.browser.name&&m.browser.version<9||!document.body||!t){var a=new Image;a.src=i}else{var o=document.createElement("img");o.style.display="none",o.width=o.height=o.border="0",t.appendChild(o),o.src=i}}},getViewportSize:function(e){var t,i,a=e||m.w,o=m.getNavigator();return o.userAgent.match(/ipad/i)?(t=a.innerWidth,i=a.innerHeight):"undefined"!=typeof a.document.documentElement&&"undefined"!=typeof a.document.documentElement.clientWidth&&0!==a.document.documentElement.clientWidth?(t=a.document.documentElement.clientWidth,i=a.document.documentElement.clientHeight):"undefined"!=typeof a.innerWidth?(t=a.innerWidth,i=a.innerHeight):(t=a.document.getElementsByTagName("body")[0].clientWidth,i=a.document.getElementsByTagName("body")[0].clientHeight),[t,i]},getPageScroll:function(e){var t=e||m.w,i=t.document,a=0,o=0;return void 0!==t.self.pageYOffset?(o=t.pageYOffset,a=t.pageXOffset):i.documentElement&&void 0!==i.documentElement.scrollTop&&i.documentElement.scrollTop?(o=i.documentElement.scrollTop,a=i.documentElement.scrollLeft):i.body&&i.body.scrollTop&&(o=i.body.scrollTop,a=i.body.scrollLeft),!o&&t.piximedia&&t.piximedia.preview&&t.document.body&&t.document.body.firstElementChild&&(o=-1*t.document.body.firstElementChild.getBoundingClientRect().top),[a,o]},setDocumentFocus:function(){m.pageActive||(m.pageActive=!0,m.fireEvent("focus-change"))},bindFocusEvent:function(){function e(){m.pageActive||(m.pageActive=!0,m.fireEvent("focus-change")),i||(m.removeEvent(m.w,"scroll",e),m.removeEvent(m.d,"mousemove",e))}function t(){m.pageActive&&(m.pageActive=!1,m.fireEvent("focus-change"))}var i,a=m.getBrowser(),o=m.getDevice();("mobile"===o.name||"tablet"===o.name)&&e(),"msie"===a.name&&a.version<10?(m.mouseenter(m.d,e),m.addEvent(m.d,"focusin",function(){e()}),m.addEvent(m.d,"focusout",function(){m.browserOpen||t()})):(m.addEvent(m.w,"focus",e),m.addEvent(m.w,"blur",function(){m.focusOutTimeout=setTimeout(function(){m.fifHasFocus||t()},10)}),m.mouseenter(m.d,e)),"undefined"!=typeof m.d.hidden&&"undefined"!=typeof m.d.visibilityState?(i=!0,"visible"===m.d.visibilityState&&e(),m.d.addEventListener("visibilitychange",function(){"visible"===m.d.visibilityState?e():t()})):(m.addEvent(m.w,"scroll",e),m.addEvent(m.d,"mousemove",e))},bindVisibilityTracker:function(e,t){var i,a={object:null,threshold:60},o=!1;if(m.extend(e,a),e.dontAssumeStatus&&(o=void 0),!e.object&&!e.query)return void m.warn("bindVisibilityTracker %s","object missing or not an object");e.query&&(e.object=m.querySelector(e.query));var r=e.object;return i=setInterval(function(){var a=!1;if(m.getDocument(r)!==m.d){var n=m.getOwnerFif(e.object);e.object=n||e.object}else e.object=r;if(m.isCrossDomained()&&m.w.$sf&&m.w.$sf.ext&&"function"==typeof m.w.$sf.ext.inViewPercentage&&"number"==typeof m.w.$sf.ext.inViewPercentage())a=m.w.$sf.ext.inViewPercentage()>=e.threshold,a!==o&&(m.call(t,[a]),o=a),e.object.isVisible=a;else if(m.pageActive){var s=m.gbcr(e.object),l=m.getViewportSize(),d={top:parseInt((s.height+s.top)/Math.min(s.height,l[1])*100,10),right:parseInt((s.right-l[0]-s.width)/Math.min(s.width,l[0])*-100,10),bottom:parseInt((s.bottom-l[1]-s.height)/Math.min(s.height,l[1])*-100,10),left:parseInt((s.width+s.left)/Math.min(s.width,l[0])*100,10)};if(s.error)return clearInterval(i),void m.call(t,[!1,!0]);if(d.top>e.threshold&&d.right>e.threshold&&d.bottom>e.threshold&&d.left>e.threshold&&(a=!0),r){var c=m.gbcr(r);(0===c.width||0===c.height||c.top<0&&100-parseInt(c.top/c.height*-100,10)<e.threshold)&&(a=!1)}a!==o&&(m.call(t,[a]),o=a),e.object.isVisible=a}},500),m.bindEvent("focus-change",function(){m.pageActive?o&&(e.object.isVisible=!0,m.call(t,[!0])):(e.object.isVisible=!1,m.call(t,[!1]))}),{clear:function(){clearInterval(i)}}},bindVisibilityTrackerWithoutFocus:function(e,t){var i,a={object:null,threshold:60},o=!1;if(m.extend(e,a),!e.object)return void m.warn("bindVisibilityTracker %s","object missing or not an object");if(m.getDocument(e.object)!==m.d){var r=m.getOwnerFif(e.object);e.object=r||e.object}return i=setInterval(function(){var a=m.gbcr(e.object),r=m.getViewportSize(),n={top:parseInt((a.height+a.top)/Math.min(a.height,r[1])*100,10),right:parseInt((a.right-r[0]-a.width)/Math.min(a.width,r[0])*-100,10),bottom:parseInt((a.bottom-r[1]-a.height)/Math.min(a.height,r[1])*-100,10),left:parseInt((a.width+a.left)/Math.min(a.width,r[0])*100,10)},s=!1;return a.error?(clearInterval(i),void m.call(t,[!1,!0])):(n.top>e.threshold&&n.right>e.threshold&&n.bottom>e.threshold&&n.left>e.threshold&&(s=!0),s!==o&&(m.call(t,[s]),o=s),void(e.object.isVisibleWithoutFocus=s))},500),{clear:function(){clearInterval(i)}}},getVisibility:function(e){var t,i,a,o=m.gbcr(e);if(t=o.top>0?0:o.top,i=o.bottom>0?0:o.bottom,a=o.height+t+i,!m.pageActive)return 0;if(0>a)return 0;var r=o.top>m.getViewportSize()[1]||isNaN(a/o.height)?0:a/o.height;return r},watchVisibility:function(e){var t=function(e){var t,i=0;return m.each(e,function(){i+=this}),t=i/e.length};e.percents=[],e.getAverage=function(){var i=t(e.percents);return e.percents=[],i};var i=function(){var i=0;e.objects.length&&(m.each(e.objects,function(){var e=m.getVisibility(this.dom);if(i+=e,!this.percents){var a=this;a.percents=[],a.getAverage=function(){var e=t(a.percents);return a.percents=[],e}}this.percents.push(e)}),i>1&&(i=1),e.percents.push(i))};i(),setInterval(function(){i()},500)},bindViewTracker:function(e,t){var i,a,o={object:null,threshold:60,duration:10},r=0,n=!1;return m.extend(e,o),e.object?(m.print("New view tracker",e.duration,e.threshold,e.object),a=m.bindVisibilityTracker(e,function(e,t){t?clearInterval(i):n=e}),void(i=setInterval(function(){n&&r++,e.object.viewTimer=r,r===e.duration&&(clearInterval(i),a.clear(),m.call(t))},1e3))):void m.warn("bindViewTracker %s","object missing or not an object")},setLocale:function(e){m.locale=e},gettext:function(e,t){var i=t||m.locale;return"en_US"===i&&(i="en_EN"),m.translations[i]&&m.translations[i][e]?m.translations[i][e]:e},searchText:function(e){var t=m.d.querySelectorAll("body *"),i=m.d.querySelectorAll(".pm-search-highlight"),a=0;return m.each(i,function(){this.parentNode.innerHTML=this.parentNode.innerHTML.replace(new RegExp(this.outerHTML,"gi"),this.innerHTML)}),e?(m.each(t,function(){var t=0,i=!1,o=["IFRAME","STYLE"],r=function(e){m.each(e,function(){-1!==o.indexOf(this.nodeName)&&(i=!0),this.childNodes&&this.childNodes.length?r(this.childNodes):t++})};if(this.childNodes&&r(this.childNodes),!(t>4||i||-1!==o.indexOf(this.nodeName))){var n=this.innerText.match(new RegExp(e,"gi"));this.innerText&&n&&"pm-search-highlight"!==(this.className||"")&&(a+=n.length,this.innerHTML=this.innerHTML.replace(new RegExp(e,"gi"),"<span class=\'pm-search-highlight\'>"+e+"</span>"))}}),a):void 0},Loader:function(e){e.duration||(e.duration=1e3);var t,i,a=e.type||"circle",o=m.getDocument(e.wrapper),r=o.createElement("div"),n=o.createElement("div");r.className="pm-loader-background",n.className="pm-loader pm-loader-wrapper pm-loader-wrapper-"+a,e.html&&(n.innerHTML=e.html),e.wrapper.appendChild(r),e.wrapper.appendChild(n);var s="#333";m.createCSSs({"@keyframes pm-loader-rotate-anim":"100% { -webkit-transform: rotate(360deg); transform: rotate(360deg); }",".pm-loader-wrapper-rect":{display:"flex",height:"100%"},".pm-loader-rect":{width:"100%",height:"15px","align-self":"center"},"@keyframes pm-loader-rect-anim":"0% { width: 0; } 100% { width: 100% }","@keyframes pm-loader-rect-anim-light":"0% { transform: translateY(7.5px) scaleY(0); } 10%,100% { transform:translateY(0px) scaleY(1) }","@keyframes pm-loader-rect-anim-dark":"0%,10% { transform: scaleX(0); } 100% { transform: scaleX(1); }","@keyframes pm-loader-dash-anim":"0% { stroke-dasharray: 1,200; stroke-dashoffset: 0; } 50% { stroke-dasharray: 89,200; stroke-dashoffset: -35px; } 100% { stroke-dasharray: 89,200; stroke-dashoffset: -124px; }","@keyframes pm-loader-color-anim":"100%, 0% { stroke: "+s+"; } 40% { stroke: "+s+"; } 66% { stroke: "+s+"; } 80%, 90% { stroke: "+s+"; }"},o);var l=function(){switch(m.addClass(e.wrapper,"pm-loader-start"),a){case"rect":n.innerHTML=\'<svg class="pm-loader-rect" viewbox="0 0 100 15" preserveAspectRatio="none">	<rect class="pm-loader-rect-light" style="\'+m.getPrefixedEvent("animation")+": pm-loader-rect-anim-light "+e.duration/1e3+\'s ease-in;" x="0" y="5" width="100" height="5" fill="#9d9d9d" />	<rect class="pm-loader-rect-dark" style="\'+m.getPrefixedEvent("animation")+": pm-loader-rect-anim-dark "+e.duration/1e3+\'s ease-in;" x="0" y="5" width="100" height="5" fill="#eaeaea" /></svg>\';break;case"circle":n.innerHTML=\'<svg class="pm-loader-circular" style="\'+m.getPrefixedEvent("animation")+": pm-loader-rotate-anim "+e.duration/1e3+\'s linear;" viewbox="25 25 50 50">	<circle class="back" cx="50" cy="50" r="20" fill="none" stroke="#FFF" stroke-width="3" stroke-miterlimit="10"/>	<circle class="pm-loader-circular-path" cx="50" cy="50" r="20" fill="none" stroke-width="3" stroke-miterlimit="10" style="\'+m.getPrefixedEvent("animation")+": pm-loader-dash-anim "+e.duration/1e3+"s ease-in-out, pm-loader-color-anim "+e.duration/1e3+\'s ease-in-out;"/></svg>\';break;case"circlewithnumber":n.innerHTML=\'<svg class="pm-loader-circular" style="\'+m.getPrefixedEvent("animation")+": pm-loader-rotate-anim "+e.duration/1e3+\'s linear;" viewbox="25 25 50 50">	<circle class="back" cx="50" cy="50" r="20" fill="none" stroke="#FFF" stroke-width="3" stroke-miterlimit="10"/>	<circle class="pm-loader-circular-path" cx="50" cy="50" r="20" fill="none" stroke-width="3" stroke-miterlimit="10" style="\'+m.getPrefixedEvent("animation")+": pm-loader-dash-anim "+e.duration/1e3+"s ease-in-out, pm-loader-color-anim "+e.duration/1e3+"s ease-in-out;\\"/></svg><div class=\'pm-loader-countdown\'></div>";var o=e.duration/3,r=n.querySelector(".pm-loader-countdown"),s=function(){r.innerHTML?"0"===r.innerHTML?clearInterval(s):r.innerHTML=parseInt(r.innerHTML,10)-1+"":r.innerHTML="3"};i=setInterval(s,o),s()}t=setTimeout(function(){e.complete()},e.duration)},d=function(){m.removeClass(e.wrapper,"pm-loader-start"),e.html?n.innerHTML=e.html:n.innerHTML="",clearTimeout(t),clearInterval(i)};return{start:l,clear:d}},Toolbar:function(t){t.closeImmediately=!0,t.metadata||(t.metadata={}),t.metadata.title=t.metadata.title||"",t.metadata.description=t.metadata.description||"",t.metadata.image=t.metadata.image||"",t.closeDelay||(t.closeDelay=15);var i=m.getDocument(t.root),a=i.createElement("div");a.className="pm-toolbar",a.innerHTML=\'<div class="pm-toolbar-keep-it">	<span class="pm-toolbar-text">\'+m.gettext("Save")+\'</span>	<span class="pm-toolbar-icon pm-toolbar-heart"></span></div><div class="pm-toolbar-share-it">	<span class="pm-toolbar-text pm-toolbar-share-it-label">\'+m.gettext("Share")+\'</span>	<span class="pm-toolbar-icon pm-toolbar-share-it-icon"></span>	<div class="pm-share-it-content-wrapper">		<span class="pm-toolbar-icon pm-toolbar-facebook"></span>		<span class="pm-toolbar-icon pm-toolbar-twitter"></span>		<span class="pm-toolbar-icon pm-toolbar-linkedin"></span>		<span class="pm-toolbar-icon pm-toolbar-email"></span>	</div></div><div class="pm-toolbar-title">	<span class="pm-toolbar-text">\'+(t.metadata.title||"")+\'</span></div><div class="pm-toolbar-closebutton">	<span class="pm-toolbar-icon pm-toolbar-close"></span></div>\',\nt.root.appendChild(a);var o,r=a.querySelector(".pm-toolbar-keep-it"),n=a.querySelector(".pm-toolbar-share-it"),s=a.querySelector(".pm-toolbar-title"),l=a.querySelector(".pm-toolbar-title span"),d=a.querySelector(".pm-toolbar-closebutton");t.rootKeep&&(r=t.rootKeep,m.addClass(r,"pm-toolbar-keep-it"),r.innerHTML=\'	<span class="pm-toolbar-text">\'+m.gettext("ENREGISTRER")+\'</span>	<span class="pm-toolbar-icon pm-toolbar-heart"></span>\'),t.rootShare&&(n=t.rootShare,m.addClass(n,"pm-toolbar-share-it"),n.innerHTML=\'<span class="pm-toolbar-text pm-toolbar-share-it-label">\'+m.gettext("PARTAGER")+\'</span><span class="pm-toolbar-icon pm-toolbar-share-it-icon"></span>\'),t.rootDiscover&&(o=t.rootDiscover,m.addClass(o,"pm-toolbar-discover"),o.innerHTML=\'<span class="pm-toolbar-text">\'+m.gettext("DÉCOUVRIR")+\'</span><span class="pm-toolbar-icon pm-toolbar-discover-icon"></span>\'),t.disableSocial&&(r.style.display="none",n.style.display="none",t.closeImmediately=!0),t.nvd&&(s.style.display="none",l.style.display="none",d.style.display="none"),t.metadata.title||m.addClass(d,"pm-toolbar-align-right");var c,p,u,h,f,v=function(e){var t=document.createElement("textarea");return t.innerHTML=e,t.value},g=function(e){t.position&&t.position.loadEvent&&t.position.loadEvent(e)};c=function(e){switch(g("AP_SOCIAL_SHARE_"+e.toUpperCase()),e){case"facebook":window.open("http://www.facebook.com/share.php?v=4&src=bm&u="+encodeURIComponent(t.uri),"_blank");break;case"twitter":window.open("http://twitter.com/share?url="+t.uri+"&text="+(t.metadata.title||""),"_blank");break;case"linkedin":window.open("https://www.linkedin.com/shareArticle?mini=true&url="+encodeURIComponent(t.uri)+"&title="+encodeURIComponent(t.metadata.title||"")+"&summary="+encodeURIComponent(t.metadata.description||"")+"&source=","_blank");break;case"email":m.addClass(n,"pm-toolbar-icon-active"),h(t.popinRoot,function(){m.removeClass(n,"pm-toolbar-icon-active")});break;default:m.warn("Unknown sharing method")}},p=function(e,i,a){a||g("AP_MAIL_SHARE_"+e.toUpperCase());var o=encodeURIComponent(v(t.metadata.title)),r=encodeURIComponent(v(t.metadata.description)+"\\r\\n"+t.cleanUri+"\\r\\n\\r\\n"+m.gettext("The email you requested - Thank you for your interest")+"\\r\\n"+m.gettext("Powered by Piximedia"));switch(e){case"gmail":window.open("https://mail.google.com/mail/u/0/?view=cm&su="+o+"&to="+encodeURIComponent(i||"")+"&body="+r+"&fs=1&tf=1","_blank");break;case"outlook":window.open("https://outlook.live.com/owa/#subject="+o+"&to="+encodeURIComponent(i||"")+"&body="+r+"&path=%2fmail%2faction%2fcompose","_blank");break;case"yahoo":window.open("http://compose.mail.yahoo.com/?&Subject="+o+"&To="+encodeURIComponent(i||"")+"&Body="+r,"_blank");break;default:window.open("mailto:"+(i||"")+"?subject="+o+"&body="+r,"_blank")}};var b=function(e){var t=200,i=m.d.createElement("div");i.className="pm-toolbar-popin pm-do-not-minimize-to-companion",e.root.appendChild(i),i.innerHTML=\'<div class="pm-toolbar-popin-background"></div><div class="pm-toolbar-popin-wrapper">	<div class="pm-toolbar-popin-header">		<span class="pm-toolbar-text">\'+e.title+\'</span>		<div class="pm-toolbar-popin-close">			<span class="pm-toolbar-text pm-toolbar-popin-countdown">15</span>			<span class="pm-toolbar-icon pm-toolbar-close"></span>		</div>	</div>	<div class="pm-toolbar-popin-content"></div>\';var a,o=this;"safari"===m.browser.name&&(i.style.transform="translateZ(0.01px)"),a=function(){clearInterval(o.closeInterval),i.querySelector(".pm-toolbar-popin-background").removeAttribute("style"),i.querySelector(".pm-toolbar-popin-wrapper").removeAttribute("style"),setTimeout(function(){e.root.removeChild(i),m.call(e.callback)},t)},o.startcountdown=function(){var e=i.querySelector(".pm-toolbar-popin-countdown");e.innerHTML=parseInt(e.innerHTML,10)-1,"0"===e.innerHTML&&a()},e.countdown?o.closeInterval=setInterval(o.startcountdown,1e3):i.querySelector(".pm-toolbar-popin-countdown").style.display="none",i.querySelector(".pm-toolbar-popin-close").addEventListener("click",function(){a()}),i.querySelector(".pm-toolbar-popin-background").addEventListener("click",function(){a()}),this.object=i,this.content=i.querySelector(".pm-toolbar-popin-content"),this.close=a,setTimeout(function(){m.animate(i.querySelector(".pm-toolbar-popin-background"),{opacity:.8,duration:t}).play(),m.animate(i.querySelector(".pm-toolbar-popin-wrapper"),{opacity:1,transform:"translate(-50%, -50%) scale(1)",duration:t}).play()},300)};u=function(i,a,o){var r=new b({root:i,title:o?m.gettext("save this ad before leaving"):m.gettext("keep this ad for later"),countdown:o,callback:a});if(r.content.innerHTML+=\'<div class="pm-toolbar-popin-native"><div class="pm-toolbar-popin-native-content"></div></div><div class="pm-toolbar-popin-save-box">	<div class="pm-toolbar-text">\'+m.gettext("email you this offer")+\'</div>	<input class="pm-toolbar-email-input" type="email" placeholder="\'+m.gettext("Your email here")+\'" />	<span class="pm-toolbar-icon pm-toolbar-email"></span></div>\',m.d.pixiCSSLoaded=!0,t.metadata&&(t.metadata.description||t.metadata.title)){var n=r.content.querySelector(".pm-toolbar-popin-native-content"),s=360,l=300,d={wrapper:n,clickUrl:["",{url:t.uri,metadata:{}}],position:{positionId:"mpu",loadEvent:function(){},getTrackedUrl:function(e,t){return t}},framedAd:t.framedAd||{args:{},pam:{}},"native":{width:800,height:450,title:t.metadata.title,description:t.metadata.description,image:t.metadata.image},standard:{width:s,height:l,file:"http://piximedia.fr/"}},c=new e.piximedia.Decoratr({data:d});c.decorate(),c.on("native-decorated",function(){c.objects.nativeWrapper.querySelector(".pm-clicktag").style.display="none"})}else r.content.querySelector(".pm-toolbar-popin-native").style.display="none";var u,h=r.content.querySelector(".pm-toolbar-email-input");u=function(){var e=/^(([^<>()\\[\\]\\.,;:\\s@\\"]+(\\.[^<>()\\[\\]\\.,;:\\s@\\"]+)*)|(\\".+\\"))@(([^<>()[\\]\\.,;:\\s@\\"]+\\.)+[^<>()[\\]\\.,;:\\s@\\"]{2,})$/i;h.value.match(e)?(t.closeImmediately=!0,g(o?"AP_SAVE_IT_BEFORE_EXIT":"AP_SAVE_IT"),p("mailto",h.value,!0),r.close()):(m.addClass(h,"pm-toolbar-email-input-error"),setTimeout(function(){m.removeClass(h,"pm-toolbar-email-input-error")},1500))},r.content.querySelector(".pm-toolbar-email").addEventListener("click",u),h.addEventListener("keypress",function(e){13===e.keyCode&&u()}),h.addEventListener("focus",function(){clearInterval(r.closeInterval)}),h.addEventListener("blur",function(){a&&(r.closeInterval=setInterval(r.startcountdown,1e3))})},h=function(e,t){var i=new b({root:e,title:"choose your mail client",callback:t});i.content.innerHTML=\'<div class="pm-toolbar-popin-mail-selector">	<div>		<div class="pm-toolbar-mail-button">			<div class="pm-toolbar-mail-inner-content">				<div class="pm-toolbar-icon pm-toolbar-gmail"></div>				<div class="pm-toolbar-text">\'+m.gettext("Gmail")+\'</div>			</div>		</div>		<div class="pm-toolbar-mail-button">			<div class="pm-toolbar-mail-inner-content">				<div class="pm-toolbar-icon pm-toolbar-outlook"></div>				<div class="pm-toolbar-text">\'+m.gettext("Outlook")+\'</div>			</div>		</div>	</div>	<div>		<div class="pm-toolbar-mail-button">			<div class="pm-toolbar-mail-inner-content">				<div class="pm-toolbar-icon pm-toolbar-yahoo"></div>				<div class="pm-toolbar-text">\'+m.gettext("Yahoo Mail")+\'</div>			</div>		</div>		<div class="pm-toolbar-mail-button">			<div class="pm-toolbar-mail-inner-content">				<div class="pm-toolbar-icon pm-toolbar-other-mail"></div>				<div class="pm-toolbar-text">\'+m.gettext("Other")+"</div>			</div>		</div>	</div></div>",m.each(i.content.querySelectorAll(".pm-toolbar-mail-button"),function(){this.addEventListener("click",function(){var e=this.querySelector(".pm-toolbar-icon").className;e=e.split("-"),e=e.pop(),p(e)})})},f=function(e,i){var a=new b({root:e,title:"share this ad",callback:i});a.content.innerHTML=\'<div class="pm-toolbar-popin-mail-selector">	<div>		<div class="pm-toolbar-mail-button">			<div class="pm-toolbar-mail-inner-content">				<div class="pm-toolbar-icon pm-toolbar-facebook"></div>				<div class="pm-toolbar-text">\'+m.gettext("Facebook")+\'</div>			</div>		</div>		<div class="pm-toolbar-mail-button">			<div class="pm-toolbar-mail-inner-content">				<div class="pm-toolbar-icon pm-toolbar-twitter"></div>				<div class="pm-toolbar-text">\'+m.gettext("Twitter")+\'</div>			</div>		</div>	</div>	<div>		<div class="pm-toolbar-mail-button">			<div class="pm-toolbar-mail-inner-content">				<div class="pm-toolbar-icon pm-toolbar-linkedin"></div>				<div class="pm-toolbar-text">\'+m.gettext("Linkedin")+\'</div>			</div>		</div>		<div class="pm-toolbar-mail-button">			<div class="pm-toolbar-mail-inner-content">				<div class="pm-toolbar-icon pm-toolbar-other-mail"></div>				<div class="pm-toolbar-text">\'+m.gettext("Email")+"</div>			</div>		</div>	</div></div>",m.each(a.content.querySelectorAll(".pm-toolbar-mail-button"),function(){this.addEventListener("click",function(){var e=this.querySelector(".pm-toolbar-icon").className;e=e.split("-"),e=e.pop(),"mail"===e?(a.close(),setTimeout(function(){h(t.popinRoot)},300)):c(e)})})};var y=function(e){var i=function(){t.animate&&!e?m.animate(a,{opacity:0,oncompleted:function(){t.root.removeChild(a),m.call(t.onclose)}}).play():(t.root.removeChild(a),m.call(t.onclose))};t.closeImmediately||e?i():(m.addClass(d,"pm-toolbar-icon-active"),u(t.popinRoot,i,!0)),g("AP_CLOSE")};r.addEventListener("click",function(){m.addClass(r,"pm-toolbar-icon-active"),u(t.popinRoot,function(){m.removeClass(r,"pm-toolbar-icon-active")})}),l.addEventListener("click",function(){y(!0),m.call(t.ontitleclick)}),d.addEventListener("click",function(){y()}),t.nvd||t.rootKeep?n.addEventListener("click",function(){m.addClass(n,"pm-toolbar-icon-active"),f(t.popinRoot,function(){m.removeClass(n,"pm-toolbar-icon-active")})}):n.querySelector(".pm-toolbar-share-it-icon").addEventListener("click",function(){m.addClass(n,"pm-toolbar-icon-active"),f(t.popinRoot,function(){m.removeClass(n,"pm-toolbar-icon-active")})}),t.rootShare||(n.querySelector(".pm-toolbar-facebook").addEventListener("click",function(){c("facebook")}),n.querySelector(".pm-toolbar-twitter").addEventListener("click",function(){c("twitter")}),n.querySelector(".pm-toolbar-linkedin").addEventListener("click",function(){c("linkedin")}),n.querySelector(".pm-toolbar-email").addEventListener("click",function(){c("email")}));var w=[r,n,d];m.each(w,function(){t.nvd||t.rootKeep||this.addEventListener("mouseover",function(){m.addClass(this,"pm-toolbar-icon-active")});var e=!1;this.addEventListener("mouseout",function(){e||m.removeClass(this,"pm-toolbar-icon-active")}),this.addEventListener("click",function(){e=!0,setTimeout(function(){e=!1},700)})}),m.onResize(a,function(e){if(700>e?m.addClass(a,"pm-toolbar-small-mode"):m.removeClass(a,"pm-toolbar-small-mode"),t.metadata.title){m.removeClass(s,"pm-toolbar-title-leftalign"),l.innerHTML=t.metadata.title;var i=m.gbcr(r).width+m.gbcr(n).width;l.style.marginLeft=-1*(i-m.gbcr(d).width)+"px",s.style.width=parseInt(m.gbcr(a).width-m.gbcr(d).width-i,10)+"px",m.gbcr(l).left-m.gbcr(s).left<0&&(m.addClass(s,"pm-toolbar-title-leftalign"),l.style.marginLeft="0px");var o=m.getTextWidth(t.metadata.title,"14px Arial"),c=m.gbcr(s).width/o;1>c&&(l.innerHTML=m.shorten(t.metadata.title,parseInt(t.metadata.title.length*c,10)-2))}}),t.animate&&(a.style.opacity=0,m.animate(a,{opacity:1}).play()),this.close=y,(t.rootShare||t.rootKeep||t.rootDiscover)&&a.parentNode.removeChild(a)},Browser:function(t){function i(){t.position.loadEvent("AP_FACEBOOK"),window.open("http://www.facebook.com/share.php?v=4&src=bm&u="+encodeURIComponent(g),"_blank")}function a(){t.position.loadEvent("AP_TWITTER"),window.open("http://twitter.com/share?url="+g+"&text="+t.title,"_blank")}function o(){t.position.loadEvent("AP_CLOSE"),I()}function r(){I(),t.openmode="newtab",t.dontChangeUri=!0,A();var e=new m.Browser(t);e.open()}function n(){m.addClass(b.querySelector("#pm-browser-title span"),"hover")}function s(){m.removeClass(b.querySelector("#pm-browser-title span"),"hover")}var d,c=m.copy(t),p=t.footerVideoExpandVersion,u=m.random(),h=!1;if(t.uri.match&&t.uri.match(/#.*?#/)&&t.framedAd&&t.framedAd.args){var f=t.uri.match(/#(.*?)#/gi);m.each(f,function(e){var i=f[e].match(/#(.*?)#/)[1];t.framedAd.args[i]?t.uri=t.uri.replace(new RegExp(f[e],"gi"),t.framedAd.args[i]):t.uri=t.uri.replace(new RegExp(f[e],"gi"),"")})}if(t.framedAd=t.position.decoratedBy,t.keepAlive=t.framedAd&&t.framedAd.args&&t.framedAd.args.keepAliveDuration||l,t.halfSizedBrowser=t.framedAd&&t.framedAd.args&&t.framedAd.args.halfSizedBrowser||t.halfSizedBrowser,t.disableIframeSandboxing=t.framedAd&&t.framedAd.args&&t.framedAd.args.disableIframeSandboxing||t.disableIframeSandboxing,t.useNewToolbar=t.framedAd&&(t.framedAd.creativeId>302661?!0:t.framedAd.args&&t.framedAd.args.enableNewToolbar?!0:t.useNewToolbar)||t.useNewToolbar,t.minimizePageToCompanion&&(t.keepAlive=9999),t.prehome&&t.prehome.file&&(t.prehome.halfSizedBrowser&&(t.halfSizedBrowser=!0),t.prehome.disableSocial&&(t.disableSocial=!0)),m.browserInstanceId=u,clearTimeout(m.browserRemoveTimeout),m.lastSession&&!m.lastSession.closed&&m.lastSession.clear&&m.lastSession.clear(),t.keepAlive&&m.lastSession){t.uri===m.lastSession.uri&&t.openmode===m.lastSession.openmode&&t.minimizePageToCompanion===m.lastSession.minimizePageToCompanion&&"newtab"!==t.openmode?(h=!0,t.previousTimer=m.lastSession.timer,t.timetracker=m.lastSession.timetracker,t.timetrackerIframe=m.lastSession.timetrackerIframe):(m.lastSession.timetracker&&m.lastSession.timetracker.stop(),m.lastSession.wrapper&&m.lastSession.wrapper.parentNode&&m.lastSession.wrapper.parentNode.removeChild(m.lastSession.wrapper));var v=m.lastSession.pageContainerClicktag;v&&v.parentNode&&v.parentNode.removeChild(v)}var g=t.uri;t.openmode?"overtake"===t.openmode&&(t.exposureTime=0):t.openmode=t.newtab?"newtab":"expand",(!t.query||"object"==typeof t.query&&!t.query.id)&&(t.query=".type=url.advertiser"),t.root||(t.root=m.d.body),d=m.getDocument(t.root),t.disableSocial=("mobile"===m.device.name||m.getViewportSize()[0]<500)&&!t.useNewToolbar?!0:t.disableSocial,t.originalUri=t.uri;var b,y={};t.framedAd&&t.framedAd.queryAssets&&(y=t.framedAd.queryAssets(t.query),y&&y[0]&&y[0].metadata?(y=y[0],y.metadata="string"==typeof y.metadata?JSON.parse(y.metadata):y.metadata,y.options="string"==typeof y.options?JSON.parse(y.options):y.options):(y.metadata={},y.options={})),h?b=m.lastSession.wrapper:(t.uri.match(/^https:\\/\\/global.event.prod.bidr.io/)&&(t.oobClick=t.uri.match(/^http.*?dest=/)[0],t.uri=t.uri.replace(t.oobClick,""),t.oobClick+="https://ad.piximedia.com/pixel.gif"),t.uri.match(/^http:\\/\\/ads.adfox.ru\\/[0-9]+\\/goLink/)&&(t.oobClick=t.uri.match(/^http.*?&pf=/)[0],t.uri=t.uri.replace(t.oobClick,""),t.oobClick+="https://ad.piximedia.com/pixel.gif"),t.uri=t.dontChangeUri?t.uri:t.exposureTime>0?"newtab"===t.openmode?t.position.getTrackedUrl("AP_VISIT_NEW_TAB",t.uri,{c5:t.c5||""}):t.position.getTrackedUrl("AP_VISIT",t.uri,{c5:t.c5||""}):t.position.getTrackedUrl("CLICK",t.uri),b=d.createElement("div"),b.id="pm-browser",b.innerHTML="<div id=\'pm-browser-header\'></div><div id=\'pm-browser-iframe\'></div>",b.style.opacity=0,t.useNewToolbar||(b.className=" old-toolbar"),t.useNewToolbar||(b.querySelector("#pm-browser-header").innerHTML="	<div id=\'pm-browser-title\'><span></span></div>	<div id=\'pm-browser-tools\'>		<div id=\'pm-browser-facebook\' class=\'pm-browser-tool\'>			<span class=\'pm-browser-icon pm-browser-facebook\'></span>			<span class=\'pm-browser-tooltip\'>"+m.gettext("Partage sur Facebook")+"</span>		</div>		<div id=\'pm-browser-twitter\' class=\'pm-browser-tool\'>			<span class=\'pm-browser-icon pm-browser-twitter\'></span>			<span class=\'pm-browser-tooltip\'>"+m.gettext("Partage sur Twitter")+"</span>		</div>		<div id=\'pm-browser-close\' class=\'pm-browser-tool\'>			X		</div>	</div>",m.each(b.querySelectorAll(".pm-browser-tool"),function(){var e=this;m.addEvent(e,"mouseenter",function(){m.addClass(e,"pm-browser-tool-display-tooltip")}),m.addEvent(e,"mouseleave",function(){m.removeClass(e,"pm-browser-tool-display-tooltip")})})),t.disableFixedPosition&&(b.style.position="absolute"));var w,x,I,S,k,P,C=m.w.history,_=!0,A=function(){m.lastSession={wrapper:b,uri:t.originalUri,timer:t.timer,openmode:t.openmode,timetracker:t.timetracker,timetrackerIframe:t.timetrackerIframe,minimizePageToCompanion:t.minimizePageToCompanion,pageContainerClicktag:t.pageContainerClicktag,clear:S,closed:_}};return A(),k=function(){_||(I(),t.position.loadEvent("AP_BACK_BUTTON"))},S=function(){m.call(t.onclose),t.overlay&&t.overlay.clear(),w&&w.clear&&w.clear(),t.timetracker.pause(),m.fireEvent("pm-navigation-end"),m.browserOpen=!1,t.useNewToolbar||(m.removeEvent(b.querySelector("#pm-browser-facebook"),"click",i),m.removeEvent(b.querySelector("#pm-browser-twitter"),"click",a),m.removeEvent(b.querySelector("#pm-browser-close"),"click",o),m.removeEvent(b.querySelector("#pm-browser-title span"),"click",r),m.removeEvent(b.querySelector("#pm-browser-title span"),"mousenter",n),m.removeEvent(b.querySelector("#pm-browser-title span"),"mousenter",s)),m.browserInstanceId!==u&&m.call(t.clearCallback),clearInterval(P),m.removeEvent(m.w,"popstate",k)},I=function(e){if(S(),_=!0,t.minimizePageToCompanion)t.pageContainerClicktag.style.display="none",t.pageContainerClicktag.querySelector(".pm-loader-toolbar").style.display="block",A(),m.animate(b,{opacity:0,oncompleted:function(){b.style.display="none",b.style.bottom="-390px",t.framedAd&&t.framedAd.args&&t.framedAd.args.initialUri&&b.querySelector("iframe")&&(b.querySelector("iframe").src=t.framedAd.args.initialUri),m.addClass(b,"companion-mode"),m.stopMinimizePageToCompanion(),setTimeout(function(){t.expandFromMarker.parentNode.style.display="block",b.style.display="block",m.animate(t.expandFromMarker,{opacity:1,duration:200}).play(),m.animate(b,{bottom:-130,opacity:1,oncompleted:function(){"safari"===m.browser.name&&(t.pageContainerClicktag.removeAttribute("style"),t.pageContainerClicktag.querySelector(".pm-loader").style.top="222px",t.pageContainerClicktag.querySelector(".pm-loader").style.width="200px"),t.pageContainerClicktag.style.display="block",t.pageContainerClicktag.style.boxShadow="none",t.pageContainerClicktag.style.left="calc(100vw - 312px)",t.pageContainerClicktag.querySelector(".pm-loader").innerHTML=m.gettext("découvrir"),t.pageContainerClicktag.onclick=function(){t.pageContainerClicktag.parentNode.removeChild(t.pageContainerClicktag),t.pageContainerClicktag=!1,A();var e=new m.Browser(c);e.open()}}}).play()},1200)}}).play();else{b.querySelector("#pm-browser-title")&&(b.querySelector("#pm-browser-title").style.display="none");var i=b.querySelector("#pm-browser-iframe iframe")||b.querySelector("#pm-browser-iframe div");m.animate(i,{opacity:0,oncompleted:function(){A(),m.animate(b,{opacity:0,duration:200,oncompleted:function(){b.style.display="none",b.querySelector("#pm-browser-title")&&(b.querySelector("#pm-browser-title").style.display="block"),t.prehome&&t.prehome.overlay&&t.prehome.overlay.hide&&t.prehome.overlay.hide(),b.querySelector(".pm-browser-prehome")&&b.removeChild(b.querySelector(".pm-browser-prehome"))}}).play(),m.browserRemoveTimeout=setTimeout(function(){b.parentNode.removeChild(b),m.lastSession=null,t.timetracker.stop(),t.timetrackerIframe.stop()},1e3*t.keepAlive),!e&&t.clearCallback&&t.clearCallback()}}).play()}d.body.classList.remove("overflow")},x=function(){var i,a;if(t.framedAd&&t.framedAd.pam&&t.framedAd.pam.globalOptions&&t.framedAd.pam.globalOptions.pamid&&t.framedAd.adId&&t.framedAd.creativeId&&t.position){var o=t.position.originalPositionId;o=o?o.split("@")[0]:t.position.positionId.split(".")[0],a=t.framedAd.pam.globalOptions.pamid+"-"+t.framedAd.adId+"-"+t.framedAd.creativeId+"-"+o+"-"+m.random()}if(t.oobClick&&!h&&(i=new Image,i.src=t.oobClick),"overtake"===t.openmode){t.position.loadEvent("AP_VISIT",{c3:"same_tab"});try{a&&(top.name=a)}catch(r){}top.location=t.uri}else if("newtab"===t.openmode){var n=window.open(t.uri,a?a:"_blank");if(n)m.lastPopupSuccess=!0;else if(t.position.loadEvent("POPUP_BLOCK"),e.piximedia&&e.piximedia.pam&&e.piximedia.pam.debugcollect&&!m.debugCollectCalled&&(e.piximedia.pam.debugcollect(),m.debugCollectCalled=!0),m.lastPopupSuccess===!0)return;t.onclear=function(){m.fireEvent("pm-navigation-end")},m.startNavigationTrackingForBrowser(t,!n)}else{if(!d.pixiCSSLoaded)return setTimeout(x,100);if(_=!1,C)try{C.pushState({},d.title,"")}catch(r){}"safari"===m.browser.name&&(b.style.transform="translateZ(0.01px)","desktop"===m.device.name&&(b.querySelector("#pm-browser-iframe").style.overflowY="hidden"));var s=function(){if(h)b.querySelector("#pm-browser-iframe iframe").style.opacity=1;else{b.querySelector("#pm-browser-iframe").innerHTML="";var e,i={dontEnforceSSL:!0,framedPosition:t.position},o=m.handleAsset({width:"100%",height:"100%",file:t.uri},b.querySelector("#pm-browser-iframe"),"pm-browser-frame","",i);o.scrolling="auto",o.name=a||"piximedia-frame",o.setAttribute("allowfullscreen",!0),t.disableIframeSandboxing||y&&y.options&&y.options.disableIframeSandboxing||o.setAttribute("sandbox","allow-forms allow-pointer-lock allow-popups allow-scripts allow-same-origin"),t.minimizePageToCompanion||(o.style.opacity=0,o.style.background="#FFFFFF",m.animate(o,{opacity:1}).play()),o.addEventListener("load",function(){t.position.loadEvent("AP_NAVIGATION"),setTimeout(function(){o.contentWindow.length||t.position.loadEvent("PANIC",{fail_reason:"IFRAME_FAILED"})},500)}),e=d.createElement("textarea"),e.id="pm-browser-focus-grabber",b.appendChild(e);var r="disabled";if(y&&y.options&&y.options.interactionTracker&&(r=y.options.interactionTracker),"disabled"!==r)switch(r){case"first":e.focus(),m.addEvent(e,"blur",function(){t.position.loadEvent("AP_INTERACT")})}A()}b.querySelector("#pm-browser-title")&&(b.querySelector("#pm-browser-title").style.display="block"),w=m.startNavigationTrackingForBrowser(t),m.currentBrowserIframe=b.querySelector("#pm-browser-iframe iframe")};if(h||(t.minimizePageToCompanion?d.body.insertBefore(b,d.body.firstChild):t.root.appendChild(b)),t.minimizePageToCompanion){b.style.zIndex="auto",b.className="pm-do-not-minimize-to-companion",b.querySelector("#pm-browser-iframe").style.background="#EEE",b.querySelector("#pm-browser-header").style.top="0px",t.pageContainerClicktag=d.createElement("div"),t.pageContainerClicktag.className="pm-clicktag pm-do-not-minimize-to-companion",t.pageContainerClicktag.style.opacity=0;var l=d.createElement("div");l.innerHTML=m.gettext("fermer")+" x",l.className="pm-loader-toolbar";var c=d.createElement("div");c.innerHTML=m.gettext("revenir vers le site"),c.className="pm-loader pm-loader-box",c.style.top="222px",c.style.width="200px","safari"===m.browser.name&&(t.pageContainerClicktag.style.boxShadow="none",t.pageContainerClicktag.style.height="30px",t.pageContainerClicktag.style.top="calc(100vh - 30px)",t.pageContainerClicktag.style.transform="translateZ(0.01px)",c.style.top="0"),t.pageContainerClicktag.appendChild(l),t.pageContainerClicktag.appendChild(c),t.pageContainerClicktag.onclick=function(){I()},l.addEventListener("click",function(e){e.stopPropagation&&e.stopPropagation(),t.pageContainerClicktag.parentNode.removeChild(t.pageContainerClicktag),m.animate(b,{bottom:-390,oncompleted:function(){b.parentNode.removeChild(b),m.lastSession=null,t.timetracker.stop(),t.timetrackerIframe.stop()}}).play()}),d.body.appendChild(t.pageContainerClicktag),t.expandFromMarker?(t.expandFromMarker.style.opacity=1,m.animate(t.expandFromMarker,{opacity:0,duration:200,oncompleted:function(){t.expandFromMarker.parentNode.style.display="none",m.minimizePageToCompanion()}}).play(),b.style.opacity=0,setTimeout(function(){b.style.display="block",m.animate(b,{opacity:1,duration:900}).play()},0)):m.minimizePageToCompanion()}"mobile"===m.device.name&&2===p&&(b.style.left=2*m.getViewportSize()[0]),setTimeout(function(){if(void 0!==t.animatr&&(b.style.width=t.animatr),"mobile"===m.device.name&&1===p){var e=function(){return Math.min(.3*m.getViewportSize()[1],m.getViewportSize()[0]/1.77)};b.style.height=(t.halfSizedBrowser?700:e()+50)+"px",b.style.top=m.getViewportSize()[1]-e()+"px"}if(t.overlay&&t.overlay.show(),t.prehome&&(!h||t.prehome.alwaysDisplay)){var i;m.each(m.w.piximedia,function(e){e.match&&e.match(/^pmData/)&&t.framedAd&&m.w.piximedia[e].creativeIdAlliance&&m.w.piximedia[e].creativeIdAlliance===(t.framedAd.creative_id||t.framedAd.creativeId)&&(i=m.w.piximedia[e])});var a={width:"60%",height:"60%",align:"MM",overlay:!1,closeOnEnd:!0};t.prehome.originalWidth?t.prehome.width=t.prehome.originalWidth:t.prehome.originalWidth=t.prehome.width,t.prehome.originalHeight?t.prehome.height=t.prehome.originalHeight:t.prehome.originalHeight=t.prehome.height;var o=d.createElement("div");o.className="pm-browser-prehome",b.appendChild(o),m.extend(t.prehome,a);var r,n=function(){t.prehome.overlay&&t.prehome.overlay.hide&&t.prehome.overlay.hide(),m.animate(o,{opacity:0,oncompleted:function(){o.style.display="none",setTimeout(function(){o.parentNode.removeChild(o)},250)}}).play(),"html"===m.getFileType(r.main.file)&&r.objects.main.contentWindow&&r.objects.main.contentWindow.postMessage({event:"closingPrehome"},"*")},l="contents",c=t.framedAd.queryAssets(".asset_id="+t.prehome.file.id);if(c[0]&&c[0].uri&&(l=m.getFileType(c[0].uri)),c[0].metadata&&c[0].metadata.vastWrapperStack&&c[0].metadata.vastWrapperStack[0]&&"IntegralAds"===c[0].metadata.vastWrapperStack[0].adSystem&&(l="video",t.prehome.width="60%"),"video"===l){var f=t.prehome.width,v=t.prehome.align,w=function(){"mobile"===m.device.name?t.prehome.width=m.getViewportSize()[0]:t.prehome.width=parseInt(m.getViewportSize()[0]*(parseInt(f,10)/100),10);var e=16/9;if("video"===l&&c[0].metadata){var i="string"==typeof c[0].metadata?m.w.JSON.parse(c[0].metadata):c[0].metadata;e=i.width/i.height}t.prehome.height=parseInt(t.prehome.width/e,10),t.prehome.height>m.getViewportSize()[1]-50?(t.prehome.height=m.getViewportSize()[1]-50,t.prehome.width=1.77*t.prehome.height,t.prehome.align="TM"):t.prehome.align=v};m.onResize(m.w,w),w()}t.overridePositionId="prehome",t.dontSendImpression=!0,t.prehome.preventScaling=!0,t.prehome.loop=!1,t.prehome.catchPiximediaClick=!0,t.prehome.controls={type:"full"},t.prehome.gyro&&"normal"!==t.prehome.gyro&&(t.prehome.controls=!1,t.prehome.gyroscopeInteractive=!0,t.prehome.gyroscopeTouchInteractive=!0,t.prehome.width=m.getViewportSize()[0],t.prehome.height=m.getViewportSize()[1]-50,t.prehome.disableClosebutton=!0,t.prehome.align="TL",t.prehome.stickToBorder=!0),o.style.opacity=0;var x=function(){o.style.width=t.prehome.width+"px",o.style.height=t.prehome.height+"px";var e="0",i="0";switch(t.prehome.align.toUpperCase()[0]){case"T":o.style.top="50px";break;case"M":o.style.top="50%",i="-50%";break;case"B":o.style.bottom="0px"}switch(t.prehome.align.toUpperCase()[1]){case"L":o.style.left=t.prehome.stickToBorder?"0px":"10px";break;case"M":o.style.left="50%",e="-50%";break;case"R":o.style.right=t.prehome.stickToBorder?"0px":"10px"}o.style.webkitTransform="translate("+e+", "+i+")",o.style.transform="translate("+e+", "+i+")"};if(m.onResize(m.w,function(){setTimeout(function(){x()},0)}),x(),!t.prehome.disableClosebutton){var S=d.createElement("div"),k=d.createElement("span");S.appendChild(k),S.className="pm-closebutton pm-actionbutton",k.className="pm-icon",m.addEvent(S,"click",function(){n()}),o.appendChild(S)}t.prehome.overlay&&(t.prehome.overlay=m.addOverlay({root:b,css:{background:t.prehome.overlay.color,opacity:t.prehome.overlay.opacity,top:"50px",zIndex:1},onclick:function(){n()},fade:!0}),t.prehome.overlay.show(),m.bindEvent("prehome-redirection",function(){n()})),t.prehome.width="100%",t.prehome.height="100%",t.prehome.closebutton=!1,t.creativeIdAlliance=i.creativeIdAlliance,t.adIdAlliance=i.adIdAlliance,t.clickUrl=i.clickUrl,t.wrapper=d.createElement("div"),t.wrapper.className="pm-browser-prehome-content",t.prehome.disableClosebutton||(t.wrapper.className+=" pm-browser-prehome-content-has-closebutton"),o.appendChild(t.wrapper),r=new m.w.piximedia.Decoratr({data:t}),r.decorate(),r.onclick=function(){n()},r.objects&&r.objects.main&&r.objects.main.play&&r.objects.main.play(),m.animate(o,{opacity:1}).play(),t.prehome.closeOnEnd&&m.bindEvent("prehomeMessageEnded",function(){n()})}var P=function(){if(m.browserInstanceId===u){if(t.useNewToolbar){var e=new m.Toolbar({root:m.getDocument(t.root).querySelector("#pm-browser-header"),popinRoot:t.popinRoot?t.popinRoot:m.d.body,animate:!0,uri:g,cleanUri:y.uri||g,metadata:y.metadata||t.metadata,position:t.position,disableSocial:t.disableSocial,closeImmediately:t.closeImmediately,framedAd:t.framedAd,onclose:function(){I()},ontitleclick:function(){t.openmode="newtab",t.dontChangeUri=!0,A();var e=new m.Browser(t);e.open()}});e.jshint=1}else h||t.title&&m.onResize(m.w,function(){var e=m.getViewportSize()[0]-(m.gbcr(b.querySelector("#pm-browser-close")).width+12),i=m.getTextWidth(t.title.toUpperCase(),"bold 12px Arial"),a=e/i;b.querySelector("#pm-browser-title span").innerHTML=m.shorten(t.title,t.title.length*a),500>e?b.querySelector("#pm-browser-title").className="pm-browser-title-left":b.querySelector("#pm-browser-title").className=""});s()}};t.minimizePageToCompanion?(t.pageContainerClicktag&&m.animate(t.pageContainerClicktag,{opacity:1}).play(),P()):setTimeout(function(){b.style.display="block",m.animate(b,{opacity:1,oncompleted:function(){P()}}).play()},0)},t.minimizePageToCompanion?1e3:0),t.timetracker?t.timetracker.resume():(t.timetracker=m.setTimer("OUVERTURE",function(e,i){t.position.loadEvent("TIMETRACKER::"+e,{duration:i})}),t.timetrackerIframe=m.setTimer("OUVERTURE:IFRAME",function(e,i){t.position.loadEvent("TIMETRACKER::"+e,{duration:i})}),t.timetracker.start(),t.timetrackerIframe.start()),m.browserOpen=!0,d.body.classList.add("overflow"),"mobile"!==m.device.name||0!==p&&1!==p&&2!==p||d.body.classList.remove("overflow"),A()}t.exposureTime||h||m.sendKpiPixels(t.kpiPixels),m.fireEvent("pm-navigation-start")},t.useNewToolbar||(m.addEvent(b.querySelector("#pm-browser-facebook"),"click",i),m.addEvent(b.querySelector("#pm-browser-twitter"),"click",a),m.addEvent(b.querySelector("#pm-browser-close"),"click",o),m.addEvent(b.querySelector("#pm-browser-title span"),"click",r),m.addEvent(b.querySelector("#pm-browser-title span"),"mouseover",n),m.addEvent(b.querySelector("#pm-browser-title span"),"mouseout",s),t.disableSocial&&(b.querySelector("#pm-browser-facebook").style.display="none",b.querySelector("#pm-browser-twitter").style.display="none")),m.addEvent(m.w,"popstate",k),{open:x,close:function(){I(!0)}}},sendKpiPixels:function(e){e&&""!==e&&e.length>0&&("string"==typeof e?m.PixelPrinter(e):m.each(e,function(){m.PixelPrinter(this.toString())}))},startNavigationTrackingForBrowser:function(e,t){var i=function(t){return"NAV"===t?"newtab"===e.openmode?"AP_NEW_TAB_NAV_":"AP_NAV_":"VISIT"===t?"newtab"===e.openmode?"AP_VISIT_NEW_TAB":"AP_VISIT":void 0};e.timer=e.previousTimer||0;var a,o=[3,5,10,15,20,30],r=!0,n=setInterval(function(){e.timer++,-1!==o.indexOf(e.timer)&&e.position.loadEvent((t?"PB:":"")+i("NAV")+e.timer),e.exposureTime&&e.exposureTime===e.timer&&(e.position.loadEvent((t?"PB:":"")+"CLICK"),m.sendKpiPixels(e.kpiPixels))},1e3);return setTimeout(function(){r=!1},5e3),a=function(){r&&e.position.loadEvent("AP_REBOUND"),clearInterval(n),"newtab"===e.openmode&&(m.removeEvent(m.w,"focus",a),m.removeEvent(m.w,"focusin",a),m.removeEvent(m.w,"mousemove",a)),m.call(e.onclear)},"newtab"===e.openmode&&(m.addEvent(m.w,"focus",a),m.addEvent(m.w,"focusin",a),m.addEvent(m.w,"mousemove",a)),e.exposureTime||e.timer||e.position.loadEvent((t?"PB:":"")+i("VISIT"),{c5:e.c5||"",c3:e.redirectOrigin||"main"}),{clear:a}},startViewTracking:function(t){var i={isVisible:!1,position:t.position?t.position.positionId:""};if(!e.piximedia["view_"+t.adIdAlliance]){if(e.piximedia["view_"+t.adIdAlliance]={viewableMetrics:{1:!0,2:!0,5:!0,10:!0,20:!0,30:!0,40:!0},\nviewableMetricsQuartile:{},viewableCount:0,kpiCount:0,items:[],interval:!1},t.viewableMetricsCustom){var a=t.viewableMetricsCustom;for(var o in a)a.hasOwnProperty(o)&&(e.piximedia["view_"+t.adIdAlliance].viewableMetrics[o]=a[o])}if(t.viewableMetricsQuartile){var r=t.viewableMetricsQuartile,n=[0,.25,.5,.75,1];r=parseInt(r,10),n.forEach(function(i){var a=Math.round(r*i);0===a&&(a=1),e.piximedia["view_"+t.adIdAlliance].viewableMetricsQuartile[a]=100*i+"P"})}}return e.piximedia["view_"+t.adIdAlliance].items||(e.piximedia["view_"+t.adIdAlliance].items=[]),e.piximedia["view_"+t.adIdAlliance].items.push(i),e.piximedia["view_"+t.adIdAlliance].interval||(e.piximedia["view_"+t.adIdAlliance].interval=setInterval(function(){var i=e.piximedia["view_"+t.adIdAlliance],a=[],o=function(){var i=0;return m.each(e.piximedia["view_"+t.adIdAlliance].items,function(){this.isVisible&&(i++,this.position&&a.push(this.position))}),!!i}(),n=t.framedAd&&t.framedAd.args&&t.framedAd.args.bannedPositionForCPMView?t.framedAd.args.bannedPositionForCPMView:[];o&&(i.viewableCount++,JSON.stringify(n.sort())!==JSON.stringify(a.sort())&&i.kpiCount++),i.viewableMetrics[i.viewableCount]&&(i.viewableMetrics[i.viewableCount]=!1,t.framedAd.loadEventOnce("AP_VIEWABLE_GLOBAL:"+i.viewableCount+"S")),t.viewableMetricsQuartile&&i.viewableMetricsQuartile[i.viewableCount]&&t.framedAd.loadEventOnce("AP_VIEWABLE_GLOBAL:"+i.viewableMetricsQuartile[i.viewableCount],{c5:r}),"cpm"===t.saleMode&&t.minExposureTime>0&&(i.kpiCount!==t.minExposureTime||i.clickSent||(i.clickSent=!0,t.position.loadEvent("CLICK",{c5:"cpmview"}),m.sendKpiPixels(t.kpiPixels)))},1e3)),i},startNavigationTracking:function(e){e.positionId&&(e.framedPosition=window.piximedia.pam.positions["1x1"]);var t,i=[3,5,10,15,20,30],a=!0,o=0,r=setInterval(function(){o++,-1!==i.indexOf(o)&&m.track(e,"AP_NEW_TAB_NAV_"+o)},1e3);setTimeout(function(){a=!1},5e3),t=function(){a&&m.track(e,"AP_REBOUND"),clearInterval(r),m.removeEvent(m.w,"focus",t),m.removeEvent(m.w,"focusin",t),m.removeEvent(m.w,"mousemove",t)},m.addEvent(m.w,"focus",t),m.addEvent(m.w,"focusin",t),m.addEvent(m.w,"mousemove",t),m.track(e,"AP_VISIT_NEW_TAB")},setTimer:function(e,t){function i(){r||(r=!0,m.call(t,[e,o])),clearInterval(a),m.removeEvent(window,"beforeunload",i),m.removeEvent(window,"unload",i)}var a,o=0,r=!1,n=!1;return m.addEvent(window,"beforeunload",i),m.addEvent(window,"unload",i),{start:function(){a=setInterval(function(){m.pageActive&&!n&&o++},1e3)},pause:function(){n=!0},resume:function(){n=!1},stop:function(){i()},getTime:function(){return o}}},setObjectTimer:function(e,t,i){function a(){n||(n=!0,m.call(i,[e,r])),clearInterval(o),m.removeEvent(window,"beforeunload",a),m.removeEvent(window,"unload",a)}var o,r=0,n=!1,s=!1;return m.addEvent(window,"beforeunload",a),m.addEvent(window,"unload",a),m.bindVisibilityTracker({object:t}),{start:function(){o=setInterval(function(){t.isVisible&&!s&&r++},1e3)},pause:function(){s=!0},resume:function(){s=!1},stop:function(){a()}}},cookie:{set:function(e,t,i){var a=i||1,o=new Date,r=o.getTime()+864e5*parseInt(a,10);r=new Date(r),document.cookie=e+"="+t+(a?";expires="+r.toGMTString():"")+";path=/"},get:function(e){var t=document.cookie.split(";"),i="",a="",o="",r=!1;return m.each(t,function(){return i=this.split("="),a=i[0].replace(/^\\s+|\\s+$/g,""),a===e?(r=!0,i.length>1&&(o=window.unescape(i[1].replace(/^\\s+|\\s+$/g,""))),o):(i=null,void(a=""))}),r?o:null}},supportFullScreen:function(e){var t=e||m.d;return t.documentElement.requestFullscreen||t.documentElement.msRequestFullscreen||t.documentElement.mozRequestFullScreen||t.documentElement.webkitRequestFullscreen||!1},toggleFullScreen:function(e,t){var i=t||m.d;if(i.fullscreenElement||i.mozFullScreenElement||i.webkitFullscreenElement||i.msFullscreenElement)i.exitFullscreen?i.exitFullscreen():i.msExitFullscreen?i.msExitFullscreen():i.mozCancelFullScreen?i.mozCancelFullScreen():i.webkitExitFullscreen&&i.webkitExitFullscreen();else{if(!e)return;e.requestFullscreen?e.requestFullscreen():e.msRequestFullscreen?e.msRequestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullscreen&&e.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT)}},hasUnit:function(e){return parseInt(e,10).toString()!==e.toString()},getUnit:function(e,t){var i="px";return"number"==typeof e||parseFloat(e,10)===e?t?!1:i:e.replace(/^(\\-|[0-9]|\\.)+/i,"")},animate:function(e,t){function i(i){l.clear();var a=!1;if(null!==t.zindex&&m.applyStyle(e,{zIndex:t.zindex}),t.css){var o={},r=function(o){a||(a=!0,setTimeout(function(){a=!1},200),m.removeEvent(e,m.getPrefixedEvent("transitionend"),r),m.deleteCssRule("transition-marker-"+f,!0),l.clear=function(){},setTimeout(function(){m.call(t.onplayed),m.call(t.oncompleted),m.call(i),o||m.call(t.onchange)},0))};m.addEvent(e,m.getPrefixedEvent("transitionend"),r),l.clear=function(){m.removeEvent(e,m.getPrefixedEvent("transitionend"),r)};var n=!0;m.each(d,function(t){var i=d[t];i.hack?(i.getHack(e,i.rule).toString()!==i.end.toString()&&(n=!1),i.hack(e,i.end+i.unit)):(m.getPropertyValue(e,i.rule).toString()!==(i.end+i.unit).toString()&&(n=!1),o[i.rule]=i.end+i.unit)}),n?r(!0):(m.applyStyle(e,o),0===t.duration&&r(!0))}else{u=u?d[0].length-u:0;var s=setInterval(function(){m.each(d,function(t){var i=d[t],a={};a[i.rule]=i.play_array[u]+i.unit,m.applyStyle(e,a),d[t].hack&&d[t].hack(e,i.play_array[u]+i.unit)}),u++,u===d[0].length&&(clearInterval(s),a||(a=!0,setTimeout(function(){a=!1,u=0},200),m.call(t.onplayed),m.call(t.oncompleted),m.call(i),l.clear=function(){}))},h);l.clear=function(){clearInterval(s)}}}function a(i){l.clear();var a=!1;if(t.css){var o={},r=function(o){a||(a=!0,setTimeout(function(){a=!1},200),m.removeEvent(e,m.getPrefixedEvent("transitionend"),r),m.deleteCssRule("transition-marker-"+f,!0),l.clear=function(){},setTimeout(function(){m.call(t.onreversed),m.call(t.oncompleted),m.call(i),o||m.call(t.onchange)},0))};m.addEvent(e,m.getPrefixedEvent("transitionend"),r),m.each(d,function(t){var i=d[t];i.hack?i.hack(e,i.start+i.unit):o[i.rule]=i.start+i.unit}),l.clear=function(){m.removeEvent(e,m.getPrefixedEvent("transitionend"),r)},m.applyStyle(e,o)}else{u=u?d[0].length-u:0;var n=setInterval(function(){m.each(d,function(t){var i=d[t],a={};a[i.rule]=i.reverse_array[u]+i.unit,m.applyStyle(e,a),d[t].hack&&d[t].hack(e,i.reverse_array[u]+i.unit)}),u++,u===d[0].length&&(clearInterval(n),a||(a=!0,setTimeout(function(){a=!1,u=0},200),m.call(t.onreversed),m.call(t.oncompleted),m.call(i),l.clear=function(){}))},h);l.clear=function(){clearInterval(n)}}}if(!e||!t)return m.warn("No object or no options provided"),{play:function(){},reverse:function(){}};if(!m.isInDOM(e))return m.warn("Object is not in DOM!"),{play:function(){},reverse:function(){}};m.log("New animation on :"),m.log(e),m.log("Options :"),m.log(t);var o,r,n,s,l={},d=[],c=e.id||"sweetlib-animate-id-"+m.random(),p=m.getDocument(e),u=0,h=t.framerate||10;if(l.play=i,l.reverse=a,l.options=t,l.properties=d,l.clear=function(){},o={forcejs:!1,nojs:!1,effect:"ease-in",css:!1,animateanyway:!1,zindex:null,oncompleted:function(){},onplayed:function(){},onreversed:function(){}},n=["forcejs","nojs","duration","effect","css","animateanyway","oncompleted","onplayed","onreversed","anchor","zindex"],s=["width","height","top","right","bottom","left"],r={opacity:{unit:"",hack:{set:function(e,t){"msie"===m.browser.name&&m.browser.version<=8?e.style.filter="alpha(opacity="+100*t+")":e.style.opacity=t},get:function(e){if("msie"===m.browser.name&&m.browser.version<=8)return m.getPropertyValue(e,"filter")&&m.getPropertyValue(e,"filter").match(/opacity=([0-9]+)/i)?parseInt(m.getPropertyValue(e,"filter").match(/opacity=([0-9]+)/i)[1],10)/100:1;var t=m.getPropertyValue(e,"opacity");return void 0===t||""===t?1:t}}},transform:{unit:"",hack:{set:function(e,t){e.style[m.getPrefixedProperty("transform")]=t},get:function(e,t){var i=m.getPropertyValue(e,m.getPrefixedProperty("transform"));if(!i||"none"===i){var a=t.match(/^[a-z]+\\((.*?)\\)/i)[1];i=t.replace(a,"0")}return i}}},zIndex:{unit:""},zoom:{unit:""}},m.extend(t,o),"undefined"==typeof t.duration&&(t.duration=500),e.SweetLibAnimate)e.SweetLibAnimate.clear();else if(t.anchor)switch(e.parentNode.style.width=m.gbcr(e).width+"px",e.parentNode.style.height=m.gbcr(e).height+"px",e.style.position="absolute",t.anchor){case"TR":e.style.right="0",e.style.top="0"}e.SweetLibAnimate=l,(m.canUseCSS3()&&!t.forcejs||t.nojs)&&(t.css=!0),e.id||(e.id=c),m.each(t,function(i){if(!m.exist(i,n)){var a,o,l,c,p=t[i],u="",h=!1;if("string"==typeof p?(p.match(/^(\\+|\\-)=/i)?(u=p.match(/(^.*?)[0-9]/i)[1],l=p.replace(u,"")):p.match(/^[a-z]+\\(.*?\\)/i)?(l=p,h=!0):l=p,h||(parseFloat(l,10).toString()!==l&&(c=m.getUnit(l)),l=parseFloat(l,10))):l=p,o=r[i]&&r[i].hack&&r[i].hack.get?r[i].hack.get(e,t[i]):parseFloat(m.getPropertyValue(e,i),10),!isNaN(o)||r[i]&&r[i].hack&&r[i].hack.get||(o="auto"===m.getPropertyValue(e,i)&&m.exist(i,s)?m.gbcr(e)[i]:0),a={rule:i,rawvalue:t[i],start:o,end:u?"+="===u?o+l:"-="===u?o-l:l:l,unit:c?c:r[i]?r[i].unit:"px",hack:r[i]&&r[i].hack&&r[i].hack.set?r[i].hack.set:!1,getHack:r[i]&&r[i].hack&&r[i].hack.get?r[i].hack.get:!1,duration:t.duration,effect:t.effect},"%"===a.unit){var f=e.parentNode===m.d.body,v=f&&-1!==["width","height"].indexOf(i)?m.getViewportSize()["width"===i?0:1]:m.gbcr(e)[i];a.start===m.gbcr(e)[i]&&(a.start=parseInt(m.gbcr(e)[i]/v*1e5,10)/1e3)}d.push(a)}});var f=m.now();if(t.css){var v=[];m.each(d,function(t){var i=d[t],a=m.getPrefixedProperty(m.dasherize(i.rule));v.push(a+" "+i.duration/1e3+"s "+i.effect),e.style[a]=i.start+i.unit}),v=v.join(",")+" !important;";var g=m.getPropertyValue(e,"transition")||"",b=m.getPropertyValue(e,"-ms-transition")||"";g.match(/all /)&&(g=""),b.match(/all /)&&(b=""),g.match(/[a-z]/)&&(g+=", "),b.match(/[a-z]/)&&(b+=", "),m.createCSS("#"+e.id+", transition-marker-"+f,"transition : "+g+" "+v,p),m.createCSS("#"+e.id+", transition-marker-"+f,"-ms-transition : "+b+" "+v,p)}else m.each(d,function(e){d[e].play_array=[],d[e].reverse_array=[];for(var t=parseInt(d[e].duration/h,10),i=(d[e].end-d[e].start)/t,a=d[e].start,o=d[e].end,r=0;t>=r;r++)r===t-1?(d[e].play_array.push(o),d[e].reverse_array.push(a)):(d[e].play_array.push(a+i*r),d[e].reverse_array.push(o-i*r));d[e].length=t});return l},parseCSSInt:function(e){switch(e){case"auto":case"inherit":return 0;case"thin":return 1;case"medium":return 3;case"thick":return 5;default:return e?parseInt(e,10):0}},hasGluedText:function(e,t){t||(t=0);var i,a,o,r,n,s=e.getClientRects();if(!s)return!1;for(n=0;n<s.length;n++)(void 0===i||s[n].left<i)&&(i=s[n].left),(void 0===a||s[n].top<a)&&(a=s[n].top),(void 0===o||s[n].bottom>o)&&(o=s[n].bottom);r=o-a;var l=function(e){var o;try{if(e.innerHTML&&!e.innerHTML.match(/</)&&e.innerHTML.match(/\\S/)){var n=e.getClientRects();for(o=0;o<n.length;n++)if(n[o].right-n[o].left>0&&n[o].left>=i&&n[o].left-i<=t){var s;try{s=m.getPropertyValue(e,"padding-left")}catch(d){}if(n[o].left-i+m.parseCSSInt(s)<=t&&"center"!==m.getPropertyValue(e,"text-align"))return n[o].top}}else{var c,p;for(o=0;e.children&&e.children.length&&o<e.children.length;o++){var u=e.children[o],h=m.gbcrfp(u);if(h.left>=i){var f=l(e.children[o]);f&&(!p||p>f)&&(p=f,c=u)}}if(p){var v=p-a;return.9*r>v}}return!1}catch(d){}};return l(e)},getInheritedBackground:function(e){var t=m.getPropertyValue(e,"background"),i=!1;if(!e.ownerDocument.pmDefaultBackground){var a=e.ownerDocument.createElement("div");a.style.background="none",e.ownerDocument.body.appendChild(a),e.ownerDocument.pmDefaultBackground=m.getPropertyValue(a,"background"),e.ownerDocument.body.removeChild(a)}switch(t){case"auto":return"white";case"transparent":case"inherit":case"rgba(0, 0, 0, 0)":case"":i=!0;break;default:t===e.ownerDocument.pmDefaultBackground&&(i=!0)}return i?"HTML"===e.tagName?"white":m.getInheritedBackground(e.parentNode):t},getInheritedBackgroundColor:function(e){var t=m.getPropertyValue(e,"background-color");switch(t){case"auto":return"white";case"transparent":case"inherit":case"rgba(0, 0, 0, 0)":case"":return"HTML"===e.tagName?"white":m.getInheritedBackgroundColor(e.parentNode);default:return t}},hardenWidthOfPageContainer:function(e,t){e.pmNodesWithHardenedWidth=[];for(var i=m.getAllFlowedSiblings(e),a=e.ownerDocument.pmPagecontainerHints,o="pc-only"===a["harden-width-of"],r=0;r<i.length;r++){var n=i[r];if(!o||n===e){var s=m.gbcr(n);if(!r||s.width>t){if(m.isWidthInPercentage(n)){var l=m.getPropertyValue(n,"left"),d=m.getPropertyValue(n,"margin-left"),c=m.getPropertyValue(n,"margin-right");"auto"!==l&&"0px"!==l||"0px"!==d||"0px"!==c||(n.style.margin="0 auto")}if("content-box"===m.getPropertyValue(n,"box-sizing")){var p=parseFloat(m.getPropertyValue(n,"padding-left")||0,10),u=parseFloat(m.getPropertyValue(n,"padding-right")||0,10);p>0&&(t-=p),u>0&&(t-=u)}n.style.width=t+"px",n.style.maxWidth=t+"px",e.pmNodesWithHardenedWidth.push(n)}}}if("mobile"===m.device.name){for(var h,f,v=e.ownerDocument,g=v.getElementsByTagName("meta"),b=0;b<g.length;b++)if(f=g[b],"viewport"===f.name){h=!0;break}if(!h){f=v.createElement("meta"),f.name="viewport",f.content="width="+t;var y=v.getElementsByTagName("head")[0];y&&y.appendChild(f)}}},getPositionFixedHeaders:function(e,t){e=e||m.d,t=t||{};var i=!!t.force,a=[],o=t.hints||m.getPageContainerHints()||{};if(o&&"object"==typeof o.fixedHeaders&&m.each(o.fixedHeaders,function(e){m.d.querySelector(o.fixedHeaders[e])&&a.push(m.d.querySelector(o.fixedHeaders[e]))}),i){if(e._pmPositionFixedHeadersForcedAt){var r=Date.now()-e._pmPositionFixedHeadersForcedAt;if(200>r)return e._pmPositionFixedHeadersForcedData}}else if(e._pmPositionFixedHeaders)return e._pmPositionFixedHeaders;var n,s,l,d=m.getViewportSize(),c=0,p=m.getPageScroll(),u=p[0];do{n=!1;for(var h=0;h<m.blockContentTagNames.length;h++)for(var f=e.getElementsByTagName(m.blockContentTagNames[h]),v=0;v<f.length;v++){var g=f[v],b=m.gbcr(g);if(!(b.right<=0||b.bottom<=0)&&"0px"!==m.getPropertyValue(g,"bottom")){var y=m.getPropertyValue(g,"top"),w=m.getPropertyValue(g,"position");if(b.left+=u,b.right+=u,("fixed"===w||(w=m.getPropertyValue(g.parentNode,"position"),"fixed"===w))&&("auto"===y&&0===b.top&&(y=0),b.width>300&&0!==b.height&&b.height<500&&Math.round(b.height)!==d[1])){var x,I,S=parseInt(b.bottom,10);if(void 0!==l&&Math.abs(l-parseInt(y,10))<1&&S>c?(x=s,I=!0):(x=c,I=!1),!y||Math.abs(b.top-x)<=4&&Math.abs(parseInt(y,10)-x)<=4){if(!m.isVisible(g))continue;try{if("auto"===y)continue;if(g.className.match(/pmContainer|oPmTV_sticker|pmMarkerContainer/))continue;if("clickable"===g.id)continue;S>x&&(s=c,l=y,c=S,n=!0),I?a[a.length-1]=g:a.push(g)}catch(k){}}}}}}while(n);var P;if(e.pmPageContainerSL&&(P=m.getPageContainerWidth(e.pmPageContainerSL))){for(var C=!1,_=[],A=0;A<a.length;A++)m.gbcr(a[A]).width>P&&(C=!0,_.push(a[A]));C&&(a=_)}return i?(e._pmPositionFixedHeadersForcedAt=Date.now(),e._pmPositionFixedHeadersForcedData=a):e._pmPositionFixedHeaders=a,a},getHeightOfPositionFixedHeaders:function(e,t,i){var a=m.getPositionFixedHeaders(e,i);if(i=i||{},a&&a.length){var o=0,r=0;t&&(r=m.gbcr(t).top),i.fillerHeight&&(r-=i.fillerHeight);for(var n,s,l=0;l<a.length;l++){var d=m.gbcr(a[l]);d.height&&((void 0===n||d.top<n)&&(n=d.top),(void 0===s||d.bottom>s)&&(s=d.bottom)),d.top>=r&&(o+=d.height)}return void 0!==n&&void 0!==s?s-n:o}},preventMarginCollapse:function(e,t){if(!e.pmPreventedMarginCollapse){var i=e.ownerDocument.createElement("div");return e.pmPreventedMarginCollapse=i,i.style.display="block",i.style.padding="0.1px 0 0 0",i.style.margin="-0.1px 0 0 0",i.style.border="none",i.className="pmPreventMarginCollapse",e.insertBefore(i,t||e.firstChild),i}},isWidthInPercentage:function(e){if(!e.parentNode)return!1;var t=m.gbcr(e.parentNode),i=e.parentNode.style.width,a=m.getPropertyValue(e,"width");e.parentNode.style.width=t.width+2+"px";var o=m.getPropertyValue(e,"width");e.parentNode.style.width=i,e.parentNode.style.width=t.width-2+"px";var r=m.getPropertyValue(e,"width");return e.parentNode.style.width=i,a!==o&&a!==r},fixPageContainerForWallpaper:function u(e){if(e){e.id||(e.id="pmPageContainer");var t=e.ownerDocument.pmPagecontainerHints||m.getPageContainerHints()||{},i=t["enable-fix-pc-static"]===!1?!1:!0;if(t.cssFixForPageContainerAndWallpaper&&m.applyStyle(e,t.cssFixForPageContainerAndWallpaper),t.css&&m.createCSSs(t.css),t.className&&"object"==typeof t.className&&m.each(t.className,function(e){var i=m.d.querySelectorAll(e);i&&m.each(i,function(){m.addClass(this,t.className[e])})}),!t.noDefaultFixPageContainerForWallpaper){u.store=u.store||{};var a=u.store[e.id]=u.store[e.id]||{},o=m.getPropertyValue(e,"left");if(("0px"===o||"0"===o||"auto"===o)&&(o=0),e&&!o){var r;if("object"==typeof t.width&&t.width.query)r=a.pageContainerOriginalWidth=m.getPageContainerWidth(e);else if(a.pageContainerOriginalWidth)r=a.pageContainerOriginalWidth;else if(e.pmPCWidth)r=a.pageContainerOriginalWidth=e.pmPCWidth;else{if(r=m.getPageContainerWidth(e),m.hasGluedText(e)){m.log("Text is glued to the PC, can we add some bonus?"),r+=m.pcBonusWidthWhenGluedText;var n=e.style.width;e.style.width=r+"px",m.hasGluedText(e)&&(m.log("We cannot enlarge the PC, maybe we can add some padding, though"),r-=m.pcBonusWidthWhenGluedText,e.style.width=n,e.style.paddingLeft=m.parseCSSInt(m.getPropertyValue(e,"padding-left"))+m.pcBonusWidthWhenGluedText/2+"px",e.style.paddingRight=m.parseCSSInt(m.getPropertyValue(e,"padding-right"))+m.pcBonusWidthWhenGluedText/2+"px")}try{var s=m.gbcrfp(e.parentNode),l=m.parseCSSInt(m.getPropertyValue(e.parentNode,"padding-left")),d=m.parseCSSInt(m.getPropertyValue(e.parentNode,"padding-right")),c=m.parseCSSInt(m.getPropertyValue(e,"border-left-width")),p=m.parseCSSInt(m.getPropertyValue(e,"border-right-width"));r-=c,r-=p;var h=s.width-l-d;if((r===h||r+c+p===h)&&m.isWidthInPercentage(e)&&m.isWidthInPercentage(e.parentNode)){var f=function(e){for(var t=null,i=0;e.children&&e.children.length&&i<e.children.length;i++){var a=e.children[i],o=m.gbcrfp(a),r=o.width,n=parseInt(m.getPropertyValue(a,"max-width"),10)||0;n&&n===Math.round(h)&&(t=Math.max(t,Math.min(h,n))),r>=h&&(r=f(a)),h>r&&r>t&&o.height>50&&(t=r)}return t},v=f(e);if(v){v>r&&(r=v);for(var g=!0,b=e.parentNode;b&&"BODY"!==b.tagName;b=b.parentNode)if(!m.isWidthInPercentage(b)){g=!1;break}g&&(r=v)}}a.pageContainerOriginalWidth=r}catch(y){}}e.style.position="relative",m.createCSS("#"+e.id,"position: relative !important",e.ownerDocument),r&&m.hardenWidthOfPageContainer(e,r);var w=m.getPropertyValue(e,"float"),x=m.getPropertyValue(e,"display");"left"===w||"right"===w||"inline-block"===x?(e.style.left="50%",e.style.marginLeft=-(r/2)+"px"):e.style.marginLeft=e.style.marginRight="auto",a.preventMarginCollapse||(a.preventMarginCollapse=m.preventMarginCollapse(e));for(var I=m.getAllFlowedSiblings(e),S=0;S<I.length;S++){var k=I[S];try{var P=m.getPropertyValue(k,"background-image");if(!P.match(/url/)){var C=m.getInheritedBackgroundColor(k);k.style.backgroundColor=C}}catch(y){}}var _=m.getPositionFixedHeaders(e.ownerDocument);if(_.length){var A=document.createElement("style");A.innerHTML=" .pm-nail-to-top { top: 0px; }",m.d.querySelector("head").insertBefore(A,m.d.querySelector("head").firstChild)}for(var T=0;T<_.length;T++){var y=_[T];try{var E=m.getPropertyValue(y,"top");E&&0!==parseInt(E,10)||(y.className+=" pm-nail-to-top")}catch(O){}}for(var N=!1,L=e.parentNode.children||[],M=!1,D=0;D<L.length;D++){var R=L[D];if(R!==e){if(M&&"static"===m.getPropertyValue(R,"position")){var F=m.gbcr(R);if(F.width>1&&F.height>1){N=!0;break}}}else M=!0}for(var q=[],j=0;j<I.length;j++){var B=I[j];if("static"===m.getPropertyValue(B,"position")){var z=m.gbcr(B);z.width>1&&z.height>1&&(N=!0,q.push(B))}}if(N){if("android"===m.device.os)for(var V=e.parentNode.children||[],U=0;U<V.length;U++){var W=V[U];"static"===m.getPropertyValue(W,"position")&&(W.className+=" pmFixPCChildStatic")}else"BODY"!==e.parentNode.tagName&&(i&&(e.parentNode.className+=" pmFixPCStatic"),m.createCSS(".pmFixPCStatic > *","transform: translateZ(0.001px)"),m.createCSS(".pmFixPCStatic > .pmBodyPosition","transform: none"));for(var H=0;H<q.length;H++)q[H].className+=" pmFixPCChildStatic";m.createCSS(".pmFixPCChildStatic","position: relative; float: none !important")}}m.fixSite(e)}}},getHeightOfNextSiblings:function(e){for(var t=0;e&&(e=e.nextSibling);)if(1===e.nodeType)switch(m.getPropertyValue(e,"position")){case"absolute":case"fixed":break;default:var i=m.gbcrfp(e);i.height&&(t+=i.height)}return t},getAllFlowedSiblings:function h(e,t){t=t||{};var i,a=function(e){var t=m.gbcrfp(e);if(!t.height)for(var i=0;e.children&&e.children.length&&i<e.children.length;i++){var a=e.children[i],o=m.gbcrfp(a);if(o.height)return o}return t},o=[e],r=a(e),n=r.bottom,s=r.width,l=m.isWidthInPercentage(e)||r.width===m.getViewportSize()[0],c=m.getViewportSize()[0],p=!1,u=e.pmPCHintedAbove;h.revision=h.revision||0;for(var f=h.revision++;;){var v=0;do{i=!1;e:for(var g=e.parentNode.firstChild;g;g=g.nextElementSibling||g.nextSibling)if(1===g.nodeType)switch(m.getPropertyValue(g,"position")){case"absolute":case"fixed":break;default:var b=a(g);if(l&&b.height&&b.width<s)break e;if(l&&b.height&&s===c&&b.width>s)break e;if(e.pmPCHintedAbove)b.top>=r.top+1&&o.push(g);else if(Math.abs(b.top-n)<.5&&b.height){if(p&&b.width-d>s)break e;if(g.pmGetAllFlowedSiblingsRevision!==f){g.pmGetAllFlowedSiblingsRevision=f,o.push(g),n=b.bottom,i=!0;break e}}}}while(i&&!u&&v++<300);if(i||u)break;if(t.lookupParent===!1)break;if(e=e.parentNode,p=!0,!e||"HTML"===e.tagName)break}return o},getAllFlowedSiblingsHeight:function(e){for(var t=m.getAllFlowedSiblings(e),i=0,a=0;a<t.length;a++)i+=m.gbcr(t[a]).height||0;return i},setBodyBackgroundColor:function(e){if(e=e||{},void 0!==e.color){for(var t=e.hints||m.getPageContainerHints()||{},i=(t.bodyBackgroundSelector||"body").split(","),a=[],o=m.d,r=0;r<i.length;r++)a.push("html.pmBodyBackground "+i[r]);null!==e.color?(m.createCSS(a.join(","),"background-color: "+e.color+" !important",o),o.body.parentNode.className.match("pmBodyBackground")||(o.body.parentNode.className+=" pmBodyBackground")):o.body.parentNode.className=o.body.parentNode.className.replace(/ pmBodyBackground/g,"")}},moveTopOfPageContainer:function f(e,t,i){if(e){e.id||(e.id="pmPageContainer"),i=i||{},f.store=f.store||{};var a=f.store[e.id]=f.store[e.id]||{};if(a.movedTopOfPageContainer=!0,a.oldPageContainerMetrics=a.oldPageContainerMetrics||{},!a.filler){var o=e.ownerDocument.getElementById("pmFiller");if(o)a.filler=o;else{var r=function(e,t){var i,a;t||(t=m.gbcr(e).top);for(var o=e.children||[],n=0;n<o.length;n++){var s=o[n];if("absolute"!==m.getPropertyValue(s,"position")){var l=parseFloat(m.getPropertyValue(s,"margin-top"),10),d=m.gbcr(s).top;if(Math.abs(d-l-t)<.5>0&&(!i||l>i)&&(i=l,a=s),s.children&&s.children.length){var c=r(s,t),p=c.marginTop;p>0&&(!i||p>i)&&(i=p,a=c.element)}}}return{marginTop:i,element:a}},n=r(e)||{},s=n.marginTop,l=n.element;a.filler=e.ownerDocument.createElement("span"),a.filler.id="pmFiller",a.filler.style.margin=0,a.filler.style.padding=0,a.filler.style.border="none",a.filler.style.display="block";var d=m.getOverflowYScroll(e),c=!d,p=m.getHeightOfPositionFixedHeaders(e.ownerDocument,e);s&&p>=s&&(c&&(a.filler.style.marginTop=s+"px"),l&&l.style&&(l.style.marginTop="0")),e.parentNode.insertBefore(a.filler,e);var u=m.gbcrfp(a.filler),h=u.top;if(p&&p>h){var v=parseInt(a.filler.style.marginTop,10)||0;if(c){a.filler.style.marginTop=v+(p-h)+"px";var g=m.gbcrfp(a.filler);g.top<p&&(a.filler.style.marginTop=v+"px")}}}}return i.duration?(void 0===a.filler.style.height&&(a.filler.style.height=0),m.animate(a.filler,{height:t+"px",duration:i.duration}).play()):a.filler.style.height=t+"px",a.filler.style.width=0,a.filler}},getVisiblePreviousSiblingUpwards:function(e){if(e||(e=this.getPageContainer())){var t=m.gbcrfp(e);if(t&&t.top){var i=function(e){if("BODY"===e.tagName)return void 0;for(var a=e.previousSibling;a;a=a.previousSibling)try{var o=m.gbcrfp(a),r=a.id&&(a.id.toString().match("ad")||a.id.toString().match("728x90")||a.className.match("728x90")),n=r&&o.height<20;if(o&&o.height&&!n&&o.width&&o.bottom>=0&&o.bottom<=t.top&&o.width>100)return a}catch(s){}return e=e.parentNode,"BODY"===e.tagName?void 0:i(e)};return i(e)}}},fixSite:function(e){if(m.log("Applying global fixes"),e){var t=e.ownerDocument;m.createCSS("body","margin: 0; width: 100% !important;",t);var i=m.gbcrfp(e),a=e.id;if(i.height){var o=m.parseCSSInt(m.getPropertyValue(e,"margin-top")),r=m.getVisiblePreviousSiblingUpwards(e),n=0;if(r){var s=m.gbcrfp(r);s&&(n=Math.max(0,i.top-s.bottom))}else n=i.top;n&&(a=e.id,a||(a="pmPageContainer",e.id=a),m.createCSS("body #"+a,"top: "+m.parseCSSInt(m.getPropertyValue(e,"top"))-n+"px",t),"static"===m.getPropertyValue(e,"position")&&m.createCSS("body #"+a,"position: relative",t),i.top-=n);var l,d=i.top,c=0,p=m.parseCSSInt(m.getPropertyValue(e,"margin-top")),u=m.parseCSSInt(m.getPropertyValue(e,"padding-top"));p>0&&(a||(a=e.id="pmPageContainer"),p-n>=0?m.hasGluedText(e)?(m.log("Merging page container margin-top: "+p+"px + paddingTop: "+u+"px"),m.createCSS("body #"+a,"margin-top: 0;	padding-top: "+(p+u)+"px !important",t)):(m.log("Dropping margin-top above page container: "+p+"px + paddingTop: "+u+"px"),m.createCSS("body #"+a,"margin-top: 0 !important",t)):n>0&&(m.log("Dropping margin-top above page container and below content: "+p+"px + paddingTop: "+u+"px"),m.createCSS("body #"+a,"margin-top: 0 !important",t)));for(var h=m.getPositionFixedHeaders(t),f=0;f<h.length;f++){var v=h[f];i=m.gbcrfp(v),i.height&&(c+=i.height)}if(d-o>=c){var g=m.getInheritedBackground(e),b=m.getInheritedBackground(e.parentNode);if(50>n&&g!==b)for(var y=m.gbcrfp(e).top,w=e.parentNode;"HTML"!==w.tagName&&m.gbcrfp(w).top===y;w=w.parentNode)if(parseInt(m.getPropertyValue(w,"margin-top"),10)===n){w.id||(w.id="pmPageContainerParentMarginZero"),m.createCSS("body #"+w.id,"margin-top: 0 !important",w.ownerDocument);break}}if(l=d-o,c>l){var x=c-l;l+=x}m.log("positionFixedHeaderHeight="+c),m.log("pageContainerTop="+d),m.log("pageContainerMarginTop="+o),m.log("setGoToTheTop="+l),l&&m.createCSS("body .pmGoToTheTop","top: "+l+"px !important;",t);var I=function(e){var t=m.gbcrfp(e);if(t.width&&t.height&&t.bottom<=d){m.log("Fixing background for header: ",e);var i=m.getInheritedBackgroundColor(e);e.style.backgroundColor=i}},S=function(e){for(var t=e.previousSibling;t;t=t.previousSibling)I(t);e.parentNode&&"HTML"!==e.parentNode.tagName&&S(e.parentNode)};S(e)}}},isInDOM:function(e){for(var t=e,i=0;100>i;i++,t=t.parentNode){if(!t.parentNode)return!1;if("HTML"===t.parentNode.tagName)return!0}},isVisible:function(e){var t=e.ownerDocument,i=function(e,i){return window.getComputedStyle?t.defaultView.getComputedStyle(e,null)[i]:e.currentStyle?e.currentStyle[i]:void 0},a=function(e){for(;e=e.parentNode;)if(e===t)return!0;return!1},o=function(e,t,r,n,s,l,d){var c=e.parentNode,p=2;return a(e)?9===c.nodeType?!0:"0"===i(e,"opacity")||"none"===i(e,"display")||"hidden"===i(e,"visibility")?!1:(("undefined"==typeof t||"undefined"==typeof r||"undefined"==typeof n||"undefined"==typeof s||"undefined"==typeof l||"undefined"==typeof d)&&(t=e.offsetTop,s=e.offsetLeft,n=t+e.offsetHeight,r=s+e.offsetWidth,l=e.offsetWidth,d=e.offsetHeight),c?"hidden"!==i(c,"overflow")&&"scroll"!==i(c,"overflow")||"BODY"===c.nodeName||!(s+p>c.offsetWidth+c.scrollLeft||s+l-p<c.scrollLeft||t+p>c.offsetHeight+c.scrollTop||t+d-p<c.scrollTop)?(e.offsetParent===c&&(s+=c.offsetLeft,t+=c.offsetTop),o(c,t,r,n,s,l,d)):!1:!0):!1};return o(e)},breakOverflow:function(e,t){m.breakOverflowCalledOnce||(m.breakOverflowCalledOnce=!0,m.createCSS("body .pixi-break-overflow","overflow : visible !important;"));for(var i=m.getDocument(e).body,a=e.parentNode;a&&a!==i&&a!==i.parentNode;){var o="hidden"===m.getPropertyValue(a,"overflow"),r=!1;(a.className||"").match(/pmMarkerContainer/)||o&&(t.width&&m.gbcr(a).width<t.width&&(r=!0),t.height&&m.gbcr(a).height<t.height&&(r=!0),r?m.addClass(a,"pixi-break-overflow"):m.removeClass(a,"pixi-break-overflow")),a=a.parentNode}},coolDown:function(e,t){"function"==typeof e&&(t=e,e={});var i,a,o=e.interval||20,r=e.interval||21,n=e.duration||2e3,s=new Date,l=!1,d=0,c=function(){return l?void 0:(clearTimeout(i),clearInterval(a),l=!0,t())};i=setTimeout(c,n),a=setInterval(function(){var e=new Date;return d++,e.getTime()-s.getTime()<=r?c():void(s=e)},o)},querySelector:function(e,t){if(t=t||m.d,t.querySelector)return t.querySelector(e);var i=m.querySelectorAll(e);return i&&i.length?i[0]:null},querySelectorAll:function(e,t){if(t=t||m.d,t.querySelectorAll)return t.querySelectorAll(e);var i,a=t.createElement("style"),o=[];for(t.documentElement.firstChild.appendChild(a),t._qsa=[],a.styleSheet.cssText=e+"{x-qsa:expression(document._qsa && document._qsa.push(this))}",window.scrollBy(0,0),a.parentNode.removeChild(a);t._qsa.length;)i=t._qsa.shift(),i.style.removeAttribute("x-qsa"),o.push(i);return t._qsa=null,o},getPageContainerHints:function v(){var e;if(v.cache)return v.cache;try{var t=m.getWindow(m.d);if(t.pmPageContainerHints)e=t.pmPageContainerHints;else{var i=m.w.localStorage.getItem("pmCustomFields");if(i){var a=JSON.parse(i);a.pageContainerHints&&(e=a.pageContainerHints)}}}catch(o){}if(!e&&m.w.piximedia&&m.w.piximedia._&&m.w.piximedia._.pams)for(var r in m.w.piximedia._.pams)if(m.w.piximedia._.pams.hasOwnProperty(r)){var n=m.w.piximedia._.pams[r];if(n&&n.globalOptions&&n.globalOptions.pageContainerHints){e=n.globalOptions.pageContainerHints;break}}if(e){for(var s in e)e.hasOwnProperty(s)&&null===e[s]&&delete e[s];return v.cache=e,e}},getPageContainerWidth:function(e,t){if(e||(e=m.getPageContainer()),!e)return!1;t=t||{};var i=t.hints||m.getPageContainerHints()||{};if(void 0!==e.pmPCWidth&&("object"!=typeof i.width||!i.width.query))return e.pmPCWidth;var a;if("object"==typeof i.width){var o=m.querySelector(i.width.query);o?a=m.gbcr(o).width:void 0!==i.width.defaults&&(a=parseFloat(i.width.defaults,10))}void 0===a&&"object"!=typeof i.width&&(a=void 0!==i.width?parseFloat(i.width,10):void 0);var r=m.getAllFlowedSiblings(e);if(void 0===a){a=m.gbcr(e).width;for(var n=0,s=0;s<r.length;s++){var l=r[s],c=m.gbcr(l).width,p=parseFloat(m.getPropertyValue(l,"padding-left"),10),u=parseFloat(m.getPropertyValue(l,"padding-right"),10);c=c-(isNaN(p)?0:p)-(isNaN(u)?0:u),n=a+d>c?Math.max(n,Math.min(a+d,c)):(980===c||990===c||1e3===c||1200===c)&&a+5*d>c?Math.max(n,Math.min(a+5*d,c)):Math.max(n,a)}n>a&&(a=n)}return e.pmPCWidth=a,a},loadPageContainer:function g(e,t){"function"!=typeof e||t||(t=e,e={}),e=e||{};var i=e.hints||m.getPageContainerHints()||{},a=e.document||m.d;a.pmPagecontainerHints||(a.pmPagecontainerHints=i);var o=function(e){for(var o=m.getPageContainerWidth(e),r=m.getAllFlowedSiblings(e),n=0,s=0;s<r.length;s++){var l=m.gbcr(r[s]);l.height&&(n+=l.height)}for(var d=0,c=0;c<r.length;c++){var p=r[c];if(!m.isWidthInPercentage(p)){var u=m.gbcr(p);d+=u.height,!i.width&&u.width>o&&u.height&&.3*n>d&&(o=u.width)}}a.pmPageContainerSL=e;try{var h=m.getWindow(a);if(h.localStorage&&h.localStorage.getItem&&h.localStorage.setItem&&a.querySelectorAll){e.pmRandom=Math.random().toString();var f,v=h.localStorage.getItem("pmpccache"),b=h.localStorage.getItem("pmpccache_stats"),y=b?JSON.parse(b):{creation_date:Date.now(),counters:{}};if(v){var w=!1,x=JSON.parse(v)||{};if(x){if(Date.now()-x.date<864e5){var I=a.querySelector(x.query);w=I&&I.pmRandom===e.pmRandom}f=w?"match":"did-not-match"}else f="too-old"}else f="not-in-cache";f&&(h.piximedia&&h.piximedia.pam&&f!==g.lastStatus&&(g.lastStatus=f,i.sendJSPCCache&&h.piximedia.pam.loadEvent("JS:PC_CACHE",void 0,void 0,{detail:f})),y.counters[f]=(y.counters[f]||0)+1);var S=e.tagName;e.id&&!e.id.match(/^pm/)&&(S+="#"+e.id),e.className&&(S+="."+e.className.split(/\\s+/).join("."));var k=a.querySelectorAll(S);if(1===k.length){var P=k[0];P.pmRandom===e.pmRandom&&h.localStorage.setItem("pmpccache",JSON.stringify({date:Date.now(),version:1,query:S}))}h.localStorage.setItem("pmpccache_stats",JSON.stringify(y))}}catch(C){}return t(e,{\nwidth:o})},r=function(e){e=e||{};var r=m.getPageContainer(a,{lastChance:e.lastChance});switch(i.heuristics){case"above":for(var n,s,l=0;a.body.children&&a.body.children.length&&l<a.body.children.length;l++){var d=a.body.children[l],c=m.gbcrfp(d);m.innerHTML(d).length>100&&c.height>1&&c.top>=0&&(void 0===n||c.top<n)&&(n=c.top,s=d)}return a.pmPageContainerSL=s,s.pmPCWidth=m.getPageContainerWidth(r),s.pmPCHintedAbove=!0,t(s,{width:s.pmPCWidth});case"below":return o(r);default:return o(r)}};m.contentload(function(){if(i.query){var e=!1;m.domload(function(){setTimeout(function(){e=!0},2e3)},a);var t=function(){var n=m.querySelector(i.query,a);return n?o(n):e?r({lastChance:!0}):setTimeout(t,50)};t()}else m.domload(function(){return r()},a)})},innerHTML:function(e){try{return e.innerHTML}catch(t){try{return e.innerText}catch(i){return""}}},getOverflowYScroll:function(e){for(var t=0;e&&"HTML"!==e.tagName&&50>t;e=e.parentNode,t++)if("scroll"===m.getPropertyValue(e,"overflow-y"))return e;return void 0},getPageContainer:function(e,t){t=t||{},e=e||m.d;var i=e.pmPagecontainerHints||m.getPageContainerHints()||{};if(i.query){var a=m.querySelector(i.query,e);if(!t.lastChance||a)return a}if(e.pmPageContainerSL&&m.isInDOM(e.pmPageContainerSL))return e.pmPageContainerSL;for(var o,r,n=m.innerHTML,s=n(e.body).length,l=0,d=0,c=e.getElementsByTagName("script"),p=0;p<c.length;p++)try{d+=n(c[p]).length}catch(u){}s=n(e.body).length;var h,f=0,v=m.getViewportSize()[0],g=m.gbcr(e.body),b=function(e){var t,i=e.clientWidth,a=e.clientHeight,o=m.gbcrfp(e);return o&&(t=o.top),t>=0&&2>t&&a>0&&i>0&&100>a&&((e.id||"").toString().match(/cookie/i)||(e.className||"").match(/cookie/i)||(n(e)||"").match(/cookie/i))?("absolute"!==e.style.position&&"fixed"!==e.style.position&&(f=((o||{}).top||0)+a),!0):void 0},y=function(e,t){var i=e.clientWidth;t=t||m.getAllFlowedSiblings(e);for(var a=0,o=0;o<t.length;o++)a+=m.gbcr(t[o]).height;if(i===v){var r=h(e);if(r){var n=m.gbcr(r);if(n.width&&n.width<i)return r===e?e:y(r)}}var s=m.gbcrfp(t[0]);if(m.isWidthInPercentage(e))for(var l=0;l<t.length;l++){var d=m.gbcrfp(t[l]);if(d.top-s.top<500&&d.height>10){var c=h(t[l]);return c?c===e?e:y(c):t[l]===e?e:y(t[l])}}return e};h=function(e){for(var t=0;e.children&&e.children.length&&t<e.children.length;t++){var i=e.children[t];if(!b(i)){for(var a=0;a<m.blockContentTagNames.length;a++)if(i.tagName===m.blockContentTagNames[a]){var c,p=i.clientWidth,u=m.gbcrfp(i);if(u&&(c=u.top),l++,0!==i.id.toString().search("pm")&&p>=Math.min(.5*g.width,890)&&u.height>0&&"fixed"!==i.style.position&&m.isVisible(i)&&i.children&&i.children.length>0){for(var v=m.getAllFlowedSiblings(i,{lookupParent:!1}),w=0,x=0;x<v.length;x++)w+=m.gbcr(v[x]).height;if(w>400){for(var I=0,S=0;S<v.length;S++)I+=n(v[S]).length;if(I>.05*(s-d)){if(!(f>=c)||m.getOverflowYScroll(i))return y(i,v);var k=h(i);if(k)return k;o=k||i}else o||(o=i),c>0&&!r&&(r=i)}}break}if(i.children&&i.children.length){var P=h(i);if(P)return P}}}};var w=h(e.body);return!w&&r&&(w=r),!w&&o&&(w=o),!w&&5>l&&(w=e.body),e.pmPageContainerSL=w,w},addOverlay:function(e){var t={root:m.d.body,fade:!1,timeout:0,onclick:null,before:!0,css:{width:"200%",height:"200%",background:"#000",opacity:.6,position:"fixed",top:"-50%",left:"-50%",display:"none",zIndex:2147483392}};e||(e={}),m.extend(e,t),e.onclick&&(e.css.cursor="pointer");var i,a=m.getDocument(e.root).createElement("div");m.applyStyle(a,e.css),e.insertBefore?e.insertBefore.parentNode.insertBefore(a,e.insertBefore):e.before?e.root.insertBefore(a,e.root.firstChild):e.root.appendChild(a),e.onclick&&m.addEvent(a,"click",e.onclick);var o=function(){e.fade&&m.applyStyle(a,{display:"block",opacity:0}),i=setTimeout(function(){e.fade?m.animate(a,{opacity:e.css.opacity}).play():m.applyStyle(a,{display:"block"})},e.timeout)},r=function(){clearTimeout(i),e.fade?m.animate(a,{opacity:0,oncompleted:function(){m.applyStyle(a,{display:"none"})}}).play():m.applyStyle(a,{display:"none"})},n=function(){r(),setTimeout(function(){a.parentNode.removeChild(a)},500)};return{show:o,hide:r,clear:n}},makeUnderlay:function(e,t){e=e||{};var i=e.opacityDuration||250,a=top.document,o=a.createElement("div");o.id="pmUnderlay",o.className="pmUnderlay",o.style.position="fixed",t&&(o.style.cursor="pointer"),o.style.background="#222",o.style.border="3px solid #555",o.style.left=0,o.style.top=0,o.style.width="100%",o.style.height="100%",o.style.zIndex=s,o.style.opacity=0,m.addEvent(o,"click",t),a.body.appendChild(o);var r=m.animate(o,{duration:i,opacity:1});return r.play(),{remove:function(e){e=e||{},void 0!==e.duration&&(r.duration=e.duration),r.reverse(function(){o.parentNode.removeChild(o)})}}},getScrollbarWidth:function b(e){if(!e&&void 0!==b.cache)return b.cache;var t=(e||m.d.body).ownerDocument.createElement("div");t.style.width="100px",t.style.height="100px",t.style.overflow="scroll",t.style.position="absolute",t.style.top="-9999px",t.style.margin="0",t.style.padding="0",(e||m.d.body).appendChild(t);var i=t.offsetWidth-t.clientWidth;return(e||m.d.body).removeChild(t),e||(b.cache=i),i},makeClose:function(e,t){e=e||{};var i=e.opacityDuration||250,a=top.document,o=a.createElement("div");o.style.position=e.position||"fixed",o.style.background="#555",o.style.border="3px solid #555",o.style.padding=e.padding,o.style.left=0,o.style.fontSize="18pt",o.style.color="white",o.style.top=e.top||0,o.style.cursor="pointer",o.style.textDecoration=e.textDecoration,o.innerHTML=e.text||"X",o.style.zIndex=m.LAYER_CLOSE,o.style.boxShadow="grey 2px 0px 10px",o.style.opacity=0,m.addEvent(o,"click",t),o.style.transition="all "+i/1e3+"s",a.body.appendChild(o);var r=m.animate(o,{duration:i,opacity:1});return r.play(),{element:o,remove:function(e){e=e||{},void 0!==e.duration&&(r.duration=e.duration),r.reverse(function(){o.parentNode.removeChild(o)})}}},moveCreative:function(e){var t,i=e.wrapper,a={},o=function(e,t){a[e]=i.style[e],i.style[e]=t},r=!1,n=!1,s=!1,l=1;return{move:function(n){if(!r){r=!0;var d=m.gbcr(i).height;if(i.style.display="none",i.parentNode.style.height=d+"px",o("position","fixed"),o("zIndex",2147483647),e.destination&&"footer"!==e.destination){if("companion"===e.destination&&"desktop"===m.getDevice().name){switch(e.companionPosition){case"top-right":o("bottom","auto"),o("top",-1*d+"px"),o("left","auto"),o("right","200px");break;case"top-left":o("bottom","auto"),o("top",-1*d+"px"),o("left","200px"),o("right","auto");break;case"bottom-left":o("left","200px"),o("right","auto"),o("bottom",m.getViewportSize()[1]+"px"),o("top","auto");break;default:o("left","auto"),o("right","200px"),o("bottom",m.getViewportSize()[1]+"px"),o("top","auto")}var c=function(){var t=300*l>300?300:300*l;i.style.maxWidth=t+"px",e.enforceCompanionRatio&&(i.style.maxHeight=t/e.enforceCompanionRatio+"px",i.contentWindow&&i.contentWindow.document.querySelector("#standard-wrapper")&&(i.contentWindow.document.querySelector("#standard-wrapper").style.maxWidth=t+"px",i.contentWindow.document.querySelector("#standard-wrapper").style.maxHeight=t/e.enforceCompanionRatio+"px"))},p=function(){var t=m.getViewportSize()[0],i=m.getPageContainerWidth()||1e3,a=(t-i)/2;s=300>a&&a>300*e.dontCoverPC.minimumScaleRatio?!1:a>300?!1:!0,s||(l=a/300,c())};t=function(){p(),s?(i.style.position="relative",i.style.maxWidth="none",i.style.maxHeight="none",i.contentWindow&&i.contentWindow.document.querySelector("#standard-wrapper")&&(i.contentWindow.document.querySelector("#standard-wrapper").style.maxWidth="none",i.contentWindow.document.querySelector("#standard-wrapper").style.maxHeight="none")):i.style.position="fixed"},e.dontCoverPC&&m.w.addEventListener("resize",t),p(),s&&(i.style.position="relative")}}else o("top","auto"),o("bottom",-1*d+"px"),o("left","0"),o("right","auto"),e.background&&i.contentWindow&&i.contentWindow.document&&i.contentWindow.document.body&&(o("width","100vw"),i.contentWindow.document.querySelector("html").style.background=e.background.color||"#FFF",i.contentWindow.document.body.style.width=a.width,i.contentWindow.document.body.style.margin="0 auto");setTimeout(function(){if(i.style.display="block","companion"===e.destination)switch(e.companionPosition){case"top-right":m.animate(i,{top:"15px",right:"15px",duration:400}).play();break;case"top-left":m.animate(i,{top:"15px",left:"15px"}).play();break;case"bottom-left":m.animate(i,{bottom:"2px",left:"20px"}).play();break;default:m.animate(i,{bottom:"2px",right:"20px"}).play()}else m.animate(i,{bottom:"0px"}).play();setTimeout(function(){r=!1,n&&m.call(n)},0)},0)}},reset:function(o){n||(n=!0,i.style.display="none",setTimeout(function(){m.w.removeEventListener("resize",t),setTimeout(function(){i.style.display="block",i.style.maxWidth="none",i.style.maxHeight="none",m.each(a,function(e){i.style[e]=a[e]}),o&&m.call(o),i.contentWindow&&i.contentWindow.document.querySelector("#standard-wrapper")&&(i.contentWindow.document.querySelector("#standard-wrapper").style.maxWidth="none",i.contentWindow.document.querySelector("#standard-wrapper").style.maxHeight="none"),"companion"===e.destination&&m.fireEvent("force-ui-refresh"),n=!1},0)},0))}}},enableResponsiveEventsForPageContainer:function(e,t){var i=m.getPageContainerHints()||{},a=m.gbcr(e).width;if("object"==typeof i.width&&i.width.query){var o=function(){var a=m.querySelector(i.width.query);return a?void setInterval(function(){for(var i=m.gbcr(e).width,o=e.pmNodesWithHardenedWidth||[],r=[],n=0;n<o.length;n++){var s=o[n];r[n]={width:s.style.width,maxWidth:s.style.maxWidth},s.style.width="",s.style.maxWidth=""}for(var l=m.gbcr(a).width,d=0;d<o.length;d++){var c=o[d];c.style.width=r[d].width,c.style.maxWidth=r[d].maxWidth}if(l!==i){m.hardenWidthOfPageContainer(e,l);var p={pageContainerWidth:l};t(p)}},500):setTimeout(o,100)};o()}m.onResize(e,function(){e.ownerDocument.body.className.match(/pmBodyAnimation/)||m.loadPageContainer({document:e.ownerDocument},function(e,i){var o=i.width;if(!(Math.abs(a-o)<.5)){a=o;var r={pageContainerWidth:o};t(r)}})})},eachSeries:function(e,t,i){e=e||[],i=i||function(){};var a=0,o=function(){a>=e.length?i():t(e[a],function(){a++,setTimeout(function(){o()},0)})};o()},standUp:function(e,t){if(!e)return{hideWrapper:function(){},showWrapper:function(){},disableExpand:function(){},enabledExpand:function(){}};var i,a,o,r,n={},s=!0,l=!0,d=m.gbcr(e).height;if(a="IFRAME"===e.tagName?e.contentDocument:e,a.querySelector("video")&&(o=a.querySelector("video")),n.hideWrapper=function(){s=!1,o&&o.pause(),m.animate(e,{bottom:-1*d,duration:700,oncompleted:function(){s=!0}}).play()},n.showWrapper=function(){s=!1,m.animate(e,{bottom:0,duration:700,oncompleted:function(){s=!0}}).play()},n.disableExpand=function(){l=!1},n.enabledExpand=function(){l||(r=!0,l=!0)},"scroll"===t){var c;i=function(){var e=m.getPageScroll()[1];c||(c=e),r&&(c=e,r=!1),e>c+10&&e>0&&s?(n.hideWrapper(),c=e):c-10>e&&s&&l&&(n.showWrapper(),c=e)},m.addEvent(m.d.body,"scroll",i),m.addEvent(m.w,"scroll",i)}return n},minimizePageToCompanion:function(e,t){m.stopMinimizePageToCompanion(),e=e||{};var i=e.width||300,a=e.height||250,o=e.marginRight||40,r=e.animationDuration||1,n=e.backgroundColor||"white",s=e.doc||m.d;m.bodyScrollBackup=m.getPageScroll()[1],m.animate(s.body,{duration:200,scrollTop:0,forcejs:!0}).play(function(){var e=m._minimizePageToCompanionStyle;e||(e=m._minimizePageToCompanionStyle=s.createElement("style"),s.body.appendChild(e));var l=m.getPageContainer(s,{lastChance:!0}),d=[],c=m.getPageContainerWidth(l),p=function(){var l=m.getViewportSize(),p=l[0],u=l[1],h=s.getElementById("pmFiller"),f=m.gbcr(h),v=f.top,g=h?parseFloat(h.style.height,0):0;if(d[0]!==l[0]||d[1]!==l[1]){d=l;var b=i/c,y=(1-b)/b,w="body > *:not(.pm-do-not-minimize-to-companion) { transition: transform "+r+"s, opacity "+r+"s } \\nbody.pm-minimize-page { perspective: 100px; overflow : hidden; } \\nbody.pm-minimize-page.pm-minimize-page-small > *:not(.pm-do-not-minimize-to-companion) { opacity: 0; } \\nbody.pm-minimize-page > *:not(.pm-do-not-minimize-to-companion):not(script) { overflow : hidden; display : block !important; position: relative !important; margin: 0 auto !important; background: "+n+"; max-width: "+c+"px !important; }body.pm-minimize-page #pmFiller { height : 0px !important; }";c>=p?m.addClass(s.body,"pm-minimize-page-small"):m.removeClass(s.body,"pm-minimize-page-small"),g=0,v=0;var x=(p-c)/2/y+p,I=v?(-v+(u-a)/b)/y:(-g+(u-a)/b)/y;w+="body.pm-minimize-page-animation > *:not(.pm-do-not-minimize-to-companion) { transform: translateZ(-"+100*y+"px) translateX("+-o/b+"px) translateY("+v+"px); }\\nbody { perspective-origin: "+x+"px "+I+"px; }",m.minimizeTranslateZ=100*y,e.innerHTML=w,t&&(setTimeout(t,1e3*r),t=void 0)}};m.addClass(s.body,"pm-minimize-page pm-minimize-page-animation"),m._minimizePageToCompanionInterval=setInterval(p,50)})},stopMinimizePageToCompanion:function(e){if(m._minimizePageToCompanionInterval){e=e||{};var t=e.doc||m.d;m.minimizeTranslateZ=!1,clearInterval(m._minimizePageToCompanionInterval),m._minimizePageToCompanionInterval=void 0,m.removeClass(t.body,"pm-minimize-page-animation",function(){m.removeClass(t.body,"pm-minimize-page"),m.bodyScrollBackup&&setTimeout(function(){m.animate(t.body,{duration:200,scrollTop:m.bodyScrollBackup,forcejs:!0}).play(),m.bodyScrollBackup=!1},500)})}}};e.piximedia.PAM&&e.piximedia.PAM.on("ad.inject",function(e,t,i){i.pam.loadCSSInDocument("piximedia.style.20161402.css",e,function(){e.pixiCSSLoaded=!0})}),m.VERSION=i,m.LAYER_CLOSE=o,m.LAYER_HIGHEST=r,m.LAYER_ALPHA=n,m.LAYER_UNDERLAY=s,e.piximedia["SweetLib"+i]=m,(!e.piximedia.SweetLib||e.piximedia.SweetLib.VERSION<i)&&(e.piximedia.SweetLib=m,m.start()),e.piximedia.libraryLoader&&e.piximedia.libraryLoader["sweetlib.js"]&&(e.piximedia.libraryLoader["sweetlib.js"].complete=!0)}(),function(){var e=window,t="sweetlib.js";if(e.piximedia){e.piximedia.libraryLoader=e.piximedia.libraryLoader||{};var i=e.piximedia.libraryLoader[t];if(i&&(i.complete=!0,i.onloads))for(var a=0;a<i.onloads.length;a++)i.onloads[a]()}}(),window.piximedia.libraryLoader=window.piximedia.libraryLoader||{},window.piximedia.libraryLoader["sweetlib.js"]=window.piximedia.libraryLoader["sweetlib.js"]||{},window.piximedia.libraryLoader["sweetlib.js"].loaded=!0,function(){"use strict";function e(e){a.console&&a.console.log&&(a.console.log.apply?a.console.log.apply(a.console,arguments):a.console.log(e))}function t(){var e;try{return e=top.document,e.piximediaiframetest=!0,top}catch(t){}try{return e=a.parent.parent.parent.document,e.piximediaiframetest=!0,a.parent.parent.parent.window}catch(t){}try{return e=a.parent.parent.document,e.piximediaiframetest=!0,a.parent.parent.window}catch(t){}try{return e=a.parent.document,e.piximediaiframetest=!0,a.parent.window}catch(t){}return window}var i,a=window,o=function(){};try{i=t(),i&&(i.name||"").match(/pmtimepos/)&&(o=function(e){var i=function(){try{var e,i=t();e=i.performance&&i.performance.timing&&i.performance.timing.responseStart?i.performance.timing.responseStart:new Date;var a=((new Date-e)/1e3).toString();return a.match(/\\..$/)&&(a+="00"),a.match(/\\...$/)&&(a+="0"),"[pam]["+a+"] "}catch(o){return"[pam] "}};window.console.debug(i()+e)})}catch(r){}o("Done loading lib.js"),a.easyXDM&&(a.piximedia.easyXDM=a.easyXDM.noConflict("piximedia")),a.piximedia.Lib={};var n="callbackLib";if(a._piximedia&&a._piximedia[n]){var s=a._piximedia[n];a._piximedia[n]=void 0;for(var l=0;l<s.length;l++){var d=s[l];if(d.window)try{d.window.piximedia=d.window.piximedia||a.piximedia}catch(r){}if(d.windows)for(var c=0;c<d.windows.length;c++){var p=d.windows[c];try{p.piximedia=p.piximedia||a.piximedia}catch(r){}}try{d()}catch(r){e("Error in callback: "+r)}}}if(i&&i._piximedia&&i._piximedia[n])for(var m=i._piximedia[n],u=0;u<m.length;u++){var h=m[u];if(h.window)try{h.window.piximedia=h.window.piximedia||a.piximedia}catch(r){}if(h.windows)for(var f=0;f<h.windows.length;f++){var v=h.windows[f];try{v.piximedia=v.piximedia||a.piximedia}catch(r){}}try{h()}catch(r){e("Error in callback: "+r)}}}();',r=e(),n=r.document.getElementById("pmFiFLoader");
if(n)t=n.contentWindow,i=t.document;else{var s=r.document,l=s.getElementsByTagName("head")[0];n=s.createElement("iframe"),n.id="pmFiFLoader";var d=s.createElement("iframe"),c=s.createElement("iframe");d.id="pmFiFLoader_protect_before",c.id="pmFiFLoader_protect_after",d.className="this_should_be_empty web_designer",c.className="this_should_be_empty web_designer",l.appendChild(d),l.appendChild(n),l.appendChild(c);try{t=n.contentWindow,i=t.document}catch(p){try{var m=e(),u=m.document;n.src="javascript:document.write('<head><script>document.domain=\""+u.domain+"\";</script></head><body></body>')",t=n.contentWindow,i=t.document}catch(p){n.src="javascript:document.write('<head><script>document.domain=\""+n.ownerDocument.domain+"\";</script></head><body></body>')",t=n.contentWindow,i=t.document}}i.write("<html><head></head><body><script>setTimeout(function(){document.close();},0);</script></body></html>"),n.contentWindow._piximediaIsFiFLoader=!0,n.contentWindow._piximedia=a._piximedia}var h=i.createElement("script");h.appendChild(i.createTextNode(o)),i.body.appendChild(h)}();